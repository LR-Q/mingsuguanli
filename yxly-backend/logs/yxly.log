2025-10-24 21:26:29.126 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 6236 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 21:26:29.133 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 21:26:29.134 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 21:26:29.183 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-24 21:26:29.184 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-24 21:26:29.797 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 21:26:29.799 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 21:26:29.822 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-24 21:26:30.602 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 21:26:30.610 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 21:26:30.611 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 21:26:30.676 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 21:26:30.677 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1493 ms
2025-10-24 21:26:30.749 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 21:26:31.199 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-24 21:26:31.506 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 21:26:31.962 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 21:26:31.963 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 21:26:31.963 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 21:26:31.963 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 21:26:31.963 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 21:26:31.963 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 21:26:31.963 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 21:26:31.963 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 21:26:31.965 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 21:26:31.965 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 21:26:31.965 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 21:26:31.965 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 21:26:31.965 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 21:26:31.965 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 21:26:31.965 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 21:26:31.965 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 21:26:31.966 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 21:26:31.966 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 21:26:31.966 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 21:26:31.966 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 21:26:31.966 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 21:26:31.966 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 21:26:31.966 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 21:26:31.966 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 21:26:31.972 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a252da, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2295c195, org.springframework.security.web.context.SecurityContextPersistenceFilter@457bd36b, org.springframework.security.web.header.HeaderWriterFilter@6d80ce0b, org.springframework.web.filter.CorsFilter@7ce66dd3, org.springframework.security.web.authentication.logout.LogoutFilter@2d4a9e6e, com.yxly.security.JwtAuthenticationFilter@4694aa5c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14d7da8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@622301a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e78f6e8, org.springframework.security.web.session.SessionManagementFilter@3494e147, org.springframework.security.web.access.ExceptionTranslationFilter@7f7be05c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d8968de]
2025-10-24 21:26:32.667 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 21:26:32.713 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 21:26:32.724 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.943 seconds (JVM running for 4.358)
2025-10-24 21:31:48.110 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24 21:31:48.111 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-24 21:31:48.111 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-24 21:31:48.121 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 21:31:48.123 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:31:48.164 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:31:48.271 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 21:31:48.272 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 21:31:48.283 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 21:31:48.289 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 21:31:48.297 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 21:31:48.351 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:12.000 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 21:35:12.000 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:12.004 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:12.016 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 21:35:12.016 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 21:35:12.018 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 21:35:12.018 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 21:35:12.023 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 21:35:12.024 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:12.042 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-24 21:35:12.042 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:12.046 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:12.054 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-24 21:35:12.055 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-24 21:35:12.055 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-24 21:35:12.060 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-24 21:35:12.077 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:12.188 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-24 21:35:12.188 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:12.192 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:12.197 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-24 21:35:12.198 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-24 21:35:12.206 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:35:12.206 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:35:12.266 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:35:12.273 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:12.285 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:35:12.285 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:12.292 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:12.297 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:35:12.297 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:35:12.389 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:20.390 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:35:20.390 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:20.394 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:20.397 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=9] with attributes [permitAll]
2025-10-24 21:35:20.398 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:35:20.399 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:35:20.400 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:35:20.406 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:35:20.409 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:20.415 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:35:20.415 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:20.418 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:20.421 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:35:20.422 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:35:20.438 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:25.842 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:35:25.842 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:25.846 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:25.852 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=2] with attributes [permitAll]
2025-10-24 21:35:25.852 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:35:25.852 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:35:25.853 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:35:25.866 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:35:25.869 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:26.085 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:35:26.086 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:26.089 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:26.093 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:35:26.093 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:35:26.107 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:47.034 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:35:47.034 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:47.036 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:47.041 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=2] with attributes [permitAll]
2025-10-24 21:35:47.041 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:35:47.042 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:35:47.042 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:35:47.049 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:35:47.051 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:35:47.369 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:35:47.369 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:35:47.372 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:35:47.377 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:35:47.378 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:35:47.391 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:38:05.617 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-24 21:38:05.633 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-24 21:38:05.634 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-24 21:38:05.655 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-2089608452] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-24 21:38:05.656 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-2089608452] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-24 21:38:05.672 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-24 21:38:05.678 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-24 21:38:05.754 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 6236 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 21:38:05.755 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 21:38:05.755 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 21:38:05.982 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 21:38:05.982 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 21:38:05.995 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-24 21:38:06.158 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 21:38:06.159 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 21:38:06.159 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 21:38:06.185 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 21:38:06.186 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 428 ms
2025-10-24 21:38:06.229 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 21:38:06.369 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-24 21:38:06.486 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 21:38:06.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 21:38:06.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 21:38:06.801 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 21:38:06.801 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 21:38:06.801 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 21:38:06.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 21:38:06.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 21:38:06.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 21:38:06.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 21:38:06.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 21:38:06.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 21:38:06.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 21:38:06.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 21:38:06.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 21:38:06.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 21:38:06.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 21:38:06.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 21:38:06.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 21:38:06.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 21:38:06.804 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 21:38:06.804 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 21:38:06.804 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 21:38:06.805 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 21:38:06.805 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 21:38:06.809 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c041d50, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47ea6d98, org.springframework.security.web.context.SecurityContextPersistenceFilter@6eca3afa, org.springframework.security.web.header.HeaderWriterFilter@55f431c8, org.springframework.web.filter.CorsFilter@777b7ff3, org.springframework.security.web.authentication.logout.LogoutFilter@18ed3342, com.yxly.security.JwtAuthenticationFilter@7fd9f34c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c6966e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@586768d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@665f7377, org.springframework.security.web.session.SessionManagementFilter@64b37c93, org.springframework.security.web.access.ExceptionTranslationFilter@52a20877, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b0b57dc]
2025-10-24 21:38:07.048 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 21:38:07.081 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 21:38:07.085 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.359 seconds (JVM running for 698.718)
2025-10-24 21:38:07.086 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-24 21:38:22.096 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-24 21:38:22.111 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-24 21:38:22.113 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1221345053] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-24 21:38:22.113 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1221345053] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-24 21:38:22.119 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-24 21:38:22.122 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-24 21:38:22.198 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 6236 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 21:38:22.198 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 21:38:22.198 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 21:38:22.387 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 21:38:22.388 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 21:38:22.397 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-24 21:38:22.510 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 21:38:22.512 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 21:38:22.512 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 21:38:22.533 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 21:38:22.533 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 334 ms
2025-10-24 21:38:22.575 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 21:38:22.687 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-24 21:38:22.772 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 21:38:23.051 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 21:38:23.052 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 21:38:23.052 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 21:38:23.052 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 21:38:23.052 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 21:38:23.053 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 21:38:23.053 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 21:38:23.053 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 21:38:23.053 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 21:38:23.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 21:38:23.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 21:38:23.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 21:38:23.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 21:38:23.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 21:38:23.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 21:38:23.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 21:38:23.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 21:38:23.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 21:38:23.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 21:38:23.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 21:38:23.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 21:38:23.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 21:38:23.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 21:38:23.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 21:38:23.058 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19ad2af3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@897ddbf, org.springframework.security.web.context.SecurityContextPersistenceFilter@726fce55, org.springframework.security.web.header.HeaderWriterFilter@49133bc, org.springframework.web.filter.CorsFilter@1790e4da, org.springframework.security.web.authentication.logout.LogoutFilter@16283e5b, com.yxly.security.JwtAuthenticationFilter@7fff5f20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f7a6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d5ea50f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71842978, org.springframework.security.web.session.SessionManagementFilter@35245a89, org.springframework.security.web.access.ExceptionTranslationFilter@6742b01b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c5d45fd]
2025-10-24 21:38:23.362 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 21:38:23.384 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 21:38:23.388 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.219 seconds (JVM running for 715.022)
2025-10-24 21:38:23.389 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-24 21:38:51.924 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-24 21:38:51.943 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-24 21:38:51.946 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1785205812] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-24 21:38:51.946 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1785205812] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-24 21:38:51.952 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-24 21:38:51.955 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-24 21:38:52.037 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 6236 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 21:38:52.038 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 21:38:52.038 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 21:38:52.282 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 21:38:52.283 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 21:38:52.297 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-24 21:38:52.442 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 21:38:52.442 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 21:38:52.443 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 21:38:52.469 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 21:38:52.471 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 432 ms
2025-10-24 21:38:52.525 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 21:38:52.664 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-24 21:38:52.767 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 21:38:53.060 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 21:38:53.060 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 21:38:53.061 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 21:38:53.061 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 21:38:53.062 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 21:38:53.062 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 21:38:53.062 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 21:38:53.062 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 21:38:53.064 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 21:38:53.064 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 21:38:53.064 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 21:38:53.064 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 21:38:53.064 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 21:38:53.064 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 21:38:53.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 21:38:53.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 21:38:53.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 21:38:53.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 21:38:53.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 21:38:53.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 21:38:53.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 21:38:53.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 21:38:53.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 21:38:53.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 21:38:53.070 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51a1b0b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@135aaaa8, org.springframework.security.web.context.SecurityContextPersistenceFilter@34d3b48d, org.springframework.security.web.header.HeaderWriterFilter@517d5226, org.springframework.web.filter.CorsFilter@28fb2be8, org.springframework.security.web.authentication.logout.LogoutFilter@41557b29, com.yxly.security.JwtAuthenticationFilter@3393fd69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60d37e8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b84ecd1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24c04540, org.springframework.security.web.session.SessionManagementFilter@600a66ce, org.springframework.security.web.access.ExceptionTranslationFilter@74140810, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c14147b]
2025-10-24 21:38:53.367 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 21:38:53.400 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 21:38:53.405 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.401 seconds (JVM running for 745.039)
2025-10-24 21:38:53.409 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-24 21:43:26.493 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24 21:43:26.494 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-24 21:43:26.494 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-24 21:43:26.495 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=10
2025-10-24 21:43:26.495 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:26.498 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:26.507 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=10] with attributes [permitAll]
2025-10-24 21:43:26.507 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=10
2025-10-24 21:43:26.511 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:43:26.513 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:43:26.523 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:43:26.530 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:26.749 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:43:26.749 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:26.751 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:26.754 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:43:26.754 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:43:26.780 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:27.771 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 21:43:27.771 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-24 21:43:27.771 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:27.771 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:27.773 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:27.774 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:27.777 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 21:43:27.777 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 21:43:27.778 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 21:43:27.780 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-24 21:43:27.780 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-24 21:43:27.782 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-24 21:43:27.783 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 21:43:27.783 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-24 21:43:27.789 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 21:43:27.796 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-24 21:43:27.796 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:27.797 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:27.798 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:27.799 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:27.803 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-24 21:43:27.803 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-24 21:43:27.805 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:43:27.805 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:43:27.818 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:43:27.820 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:27.835 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:43:27.835 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:27.838 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:27.843 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:43:27.843 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:43:27.859 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:29.430 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:43:29.432 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:29.433 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:29.438 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=9] with attributes [permitAll]
2025-10-24 21:43:29.438 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:43:29.438 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:43:29.438 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:43:29.450 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:43:29.452 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:29.460 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:43:29.460 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:29.463 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:29.467 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:43:29.467 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:43:29.486 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:30.165 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:43:30.165 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:30.167 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:30.171 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=9] with attributes [permitAll]
2025-10-24 21:43:30.171 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:43:30.171 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:43:30.171 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:43:30.181 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:43:30.183 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:30.421 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:43:30.421 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:30.425 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:30.427 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:43:30.428 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:43:30.452 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:34.512 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:43:34.512 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:34.515 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:34.517 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=2] with attributes [permitAll]
2025-10-24 21:43:34.518 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:43:34.518 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:43:34.518 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:43:34.525 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:43:34.527 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:34.837 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:43:34.838 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:34.839 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:34.843 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:43:34.844 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:43:34.858 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:35.100 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:43:35.100 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:35.103 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:35.106 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=2] with attributes [permitAll]
2025-10-24 21:43:35.106 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:43:35.107 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:43:35.107 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:43:35.113 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:43:35.116 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:35.287 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:43:35.287 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:43:35.290 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:43:35.293 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:43:35.293 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:43:35.309 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:43:44.810 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-24 21:43:44.813 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-24 21:43:59.297 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21088 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 21:43:59.298 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 21:43:59.298 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 21:43:59.340 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-24 21:43:59.340 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-24 21:43:59.968 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 21:43:59.972 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 21:44:00.004 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-10-24 21:44:00.694 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 21:44:00.702 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 21:44:00.702 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 21:44:00.777 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 21:44:00.777 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1437 ms
2025-10-24 21:44:00.856 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 21:44:01.219 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-24 21:44:01.506 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 21:44:01.989 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 21:44:01.989 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 21:44:01.990 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 21:44:01.990 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 21:44:01.990 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 21:44:01.990 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 21:44:01.990 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 21:44:01.990 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 21:44:01.990 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 21:44:01.990 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 21:44:01.991 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 21:44:01.991 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 21:44:01.992 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 21:44:01.992 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 21:44:01.992 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 21:44:01.992 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 21:44:01.993 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 21:44:01.993 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 21:44:01.993 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 21:44:01.993 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 21:44:01.993 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 21:44:01.993 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 21:44:01.993 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 21:44:01.994 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 21:44:01.999 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@604cea5a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4813d6db, org.springframework.security.web.context.SecurityContextPersistenceFilter@75aa1b16, org.springframework.security.web.header.HeaderWriterFilter@58be1acb, org.springframework.web.filter.CorsFilter@75635237, org.springframework.security.web.authentication.logout.LogoutFilter@73770153, com.yxly.security.JwtAuthenticationFilter@340894ce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c02fac8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f71db02, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29e0671, org.springframework.security.web.session.SessionManagementFilter@5f6d334a, org.springframework.security.web.access.ExceptionTranslationFilter@46cb320d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@166cbb06]
2025-10-24 21:44:02.675 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 21:44:02.721 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 21:44:02.730 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.759 seconds (JVM running for 4.08)
2025-10-24 21:44:17.189 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24 21:44:17.189 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-24 21:44:17.190 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-24 21:44:17.202 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 21:44:17.206 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:17.260 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:17.364 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 21:44:17.364 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 21:44:17.375 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 21:44:17.381 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 21:44:17.392 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 21:44:17.460 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:20.539 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 21:44:20.539 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-24 21:44:20.540 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-24 21:44:20.540 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:20.540 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:20.540 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:20.545 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:20.545 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:20.546 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:20.553 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-24 21:44:20.554 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-24 21:44:20.554 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-24 21:44:20.554 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 21:44:20.554 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-24 21:44:20.554 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 21:44:20.554 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-24 21:44:20.554 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 21:44:20.554 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 21:44:20.560 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-24 21:44:20.567 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 21:44:20.569 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, locationId=null, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:20.569 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=null, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:20.569 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:20.584 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:20.650 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:44:20.655 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:20.669 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:44:20.669 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:20.676 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:20.681 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:44:20.681 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:44:20.770 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:22.483 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:44:22.485 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:22.487 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:22.492 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=9] with attributes [permitAll]
2025-10-24 21:44:22.492 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:44:22.494 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=9, checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:44:22.494 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=9, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:22.501 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=2, records=2
2025-10-24 21:44:22.504 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:22.510 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:44:22.511 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:22.513 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:22.516 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:44:22.518 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:44:22.527 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:23.326 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:44:23.327 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:23.329 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:23.334 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=9] with attributes [permitAll]
2025-10-24 21:44:23.334 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:44:23.335 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=9, checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:44:23.335 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=9, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:23.344 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=2, records=2
2025-10-24 21:44:23.345 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:23.569 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:44:23.569 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:23.572 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:23.575 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:44:23.575 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:44:23.584 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:25.938 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:44:25.938 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:25.940 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:25.944 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=2] with attributes [permitAll]
2025-10-24 21:44:25.944 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:44:25.945 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=2, checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:44:25.945 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=2, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:25.952 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=4, records=4
2025-10-24 21:44:25.954 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:26.269 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:44:26.269 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:26.274 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:26.280 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:44:26.280 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:44:26.306 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:26.574 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:44:26.575 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:26.577 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:26.583 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=2] with attributes [permitAll]
2025-10-24 21:44:26.583 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=2
2025-10-24 21:44:26.584 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=2, checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:44:26.584 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=2, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:26.594 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=4, records=4
2025-10-24 21:44:26.597 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:26.909 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:44:26.909 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:26.911 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:26.916 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:44:26.916 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:44:26.929 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:30.151 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=10
2025-10-24 21:44:30.151 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:30.153 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:30.156 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=10] with attributes [permitAll]
2025-10-24 21:44:30.158 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=10
2025-10-24 21:44:30.158 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=10, checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:44:30.158 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=10, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:30.161 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=0, records=0
2025-10-24 21:44:30.164 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:31.348 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=10
2025-10-24 21:44:31.348 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:31.351 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:31.356 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=10] with attributes [permitAll]
2025-10-24 21:44:31.356 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=10
2025-10-24 21:44:31.358 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=10, checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:44:31.358 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=10, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:31.364 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=0, records=0
2025-10-24 21:44:31.365 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:33.116 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:44:33.116 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:33.117 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:33.121 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=9] with attributes [permitAll]
2025-10-24 21:44:33.121 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:44:33.122 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=9, checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:44:33.122 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=9, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:33.128 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=2, records=2
2025-10-24 21:44:33.130 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:33.445 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:44:33.445 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:33.448 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:33.452 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:44:33.453 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:44:33.463 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:33.704 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:44:33.704 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:33.706 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:33.711 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&locationId=9] with attributes [permitAll]
2025-10-24 21:44:33.711 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&locationId=9
2025-10-24 21:44:33.711 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=9, checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:44:33.711 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=9, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:33.718 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=2, records=2
2025-10-24 21:44:33.719 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:33.994 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:44:33.995 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:34.000 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:34.006 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:44:34.006 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:44:34.017 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:40.004 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6
2025-10-24 21:44:40.004 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:40.006 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:40.010 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6] with attributes [permitAll]
2025-10-24 21:44:40.010 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6
2025-10-24 21:44:40.011 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=null, checkIn=null, checkOut=null, guests=null, roomTypeId=null
2025-10-24 21:44:40.011 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=null, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:40.018 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 21:44:40.019 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:40.335 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:44:40.335 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:40.338 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:40.341 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:44:40.341 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:44:40.358 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:55.554 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/search?current=1&size=6&roomTypeId=1
2025-10-24 21:44:55.554 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:55.556 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:55.560 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/search?current=1&size=6&roomTypeId=1] with attributes [permitAll]
2025-10-24 21:44:55.560 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/search?current=1&size=6&roomTypeId=1
2025-10-24 21:44:55.561 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户搜索房间: locationId=null, checkIn=null, checkOut=null, guests=null, roomTypeId=1
2025-10-24 21:44:55.561 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=null, roomTypeId=1, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 21:44:55.569 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=2, records=2
2025-10-24 21:44:55.570 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:44:55.880 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 21:44:55.881 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:44:55.882 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:44:55.885 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 21:44:55.887 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 21:44:55.894 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:45:18.905 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 21:45:18.905 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:45:18.909 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:45:18.911 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 21:45:18.911 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 21:45:18.912 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 21:45:18.912 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 21:45:18.916 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 21:45:18.917 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:45:33.053 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-24 21:45:33.053 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-24 21:45:33.055 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:45:33.053 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-24 21:45:33.055 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:45:33.055 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-24 21:45:33.055 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:45:33.055 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:45:33.056 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:45:33.056 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:45:33.058 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:45:33.058 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:45:33.065 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-24 21:45:33.065 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-24 21:45:33.078 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-24 21:45:33.078 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-24 21:45:33.078 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-24 21:45:33.078 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-24 21:45:33.082 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-24 21:45:33.082 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-24 21:45:33.085 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=29, current=1, size=1000, category=null
2025-10-24 21:45:33.087 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=29, current=1, size=1000, category=null
2025-10-24 21:45:33.089 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=29
2025-10-24 21:45:33.093 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 29, 余额: 0.00
2025-10-24 21:45:33.094 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:45:33.097 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-24 21:45:33.098 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:45:33.098 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:45:33.101 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:45:38.795 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-24 21:45:38.795 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:45:38.798 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:45:38.801 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-24 21:45:38.803 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-24 21:45:38.808 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=29, current=1, size=10, status=null
2025-10-24 21:45:38.814 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-24 21:45:38.814 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-24 21:45:38.815 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:45:38.820 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-24 21:45:38.820 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:45:38.823 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:45:38.826 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-24 21:45:38.826 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-24 21:45:38.830 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=29, current=1, size=1000, status=null
2025-10-24 21:45:38.833 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-24 21:45:38.833 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-24 21:45:38.834 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 21:45:40.802 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/favorites
2025-10-24 21:45:40.802 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 21:45:40.805 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 21:45:40.810 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/favorites] with attributes [authenticated]
2025-10-24 21:45:40.810 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/favorites
2025-10-24 21:45:40.820 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:18:23.334 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-24 22:18:23.360 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-24 22:18:23.362 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-24 22:18:23.388 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-2087262315] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-24 22:18:23.389 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-2087262315] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-24 22:18:23.414 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-24 22:18:23.423 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-24 22:18:23.538 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21088 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 22:18:23.538 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 22:18:23.538 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 22:18:23.847 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 22:18:23.847 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 22:18:23.861 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-10-24 22:18:24.044 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 22:18:24.045 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 22:18:24.045 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 22:18:24.076 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 22:18:24.077 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 536 ms
2025-10-24 22:18:24.127 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 22:18:24.279 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-24 22:18:24.401 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 22:18:24.770 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 22:18:24.771 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 22:18:24.771 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 22:18:24.772 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 22:18:24.772 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 22:18:24.772 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 22:18:24.772 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 22:18:24.773 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 22:18:24.773 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 22:18:24.773 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 22:18:24.773 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 22:18:24.773 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 22:18:24.773 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 22:18:24.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 22:18:24.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 22:18:24.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 22:18:24.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 22:18:24.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 22:18:24.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 22:18:24.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 22:18:24.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 22:18:24.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 22:18:24.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 22:18:24.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 22:18:24.779 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b03dc5e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c030911, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d77b301, org.springframework.security.web.header.HeaderWriterFilter@31d0e34c, org.springframework.web.filter.CorsFilter@1ef05185, org.springframework.security.web.authentication.logout.LogoutFilter@f226c5e, com.yxly.security.JwtAuthenticationFilter@997c7a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4abfe8b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7cc3a82e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@691c8224, org.springframework.security.web.session.SessionManagementFilter@4e43b7d8, org.springframework.security.web.access.ExceptionTranslationFilter@7e25274e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60c2eb34]
2025-10-24 22:18:25.119 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 22:18:25.154 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 22:18:25.160 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.675 seconds (JVM running for 2066.51)
2025-10-24 22:18:25.162 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-24 22:18:40.350 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-24 22:18:40.366 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-24 22:18:40.368 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-144096289] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-24 22:18:40.370 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-144096289] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-24 22:18:40.376 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-24 22:18:40.387 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-24 22:18:40.486 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21088 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 22:18:40.487 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 22:18:40.487 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 22:18:40.757 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 22:18:40.757 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 22:18:40.773 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-10-24 22:18:40.916 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 22:18:40.917 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 22:18:40.919 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 22:18:40.947 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 22:18:40.949 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 460 ms
2025-10-24 22:18:41.001 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 22:18:41.127 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-24 22:18:41.252 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 22:18:41.572 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 22:18:41.574 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 22:18:41.574 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 22:18:41.574 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 22:18:41.574 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 22:18:41.574 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 22:18:41.575 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 22:18:41.577 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 22:18:41.577 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 22:18:41.577 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 22:18:41.577 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 22:18:41.577 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 22:18:41.577 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 22:18:41.580 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3203ccb9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d76694d, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d241d4e, org.springframework.security.web.header.HeaderWriterFilter@2542aaa0, org.springframework.web.filter.CorsFilter@1dfce8ff, org.springframework.security.web.authentication.logout.LogoutFilter@66042977, com.yxly.security.JwtAuthenticationFilter@7d2f4cc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c5dab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30cbe0ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21b83c56, org.springframework.security.web.session.SessionManagementFilter@294242af, org.springframework.security.web.access.ExceptionTranslationFilter@6425240d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@174567b9]
2025-10-24 22:18:41.873 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 22:18:41.907 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 22:18:41.910 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.461 seconds (JVM running for 2083.261)
2025-10-24 22:18:41.913 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-24 22:19:34.813 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-24 22:19:34.826 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-24 22:19:34.827 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1438187689] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-24 22:19:34.828 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1438187689] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-24 22:19:34.831 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-24 22:19:34.833 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-24 22:19:34.893 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21088 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 22:19:34.893 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 22:19:34.894 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 22:19:35.069 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 22:19:35.069 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 22:19:35.086 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-10-24 22:19:35.184 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 22:19:35.185 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 22:19:35.185 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 22:19:35.203 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 22:19:35.203 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 307 ms
2025-10-24 22:19:35.235 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 22:19:35.332 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-24 22:19:35.396 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 22:19:35.585 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 22:19:35.585 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 22:19:35.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 22:19:35.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 22:19:35.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 22:19:35.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 22:19:35.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 22:19:35.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 22:19:35.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 22:19:35.589 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78351c90, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@286b087b, org.springframework.security.web.context.SecurityContextPersistenceFilter@10c9bcd3, org.springframework.security.web.header.HeaderWriterFilter@7bb71550, org.springframework.web.filter.CorsFilter@6ec9861, org.springframework.security.web.authentication.logout.LogoutFilter@49071f94, com.yxly.security.JwtAuthenticationFilter@33549548, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64742505, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27aab14e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28acf8fc, org.springframework.security.web.session.SessionManagementFilter@17d48719, org.springframework.security.web.access.ExceptionTranslationFilter@3d993a1d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4d9c7e4e]
2025-10-24 22:19:35.772 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 22:19:35.795 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 22:19:35.798 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.927 seconds (JVM running for 2137.148)
2025-10-24 22:19:35.799 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-24 22:32:26.663 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-24 22:32:26.664 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-24 22:32:38.904 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 15696 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 22:32:38.905 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 22:32:38.907 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 22:32:38.956 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-24 22:32:38.957 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-24 22:32:39.550 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 22:32:39.552 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 22:32:39.574 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-10-24 22:32:40.304 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 22:32:40.314 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 22:32:40.315 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 22:32:40.389 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 22:32:40.390 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1433 ms
2025-10-24 22:32:40.472 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 22:32:40.923 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-24 22:32:41.228 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 22:32:41.693 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 22:32:41.695 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 22:32:41.695 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 22:32:41.695 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 22:32:41.695 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 22:32:41.695 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 22:32:41.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 22:32:41.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 22:32:41.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 22:32:41.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 22:32:41.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 22:32:41.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 22:32:41.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 22:32:41.699 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 22:32:41.699 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 22:32:41.706 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7af58908, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4358f404, org.springframework.security.web.context.SecurityContextPersistenceFilter@4dc3d3df, org.springframework.security.web.header.HeaderWriterFilter@52f114e9, org.springframework.web.filter.CorsFilter@f0038e9, org.springframework.security.web.authentication.logout.LogoutFilter@7b07d08f, com.yxly.security.JwtAuthenticationFilter@51274add, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66356680, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e171128, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44f0c7c5, org.springframework.security.web.session.SessionManagementFilter@5e6d9daf, org.springframework.security.web.access.ExceptionTranslationFilter@15056ff2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@531af02]
2025-10-24 22:32:42.369 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 22:32:42.417 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 22:32:42.427 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.922 seconds (JVM running for 4.256)
2025-10-24 22:32:51.344 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24 22:32:51.345 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-24 22:32:51.347 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-24 22:32:51.354 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 22:32:51.357 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:32:51.396 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 22:32:51.508 [http-nio-8080-exec-1] ERROR [com.yxly.security.JwtAuthenticationFilter] - 无法设置用户认证
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'gender' in 'field list'
### The error may exist in com/yxly/mapper/SysUserMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  id,username,password,real_name,email,phone,avatar,role_id,merchant_id,merchant_status,apply_time,status,last_login_time,last_login_ip,email_verified,phone_verified,balance,gender,birthday,bio,create_time,update_time,deleted  FROM sys_user  WHERE deleted=0     AND ((username = ? OR email = ? OR phone = ?) AND deleted = ?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'gender' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'gender' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:164)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy100.selectList(Unknown Source)
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectOne(BaseMapper.java:222)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy100.selectOne(Unknown Source)
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectOne(BaseMapper.java:211)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy100.selectOne(Unknown Source)
	at com.yxly.security.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:31)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:43)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'gender' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy139.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy137.query(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:81)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy136.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 74 common frames omitted
2025-10-24 22:32:51.511 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 22:32:51.516 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 22:32:51.518 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-24 22:32:51.518 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:32:51.520 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-24 22:32:51.521 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:32:51.521 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 22:32:51.521 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-24 22:32:51.570 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:32:57.836 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 22:32:57.836 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:32:57.840 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 22:32:57.846 [http-nio-8080-exec-2] ERROR [com.yxly.security.JwtAuthenticationFilter] - 无法设置用户认证
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'gender' in 'field list'
### The error may exist in com/yxly/mapper/SysUserMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT  id,username,password,real_name,email,phone,avatar,role_id,merchant_id,merchant_status,apply_time,status,last_login_time,last_login_ip,email_verified,phone_verified,balance,gender,birthday,bio,create_time,update_time,deleted  FROM sys_user  WHERE deleted=0     AND ((username = ? OR email = ? OR phone = ?) AND deleted = ?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'gender' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'gender' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:164)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy100.selectList(Unknown Source)
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectOne(BaseMapper.java:222)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy100.selectOne(Unknown Source)
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectOne(BaseMapper.java:211)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy100.selectOne(Unknown Source)
	at com.yxly.security.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:31)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:43)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'gender' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy139.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy137.query(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:81)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy136.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 74 common frames omitted
2025-10-24 22:32:57.849 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 22:32:57.850 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 22:32:57.850 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-24 22:32:57.850 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:32:57.851 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-24 22:32:57.851 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:32:57.851 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 22:32:57.852 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-24 22:32:57.855 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:33:26.615 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 3 class path changes (0 additions, 1 deletion, 2 modifications)
2025-10-24 22:33:26.631 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-24 22:33:26.632 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-24 22:33:26.645 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1291961505] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-24 22:33:26.645 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1291961505] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-24 22:33:26.659 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-24 22:33:26.664 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-24 22:33:26.733 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 15696 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 22:33:26.733 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 22:33:26.733 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 22:33:26.936 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 22:33:26.936 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 22:33:26.946 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-24 22:33:27.087 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 22:33:27.088 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 22:33:27.088 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 22:33:27.113 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 22:33:27.113 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 378 ms
2025-10-24 22:33:27.153 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 22:33:27.246 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-24 22:33:27.316 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 22:33:27.515 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 22:33:27.515 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 22:33:27.515 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 22:33:27.515 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 22:33:27.515 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 22:33:27.516 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 22:33:27.516 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 22:33:27.516 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 22:33:27.516 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 22:33:27.516 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 22:33:27.516 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 22:33:27.516 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 22:33:27.516 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 22:33:27.517 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 22:33:27.518 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 22:33:27.519 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d80c5f9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3493522, org.springframework.security.web.context.SecurityContextPersistenceFilter@29a97746, org.springframework.security.web.header.HeaderWriterFilter@57f762bd, org.springframework.web.filter.CorsFilter@8323447, org.springframework.security.web.authentication.logout.LogoutFilter@3ac5542d, com.yxly.security.JwtAuthenticationFilter@3d1654f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c856a28, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@600b138f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a1a524a, org.springframework.security.web.session.SessionManagementFilter@6d5aabb7, org.springframework.security.web.access.ExceptionTranslationFilter@3b83d15a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21c46dd6]
2025-10-24 22:33:27.755 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 22:33:27.777 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 22:33:27.782 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.077 seconds (JVM running for 49.611)
2025-10-24 22:33:27.783 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-24 22:33:45.304 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-24 22:33:45.307 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-24 22:33:58.427 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 22:33:58.430 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 22:33:58.430 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 22:33:58.471 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-24 22:33:58.472 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-24 22:33:59.079 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 22:33:59.082 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 22:33:59.107 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-10-24 22:33:59.764 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 22:33:59.773 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 22:33:59.773 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 22:33:59.845 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 22:33:59.846 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1374 ms
2025-10-24 22:33:59.921 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 22:34:00.265 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-24 22:34:00.546 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 22:34:01.004 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 22:34:01.004 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 22:34:01.004 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 22:34:01.004 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 22:34:01.004 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 22:34:01.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 22:34:01.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 22:34:01.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 22:34:01.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 22:34:01.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 22:34:01.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 22:34:01.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 22:34:01.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 22:34:01.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 22:34:01.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 22:34:01.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 22:34:01.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 22:34:01.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 22:34:01.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 22:34:01.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 22:34:01.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 22:34:01.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 22:34:01.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 22:34:01.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 22:34:01.013 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b0440d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ce5f07d, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a3a8e8, org.springframework.security.web.header.HeaderWriterFilter@1690de8c, org.springframework.web.filter.CorsFilter@2cf85fbf, org.springframework.security.web.authentication.logout.LogoutFilter@6bd58334, com.yxly.security.JwtAuthenticationFilter@1a6cb50e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4289a9b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f3ae5c8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30f1667d, org.springframework.security.web.session.SessionManagementFilter@1d09ced6, org.springframework.security.web.access.ExceptionTranslationFilter@5309584f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@69814b6c]
2025-10-24 22:34:01.637 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 22:34:01.677 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 22:34:01.688 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.588 seconds (JVM running for 3.902)
2025-10-24 22:34:21.070 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24 22:34:21.071 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-24 22:34:21.073 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-24 22:34:21.081 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 22:34:21.084 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:34:21.125 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 22:34:21.224 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 22:34:21.224 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 22:34:21.235 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 22:34:21.239 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 22:34:21.246 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 22:34:21.296 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:38:09.922 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-24 22:38:09.941 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-24 22:38:09.944 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-24 22:38:09.959 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1501020987] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-24 22:38:09.960 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1501020987] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-24 22:38:09.979 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-24 22:38:09.984 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-24 22:38:10.067 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 22:38:10.068 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 22:38:10.068 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 22:38:10.322 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 22:38:10.322 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 22:38:10.340 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-10-24 22:38:10.484 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 22:38:10.486 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 22:38:10.486 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 22:38:10.509 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 22:38:10.509 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 438 ms
2025-10-24 22:38:10.550 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 22:38:10.689 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-24 22:38:10.807 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 22:38:11.142 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 22:38:11.143 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 22:38:11.144 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 22:38:11.144 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 22:38:11.144 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 22:38:11.144 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 22:38:11.144 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 22:38:11.144 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 22:38:11.144 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 22:38:11.144 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 22:38:11.144 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 22:38:11.145 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 22:38:11.145 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 22:38:11.145 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 22:38:11.145 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 22:38:11.145 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 22:38:11.145 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 22:38:11.145 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 22:38:11.146 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 22:38:11.146 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 22:38:11.146 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 22:38:11.146 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 22:38:11.146 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 22:38:11.146 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 22:38:11.151 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2fd84a98, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d63a7df, org.springframework.security.web.context.SecurityContextPersistenceFilter@3db12091, org.springframework.security.web.header.HeaderWriterFilter@2314a5c1, org.springframework.web.filter.CorsFilter@148389b2, org.springframework.security.web.authentication.logout.LogoutFilter@59f31d0a, com.yxly.security.JwtAuthenticationFilter@482e76fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10283f6e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1694aa07, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6bfb88c8, org.springframework.security.web.session.SessionManagementFilter@edea870, org.springframework.security.web.access.ExceptionTranslationFilter@319384e5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5824f46e]
2025-10-24 22:38:11.422 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 22:38:11.449 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 22:38:11.453 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.424 seconds (JVM running for 253.668)
2025-10-24 22:38:11.456 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-24 22:39:05.728 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24 22:39:05.729 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-24 22:39:05.731 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-24 22:39:05.732 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 22:39:05.732 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:39:05.737 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-24 22:39:05.753 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 22:39:05.753 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 22:39:05.755 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 22:39:05.759 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 22:39:05.769 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 22:39:05.786 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:48:30.925 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-24 22:48:30.929 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-24 22:48:41.943 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 19080 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 22:48:41.944 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 22:48:41.945 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 22:48:41.984 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-24 22:48:41.985 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-24 22:48:42.482 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 22:48:42.485 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 22:48:42.504 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-24 22:48:43.110 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 22:48:43.118 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 22:48:43.118 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 22:48:43.177 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 22:48:43.178 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1193 ms
2025-10-24 22:48:43.245 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 22:48:43.560 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-24 22:48:43.796 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 22:48:44.197 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 22:48:44.199 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 22:48:44.199 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 22:48:44.199 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 22:48:44.200 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 22:48:44.200 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 22:48:44.200 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 22:48:44.200 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 22:48:44.200 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 22:48:44.200 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 22:48:44.200 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 22:48:44.201 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 22:48:44.201 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 22:48:44.201 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 22:48:44.201 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 22:48:44.201 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 22:48:44.201 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 22:48:44.201 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 22:48:44.201 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 22:48:44.203 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 22:48:44.203 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 22:48:44.203 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 22:48:44.203 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 22:48:44.203 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 22:48:44.207 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b636139, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ea80af5, org.springframework.security.web.context.SecurityContextPersistenceFilter@2209648b, org.springframework.security.web.header.HeaderWriterFilter@3831e48b, org.springframework.web.filter.CorsFilter@9ac951b, org.springframework.security.web.authentication.logout.LogoutFilter@5f244694, com.yxly.security.JwtAuthenticationFilter@325618b4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@392e1eb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66c34fce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1409df05, org.springframework.security.web.session.SessionManagementFilter@747c0472, org.springframework.security.web.access.ExceptionTranslationFilter@28352579, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ff2aa83]
2025-10-24 22:48:44.775 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 22:48:44.813 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 22:48:44.822 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.167 seconds (JVM running for 3.454)
2025-10-24 22:48:50.795 [http-nio-8080-exec-2] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24 22:48:50.795 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-24 22:48:50.796 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-24 22:48:50.805 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 22:48:50.808 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:48:50.814 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 22:48:50.821 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 22:48:50.822 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-24 22:48:50.822 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:48:50.825 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-24 22:48:50.825 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:48:50.825 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 22:48:50.827 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-24 22:48:50.904 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:48:50.910 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 22:48:50.910 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:48:50.911 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 22:48:50.912 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 22:48:50.912 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-24 22:48:50.912 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:48:50.912 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-24 22:48:50.913 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:48:50.913 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 22:48:50.913 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-24 22:48:50.915 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:49:12.663 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-24 22:49:12.663 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:49:12.669 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 22:49:12.670 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-24 22:49:12.671 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-24 22:49:12.751 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=LLL, userType=user
2025-10-24 22:49:12.754 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: LLL, 登录类型: user
2025-10-24 22:49:12.904 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-24 22:49:12.931 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-24 22:49:12.939 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - === 构建登录响应 ===
2025-10-24 22:49:12.940 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户ID: 1
2025-10-24 22:49:12.940 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户名: LLL
2025-10-24 22:49:12.941 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 真实姓名: null
2025-10-24 22:49:12.941 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色ID: 2
2025-10-24 22:49:12.941 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色代码: USER
2025-10-24 22:49:12.941 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 商户ID: null
2025-10-24 22:49:12.941 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - ===================
2025-10-24 22:49:12.942 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: LLL
2025-10-24 22:49:12.953 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:49:12.988 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 22:49:12.989 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:49:13.009 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 22:49:13.015 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 22:49:13.015 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 22:49:13.015 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 22:49:13.017 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 22:49:13.024 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 22:49:13.031 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:49:16.358 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 22:49:16.359 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:49:16.359 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-24 22:49:16.359 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:49:16.361 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 22:49:16.362 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 22:49:16.369 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 22:49:16.370 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 22:49:16.371 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 22:49:16.380 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 22:49:16.371 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-24 22:49:16.384 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-24 22:49:16.386 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-24 22:49:16.390 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-24 22:49:16.395 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 22:49:16.398 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:49:16.411 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:49:16.569 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-24 22:49:16.570 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:49:16.578 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 22:49:16.582 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-24 22:49:16.582 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-24 22:49:16.587 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, locationId=null, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 22:49:16.588 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=null, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 22:49:16.639 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 22:49:16.644 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:49:16.656 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 22:49:16.656 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 22:49:16.660 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 22:49:16.663 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 22:49:16.663 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 22:49:16.697 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 22:59:02.662 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-24 22:59:02.666 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-24 22:59:08.400 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 22884 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-24 22:59:08.402 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-24 22:59:08.402 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-24 22:59:08.440 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-24 22:59:08.440 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-24 22:59:09.002 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-24 22:59:09.003 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-24 22:59:09.033 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-10-24 22:59:09.751 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-24 22:59:09.759 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-24 22:59:09.759 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-24 22:59:09.828 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-24 22:59:09.828 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1386 ms
2025-10-24 22:59:09.902 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-24 22:59:10.257 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-24 22:59:10.514 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-24 22:59:10.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-24 22:59:10.974 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-24 22:59:10.975 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-24 22:59:10.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-24 22:59:10.977 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-24 22:59:10.977 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-24 22:59:10.977 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-24 22:59:10.977 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-24 22:59:10.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-24 22:59:10.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-24 22:59:10.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-24 22:59:10.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-24 22:59:10.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-24 22:59:10.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-24 22:59:10.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-24 22:59:10.984 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30eaf370, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22253fb2, org.springframework.security.web.context.SecurityContextPersistenceFilter@26cbec9f, org.springframework.security.web.header.HeaderWriterFilter@5ae602c3, org.springframework.web.filter.CorsFilter@5e943a4, org.springframework.security.web.authentication.logout.LogoutFilter@c02fac8, com.yxly.security.JwtAuthenticationFilter@7d05f97a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48bf1abd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3412eab8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e682d4d, org.springframework.security.web.session.SessionManagementFilter@2e684c2b, org.springframework.security.web.access.ExceptionTranslationFilter@1bdd091b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2fc5f780]
2025-10-24 22:59:11.611 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-24 22:59:11.652 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-24 22:59:11.661 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.577 seconds (JVM running for 3.888)
2025-10-24 23:00:07.699 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-24 23:00:07.699 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-24 23:00:07.701 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-24 23:00:07.710 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 23:00:07.712 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:00:07.750 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:00:07.838 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 23:00:07.838 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 23:00:07.847 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 23:00:07.851 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 23:00:07.859 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 23:00:07.903 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:00:26.351 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/avatar
2025-10-24 23:00:26.352 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:00:26.366 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:00:26.375 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/avatar] with attributes [authenticated]
2025-10-24 23:00:26.375 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/avatar
2025-10-24 23:00:26.404 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserController] - 接收到头像上传请求: filename=2.png, size=17489
2025-10-24 23:00:26.554 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: avatars/1/20251024/5be9b09cb34a49988597151551bda705.png
2025-10-24 23:00:26.557 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-24 23:00:26.564 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserController] - 头像上传成功: userId=1, url=http://localhost:9000/txt/avatars/1/20251024/5be9b09cb34a49988597151551bda705.png
2025-10-24 23:00:26.572 [http-nio-8080-exec-2] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.6117288831541577911\work\Tomcat\localhost\api\upload_a9025356_cf7d_4e15_8584_6e244797c3b9_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.6117288831541577911\work\Tomcat\localhost\api\upload_a9025356_cf7d_4e15_8584_6e244797c3b9_00000000.tmp
	... 94 common frames omitted
2025-10-24 23:00:26.573 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:00:26.574 [http-nio-8080-exec-2] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.6117288831541577911\work\Tomcat\localhost\api\upload_a9025356_cf7d_4e15_8584_6e244797c3b9_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.6117288831541577911\work\Tomcat\localhost\api\upload_a9025356_cf7d_4e15_8584_6e244797c3b9_00000000.tmp
	... 13 common frames omitted
2025-10-24 23:00:26.581 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing PUT /v1/user/profile
2025-10-24 23:00:26.581 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:00:26.585 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:00:26.590 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [PUT /v1/user/profile] with attributes [authenticated]
2025-10-24 23:00:26.590 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured PUT /v1/user/profile
2025-10-24 23:00:26.598 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserController] - 更新用户信息: userId=1, data={avatar=http://localhost:9000/txt/avatars/1/20251024/5be9b09cb34a49988597151551bda705.png}
2025-10-24 23:00:26.599 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-24 23:00:26.601 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserController] - 用户信息更新成功: userId=1
2025-10-24 23:00:26.603 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:00:26.607 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/info
2025-10-24 23:00:26.607 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:00:26.609 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:00:26.613 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/info] with attributes [permitAll]
2025-10-24 23:00:26.614 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/info
2025-10-24 23:00:26.619 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:03:42.305 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-24 23:03:42.305 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-24 23:03:42.305 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-24 23:03:42.305 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-24 23:03:42.306 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:03:42.306 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:03:42.306 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:03:42.306 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:03:42.311 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:03:42.311 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:03:42.311 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:03:42.311 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:03:42.329 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-24 23:03:42.329 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-24 23:03:42.329 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-24 23:03:42.329 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-24 23:03:42.331 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-24 23:03:42.331 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-24 23:03:42.332 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-24 23:03:42.332 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-24 23:03:42.340 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=1
2025-10-24 23:03:42.342 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=1, current=1, size=1000, category=null
2025-10-24 23:03:42.342 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=1, current=1, size=1000, category=null
2025-10-24 23:03:42.343 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 1, 余额: 902.00
2025-10-24 23:03:42.345 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:03:42.407 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共5条
2025-10-24 23:03:42.412 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:03:42.412 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:03:42.412 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:03:45.589 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-24 23:03:45.590 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:03:45.596 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:03:45.601 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-24 23:03:45.601 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-24 23:03:45.608 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=10, status=null
2025-10-24 23:03:45.632 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-24 23:03:45.643 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=26, orderNo=YX17607009096022310, roomId=1
2025-10-24 23:03:45.652 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=25, orderNo=YX17607007935715752, roomId=1
2025-10-24 23:03:45.659 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=24, orderNo=YX1760700772778945, roomId=1
2025-10-24 23:03:45.666 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-24 23:03:45.673 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-24 23:03:45.682 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-24 23:03:45.686 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:03:45.718 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-24 23:03:45.720 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:03:45.721 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 23:03:45.721 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-24 23:03:45.722 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-24 23:03:45.722 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:03:45.723 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-24 23:03:45.725 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:03:45.725 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 23:03:45.725 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-24 23:03:45.734 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:03:45.842 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-24 23:03:45.843 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:03:45.849 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:03:45.853 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-24 23:03:45.853 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-24 23:03:45.858 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=1000, status=null
2025-10-24 23:03:45.866 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-24 23:03:45.866 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=26, orderNo=YX17607009096022310, roomId=1
2025-10-24 23:03:45.872 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=25, orderNo=YX17607007935715752, roomId=1
2025-10-24 23:03:45.875 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=24, orderNo=YX1760700772778945, roomId=1
2025-10-24 23:03:45.880 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-24 23:03:45.885 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-24 23:03:45.888 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-24 23:03:45.890 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:03:50.318 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/favorites
2025-10-24 23:03:50.319 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:03:50.322 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:03:50.327 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/favorites] with attributes [authenticated]
2025-10-24 23:03:50.327 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/favorites
2025-10-24 23:03:50.344 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:40.162 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-24 23:04:40.162 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-24 23:04:40.163 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:40.163 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:40.164 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:40.164 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:40.170 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-24 23:04:40.172 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-24 23:04:40.172 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-24 23:04:40.172 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-24 23:04:40.179 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=1
2025-10-24 23:04:40.181 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 1, 余额: 902.00
2025-10-24 23:04:40.182 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:40.189 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:40.480 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-24 23:04:40.480 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-24 23:04:40.480 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:40.480 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:40.482 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:40.482 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:40.487 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-24 23:04:40.487 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-24 23:04:40.489 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-24 23:04:40.489 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-24 23:04:40.490 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=1, current=1, size=1000, category=null
2025-10-24 23:04:40.492 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=1, current=1, size=1000, category=null
2025-10-24 23:04:40.500 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共5条
2025-10-24 23:04:40.501 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:40.501 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:42.195 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-24 23:04:42.197 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:42.202 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:42.209 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-24 23:04:42.209 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-24 23:04:42.214 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=10, status=null
2025-10-24 23:04:42.224 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-24 23:04:42.225 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=26, orderNo=YX17607009096022310, roomId=1
2025-10-24 23:04:42.230 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=25, orderNo=YX17607007935715752, roomId=1
2025-10-24 23:04:42.236 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=24, orderNo=YX1760700772778945, roomId=1
2025-10-24 23:04:42.241 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-24 23:04:42.245 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-24 23:04:42.250 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-24 23:04:42.254 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:42.504 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-24 23:04:42.505 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:42.506 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:42.509 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-24 23:04:42.509 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-24 23:04:42.513 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=1000, status=null
2025-10-24 23:04:42.523 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-24 23:04:42.526 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=26, orderNo=YX17607009096022310, roomId=1
2025-10-24 23:04:42.533 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=25, orderNo=YX17607007935715752, roomId=1
2025-10-24 23:04:42.537 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=24, orderNo=YX1760700772778945, roomId=1
2025-10-24 23:04:42.540 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-24 23:04:42.544 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-24 23:04:42.547 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-24 23:04:42.551 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:42.572 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-24 23:04:42.572 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:42.572 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 23:04:42.574 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-24 23:04:42.574 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-24 23:04:42.574 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:42.574 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-24 23:04:42.574 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:42.574 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-24 23:04:42.574 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-24 23:04:42.576 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:44.940 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/favorites
2025-10-24 23:04:44.940 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:44.944 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:44.949 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/favorites] with attributes [authenticated]
2025-10-24 23:04:44.949 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/favorites
2025-10-24 23:04:44.956 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:48.431 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-24 23:04:48.432 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:48.435 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:48.442 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-24 23:04:48.442 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-24 23:04:48.443 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-24 23:04:48.444 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-24 23:04:48.449 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=3
2025-10-24 23:04:48.456 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:48.545 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-24 23:04:48.545 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-24 23:04:48.545 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:48.545 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:48.549 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:48.549 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:48.552 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-24 23:04:48.552 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-24 23:04:48.552 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-24 23:04:48.553 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-24 23:04:48.553 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-24 23:04:48.555 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, locationId=null, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 23:04:48.556 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-24 23:04:48.556 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: locationId=null, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-24 23:04:48.569 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=6, records=6
2025-10-24 23:04:48.571 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:48.574 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:48.585 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-24 23:04:48.585 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:48.588 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:48.592 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-24 23:04:48.592 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-24 23:04:48.666 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:50.553 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites
2025-10-24 23:04:50.553 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:50.556 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:50.560 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites] with attributes [authenticated]
2025-10-24 23:04:50.560 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites
2025-10-24 23:04:50.579 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-24 23:04:50.589 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-24 23:04:55.430 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/favorites
2025-10-24 23:04:55.430 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-24 23:04:55.438 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-24 23:04:55.443 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/favorites] with attributes [authenticated]
2025-10-24 23:04:55.443 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/favorites
2025-10-24 23:04:55.451 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
