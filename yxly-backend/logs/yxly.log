2025-10-17 00:00:00.748 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:00:00.749 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:00:00.752 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:00:00.753 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:00:00.755 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:00:00.755 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:00:00.763 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:00:00.763 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:00:00.764 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:00:00.764 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:00:00.768 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:00:00.771 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:00:00.773 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:00:00.779 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:00:12.728 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:00:12.728 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:00:12.729 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:00:12.734 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:00:12.734 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:00:12.742 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:00:12.743 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:00:19.068 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:00:19.068 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:00:19.070 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:00:19.073 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:00:19.073 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:00:19.073 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:00:19.082 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:00:24.802 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:00:24.802 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:00:24.805 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:00:24.814 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:00:24.814 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:00:24.823 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:00:24.824 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:00:32.815 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:00:32.816 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:00:32.818 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:00:32.821 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:00:32.821 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:00:32.826 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:00:32.827 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:00:37.913 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:00:37.914 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:00:37.916 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:00:37.922 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:00:37.923 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:00:37.924 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:00:37.931 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:02:22.924 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 00:02:22.935 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:02:22.935 [Thread-7] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 00:02:22.937 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-877439681] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:02:22.938 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-877439681] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:02:22.938 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [OkHttp TaskRunner] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Object.wait(Native Method)
 java.base@17.0.12/java.lang.Object.wait(Object.java:472)
 app//okhttp3.internal.concurrent.TaskRunner$RealBackend.coordinatorWait(TaskRunner.kt:294)
 app//okhttp3.internal.concurrent.TaskRunner.awaitTaskToRun(TaskRunner.kt:218)
 app//okhttp3.internal.concurrent.TaskRunner$runnable$1.run(TaskRunner.kt:59)
 java.base@17.0.12/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
 java.base@17.0.12/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.12/java.lang.Thread.run(Thread.java:842)
2025-10-17 00:02:22.939 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Okio Watchdog] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Object.wait(Native Method)
 java.base@17.0.12/java.lang.Object.wait(Object.java:472)
 app//okio.AsyncTimeout$Companion.awaitTimeout$okio(AsyncTimeout.kt:316)
 app//okio.AsyncTimeout$Watchdog.run(AsyncTimeout.kt:187)
2025-10-17 00:02:22.939 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [logback-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 java.base@17.0.12/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1170)
 java.base@17.0.12/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.12/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.12/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.12/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.12/java.lang.Thread.run(Thread.java:842)
2025-10-17 00:02:22.939 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [logback-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 java.base@17.0.12/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1170)
 java.base@17.0.12/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.12/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.12/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.12/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.12/java.lang.Thread.run(Thread.java:842)
2025-10-17 00:02:22.942 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 00:02:22.945 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 00:02:23.005 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:02:23.006 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:02:23.006 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:02:23.141 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:02:23.142 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:02:23.157 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-10-17 00:02:23.275 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:02:23.276 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:02:23.276 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:02:23.297 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:02:23.297 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 290 ms
2025-10-17 00:02:23.336 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:02:23.420 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 00:02:23.488 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:02:23.571 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:02:23.571 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:02:23.571 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:02:23.571 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:02:23.572 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:02:23.572 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:02:23.572 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:02:23.572 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:02:23.572 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:02:23.573 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:02:23.573 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:02:23.573 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:02:23.573 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:02:23.573 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:02:23.574 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:02:23.574 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:02:23.577 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fd2be2f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c5021a8, org.springframework.security.web.context.SecurityContextPersistenceFilter@57729ead, org.springframework.security.web.header.HeaderWriterFilter@6f5bc86f, org.springframework.web.filter.CorsFilter@32bddb8, org.springframework.security.web.authentication.logout.LogoutFilter@5369b75, com.yxly.security.JwtAuthenticationFilter@1e82e9ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d040a63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cadbf1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dc35b05, org.springframework.security.web.session.SessionManagementFilter@68de536a, org.springframework.security.web.access.ExceptionTranslationFilter@44dfc272, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6880c0d8]
2025-10-17 00:02:23.759 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:02:23.821 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:02:23.825 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.842 seconds (JVM running for 1253.669)
2025-10-17 00:02:23.826 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:02:33.850 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 00:02:33.863 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:02:33.865 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1813818808] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:02:33.866 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1813818808] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:02:33.868 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 00:02:33.871 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 00:02:33.928 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:02:33.929 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:02:33.929 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:02:34.082 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:02:34.082 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:02:34.090 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-17 00:02:34.185 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:02:34.186 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:02:34.186 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:02:34.203 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:02:34.204 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 274 ms
2025-10-17 00:02:34.234 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:02:34.311 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 00:02:34.375 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:02:34.449 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:02:34.450 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:02:34.451 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:02:34.451 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:02:34.451 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:02:34.452 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b1fc1da, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e12faa4, org.springframework.security.web.context.SecurityContextPersistenceFilter@5320754e, org.springframework.security.web.header.HeaderWriterFilter@58647f, org.springframework.web.filter.CorsFilter@740e03e6, org.springframework.security.web.authentication.logout.LogoutFilter@57ac41d4, com.yxly.security.JwtAuthenticationFilter@37e41da9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42f830fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@140df41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a5e16e, org.springframework.security.web.session.SessionManagementFilter@69fde9a9, org.springframework.security.web.access.ExceptionTranslationFilter@69bf1ec1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e0b6abb]
2025-10-17 00:02:34.612 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:02:34.649 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:02:34.652 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.745 seconds (JVM running for 1264.495)
2025-10-17 00:02:34.653 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:02:42.635 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 00:02:42.648 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:02:42.649 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1333262998] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:02:42.649 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1333262998] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:02:42.652 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 00:02:42.654 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 00:02:42.713 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:02:42.713 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:02:42.713 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:02:42.830 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:02:42.830 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:02:42.836 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:02:42.918 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:02:42.919 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:02:42.919 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:02:42.937 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:02:42.937 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 221 ms
2025-10-17 00:02:42.964 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:02:43.039 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 00:02:43.104 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:02:43.188 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:02:43.188 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:02:43.188 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:02:43.189 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:02:43.191 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a656538, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b7fde2d, org.springframework.security.web.context.SecurityContextPersistenceFilter@61879eda, org.springframework.security.web.header.HeaderWriterFilter@fc55bab, org.springframework.web.filter.CorsFilter@7b14d63b, org.springframework.security.web.authentication.logout.LogoutFilter@67c426b9, com.yxly.security.JwtAuthenticationFilter@3aa787f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34d7ab1b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@116aa629, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3440bb80, org.springframework.security.web.session.SessionManagementFilter@1af63bf7, org.springframework.security.web.access.ExceptionTranslationFilter@6b27d44d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7856e9b0]
2025-10-17 00:02:43.348 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:02:43.390 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:02:43.393 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.7 seconds (JVM running for 1273.237)
2025-10-17 00:02:43.395 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:02:50.948 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 00:02:50.960 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:02:50.961 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-497350391] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:02:50.962 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-497350391] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:02:50.964 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 00:02:50.967 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 00:02:51.023 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:02:51.024 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:02:51.024 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:02:51.136 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:02:51.136 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:02:51.141 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-10-17 00:02:51.223 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:02:51.224 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:02:51.224 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:02:51.241 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:02:51.243 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 218 ms
2025-10-17 00:02:51.267 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:02:51.340 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 00:02:51.399 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:02:51.470 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:02:51.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:02:51.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:02:51.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:02:51.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:02:51.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:02:51.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:02:51.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:02:51.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:02:51.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:02:51.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:02:51.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:02:51.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:02:51.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:02:51.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:02:51.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:02:51.473 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@220475bd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4429bb8d, org.springframework.security.web.context.SecurityContextPersistenceFilter@61825374, org.springframework.security.web.header.HeaderWriterFilter@73947a40, org.springframework.web.filter.CorsFilter@a56edf2, org.springframework.security.web.authentication.logout.LogoutFilter@501c1068, com.yxly.security.JwtAuthenticationFilter@7f4a51bd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6056cde6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3040fdd6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b63225b, org.springframework.security.web.session.SessionManagementFilter@5e2c8ef, org.springframework.security.web.access.ExceptionTranslationFilter@52aa6fe5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20a43219]
2025-10-17 00:02:51.631 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:02:51.658 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:02:51.661 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.659 seconds (JVM running for 1281.505)
2025-10-17 00:02:51.662 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:03:01.305 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 00:03:01.329 [Thread-23] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:03:01.330 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-51473408] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:03:01.331 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-51473408] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:03:01.336 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-17 00:03:01.338 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-17 00:03:01.405 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:03:01.405 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:03:01.405 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:03:01.516 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:03:01.516 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:03:01.522 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:03:01.601 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:03:01.602 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:03:01.602 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:03:01.620 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:03:01.620 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 213 ms
2025-10-17 00:03:01.646 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:03:01.719 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} inited
2025-10-17 00:03:01.781 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:03:01.856 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:03:01.856 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:03:01.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:03:01.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:03:01.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:03:01.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:03:01.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:03:01.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:03:01.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:03:01.858 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:03:01.858 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:03:01.858 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:03:01.858 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:03:01.858 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:03:01.858 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:03:01.858 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:03:01.859 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f40a4a2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2aac1b49, org.springframework.security.web.context.SecurityContextPersistenceFilter@11fcc510, org.springframework.security.web.header.HeaderWriterFilter@2d3a9eaa, org.springframework.web.filter.CorsFilter@1c968e11, org.springframework.security.web.authentication.logout.LogoutFilter@51781876, com.yxly.security.JwtAuthenticationFilter@1dbed5d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@529597ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b238cdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d6b1f89, org.springframework.security.web.session.SessionManagementFilter@6f7c4126, org.springframework.security.web.access.ExceptionTranslationFilter@1a7b3a38, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3478ae84]
2025-10-17 00:03:02.019 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:03:02.051 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:03:02.055 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.671 seconds (JVM running for 1291.898)
2025-10-17 00:03:02.056 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:03:09.634 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:03:09.647 [Thread-27] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:03:09.649 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-789682047] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:03:09.649 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-789682047] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:03:09.652 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closing ...
2025-10-17 00:03:09.655 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closed
2025-10-17 00:03:09.717 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:03:09.717 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:03:09.717 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:03:09.823 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:03:09.823 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:03:09.828 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-10-17 00:03:09.912 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:03:09.913 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:03:09.913 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:03:09.936 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:03:09.936 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 217 ms
2025-10-17 00:03:09.960 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:03:10.026 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} inited
2025-10-17 00:03:10.085 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:03:10.151 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:03:10.151 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:03:10.151 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:03:10.151 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:03:10.152 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:03:10.154 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3fdef4eb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49c035e1, org.springframework.security.web.context.SecurityContextPersistenceFilter@616c3732, org.springframework.security.web.header.HeaderWriterFilter@4aae957e, org.springframework.web.filter.CorsFilter@430b1ca5, org.springframework.security.web.authentication.logout.LogoutFilter@6503d3fb, com.yxly.security.JwtAuthenticationFilter@23e2b6f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e5f8a40, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50e4e790, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38b573a6, org.springframework.security.web.session.SessionManagementFilter@487faf1f, org.springframework.security.web.access.ExceptionTranslationFilter@3fd60d42, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66d3a2c0]
2025-10-17 00:03:10.311 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:03:10.345 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:03:10.347 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.654 seconds (JVM running for 1300.191)
2025-10-17 00:03:10.348 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:03:24.105 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 00:03:24.116 [Thread-31] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:03:24.118 [Thread-31] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1241025938] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:03:24.118 [Thread-31] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1241025938] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:03:24.121 [Thread-31] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closing ...
2025-10-17 00:03:24.124 [Thread-31] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closed
2025-10-17 00:03:24.184 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:03:24.184 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:03:24.184 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:03:24.304 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:03:24.304 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:03:24.310 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:03:24.394 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:03:24.395 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:03:24.395 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:03:24.413 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:03:24.414 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 228 ms
2025-10-17 00:03:24.440 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:03:24.511 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-9} inited
2025-10-17 00:03:24.569 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:03:24.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:03:24.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:03:24.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:03:24.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:03:24.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:03:24.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:03:24.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:03:24.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:03:24.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:03:24.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:03:24.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:03:24.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:03:24.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:03:24.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:03:24.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:03:24.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:03:24.637 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b80b4e5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41bec996, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f83806d, org.springframework.security.web.header.HeaderWriterFilter@20250a11, org.springframework.web.filter.CorsFilter@53064251, org.springframework.security.web.authentication.logout.LogoutFilter@7e36a612, com.yxly.security.JwtAuthenticationFilter@58f0bbca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43f3dfab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b0e3046, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46a3f3c7, org.springframework.security.web.session.SessionManagementFilter@31d6eb73, org.springframework.security.web.access.ExceptionTranslationFilter@36ab46f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4aabf36d]
2025-10-17 00:03:24.785 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:03:24.816 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:03:24.819 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.654 seconds (JVM running for 1314.663)
2025-10-17 00:03:24.820 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:03:33.438 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:03:33.448 [Thread-35] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:03:33.449 [Thread-35] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1318501549] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:03:33.449 [Thread-35] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1318501549] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:03:33.453 [Thread-35] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-9} closing ...
2025-10-17 00:03:33.455 [Thread-35] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-9} closed
2025-10-17 00:03:33.525 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:03:33.526 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:03:33.526 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:03:33.632 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:03:33.632 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:03:33.638 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 00:03:33.720 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:03:33.720 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:03:33.720 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:03:33.737 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:03:33.738 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 210 ms
2025-10-17 00:03:33.763 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:03:33.852 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-10} inited
2025-10-17 00:03:33.963 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:03:34.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:03:34.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:03:34.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:03:34.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:03:34.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:03:34.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:03:34.070 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:03:34.070 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:03:34.070 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:03:34.070 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:03:34.070 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:03:34.070 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:03:34.070 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:03:34.071 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:03:34.071 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:03:34.071 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:03:34.073 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6036f2fc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d844f29, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bb9bfe6, org.springframework.security.web.header.HeaderWriterFilter@31a00a2c, org.springframework.web.filter.CorsFilter@38c8bb8e, org.springframework.security.web.authentication.logout.LogoutFilter@62ca5e5, com.yxly.security.JwtAuthenticationFilter@5b0a01f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b9099f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ad017c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b102c2e, org.springframework.security.web.session.SessionManagementFilter@da4f055, org.springframework.security.web.access.ExceptionTranslationFilter@333c78b5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@500cb62]
2025-10-17 00:03:34.372 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:03:34.413 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:03:34.417 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.915 seconds (JVM running for 1324.261)
2025-10-17 00:03:34.419 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:03:45.175 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:03:45.186 [Thread-39] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:03:45.187 [Thread-39] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-2040554241] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:03:45.188 [Thread-39] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-2040554241] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:03:45.191 [Thread-39] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-10} closing ...
2025-10-17 00:03:45.193 [Thread-39] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-10} closed
2025-10-17 00:03:45.261 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:03:45.261 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:03:45.261 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:03:45.385 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:03:45.385 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:03:45.391 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:03:45.468 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:03:45.469 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:03:45.469 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:03:45.486 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:03:45.487 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 225 ms
2025-10-17 00:03:45.515 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:03:45.587 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-11} inited
2025-10-17 00:03:45.670 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:03:45.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:03:45.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:03:45.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:03:45.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:03:45.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:03:45.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:03:45.790 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:03:45.792 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cd558ab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6aae5722, org.springframework.security.web.context.SecurityContextPersistenceFilter@a688054, org.springframework.security.web.header.HeaderWriterFilter@18877893, org.springframework.web.filter.CorsFilter@3e082588, org.springframework.security.web.authentication.logout.LogoutFilter@2cace188, com.yxly.security.JwtAuthenticationFilter@16e8cf81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2357c4d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3763c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@374e775b, org.springframework.security.web.session.SessionManagementFilter@7452c1eb, org.springframework.security.web.access.ExceptionTranslationFilter@5d0e930a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@571bda88]
2025-10-17 00:03:45.952 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:03:45.985 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:03:45.988 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.749 seconds (JVM running for 1335.832)
2025-10-17 00:03:45.990 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:03:58.693 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:03:58.706 [Thread-43] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:03:58.708 [Thread-43] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-801562221] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:03:58.709 [Thread-43] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-801562221] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:03:58.712 [Thread-43] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-11} closing ...
2025-10-17 00:03:58.715 [Thread-43] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-11} closed
2025-10-17 00:03:58.787 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:03:58.788 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:03:58.788 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:03:58.906 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:03:58.907 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:03:58.913 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:03:58.990 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:03:58.991 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:03:58.991 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:03:59.009 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:03:59.009 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 220 ms
2025-10-17 00:03:59.035 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:03:59.101 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-12} inited
2025-10-17 00:03:59.155 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:03:59.225 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:03:59.225 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:03:59.225 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:03:59.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:03:59.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:03:59.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:03:59.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:03:59.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:03:59.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:03:59.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:03:59.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:03:59.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:03:59.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:03:59.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:03:59.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:03:59.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:03:59.228 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7148260, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@544efa0d, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f4f2190, org.springframework.security.web.header.HeaderWriterFilter@24180091, org.springframework.web.filter.CorsFilter@5a8e702f, org.springframework.security.web.authentication.logout.LogoutFilter@1dcc6e10, com.yxly.security.JwtAuthenticationFilter@3af809a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3afa933e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e020078, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@731d8919, org.springframework.security.web.session.SessionManagementFilter@7f5f4232, org.springframework.security.web.access.ExceptionTranslationFilter@551a1542, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74bba03f]
2025-10-17 00:03:59.368 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:03:59.396 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:03:59.399 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.634 seconds (JVM running for 1349.242)
2025-10-17 00:03:59.400 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:05:14.490 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 00:05:14.490 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 00:05:14.492 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-17 00:05:14.492 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:05:14.492 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:05:14.495 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:05:14.497 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:05:14.497 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:05:14.500 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:05:14.505 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:05:14.505 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:05:14.505 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:05:14.505 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:05:14.511 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:05:14.515 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:05:14.521 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:05:14.523 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:05:14.601 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:05:14.601 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:05:14.603 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:05:14.606 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:05:14.606 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:05:14.610 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:05:14.617 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:05:23.422 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:05:23.422 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:05:23.423 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:05:23.423 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:05:23.424 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:05:23.425 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:05:23.429 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:05:23.429 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:05:23.429 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:05:23.429 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:05:23.433 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:05:23.436 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:05:23.437 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:05:23.440 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:05:40.336 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:05:40.336 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:05:40.337 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:05:40.340 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:05:40.340 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:05:40.344 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:05:40.345 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:05:40.522 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:05:40.523 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:05:40.525 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:05:40.528 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:05:40.528 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:05:40.533 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:05:40.541 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:05:59.836 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 00:05:59.848 [Thread-47] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:05:59.848 [Thread-47] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 00:05:59.850 [Thread-47] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1909021168] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:05:59.850 [Thread-47] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1909021168] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:05:59.853 [Thread-47] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-12} closing ...
2025-10-17 00:05:59.860 [Thread-47] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-12} closed
2025-10-17 00:05:59.927 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2564 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:05:59.927 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:05:59.927 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:06:00.031 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:06:00.032 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:06:00.037 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-10-17 00:06:00.115 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:06:00.116 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:06:00.119 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:06:00.135 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:06:00.135 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 207 ms
2025-10-17 00:06:00.161 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:06:00.231 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-13} inited
2025-10-17 00:06:00.288 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:06:00.372 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:06:00.372 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:06:00.372 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:06:00.372 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:06:00.373 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:06:00.376 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@76cb56c8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12b6512b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2dc2bf5f, org.springframework.security.web.header.HeaderWriterFilter@2c68cebe, org.springframework.web.filter.CorsFilter@76cba29e, org.springframework.security.web.authentication.logout.LogoutFilter@2c368afb, com.yxly.security.JwtAuthenticationFilter@6bde7ba7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3552d7a6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5fa5e28c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f3263b4, org.springframework.security.web.session.SessionManagementFilter@1b2a0e4b, org.springframework.security.web.access.ExceptionTranslationFilter@12214524, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@dc89f0c]
2025-10-17 00:06:00.526 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:06:00.552 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:06:00.555 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.646 seconds (JVM running for 1470.399)
2025-10-17 00:06:00.556 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:09:49.408 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:09:49.409 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:09:49.410 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:09:49.454 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 00:09:49.454 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 00:09:50.159 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:09:50.161 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:09:50.182 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-17 00:09:50.872 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:09:50.881 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:09:50.882 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:09:50.957 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:09:50.957 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1502 ms
2025-10-17 00:09:51.036 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:09:51.437 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 00:09:51.719 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:09:52.027 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:09:52.028 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:09:52.028 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:09:52.028 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:09:52.029 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:09:52.029 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:09:52.029 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:09:52.029 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:09:52.030 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:09:52.030 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:09:52.030 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:09:52.031 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:09:52.031 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:09:52.031 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:09:52.031 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:09:52.031 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:09:52.036 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ffbcca5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@338ac107, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ddb3ac9, org.springframework.security.web.header.HeaderWriterFilter@6c8c4542, org.springframework.web.filter.CorsFilter@27143238, org.springframework.security.web.authentication.logout.LogoutFilter@52e7e906, com.yxly.security.JwtAuthenticationFilter@4c040238, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29187c27, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a7852e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@756ae846, org.springframework.security.web.session.SessionManagementFilter@5eff9e2a, org.springframework.security.web.access.ExceptionTranslationFilter@5257ec30, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3be7cd44]
2025-10-17 00:09:52.698 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:09:52.762 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:09:52.773 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.713 seconds (JVM running for 4.043)
2025-10-17 00:09:58.646 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 00:09:58.647 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 00:09:58.648 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 00:09:58.655 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:09:58.655 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:09:58.658 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:09:58.658 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:09:58.701 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:09:58.701 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:09:58.799 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:09:58.799 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:09:58.799 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:09:58.799 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:09:58.823 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:09:58.829 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:09:58.872 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:09:58.891 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:10:01.318 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 00:10:01.319 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:10:01.329 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:10:01.335 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 00:10:01.336 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 00:10:01.421 [http-nio-8080-exec-3] WARN  [com.yxly.exception.GlobalExceptionHandler] - 参数验证失败：收款账户信息不能为空
2025-10-17 00:10:01.423 [http-nio-8080-exec-3] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.yxly.common.Result<java.lang.Void> com.yxly.controller.user.UserRechargeController.applyWithdraw(com.yxly.dto.request.WithdrawApplyRequest): [Field error in object 'withdrawApplyRequest' on field 'accountInfo': rejected value []; codes [NotBlank.withdrawApplyRequest.accountInfo,NotBlank.accountInfo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [withdrawApplyRequest.accountInfo,accountInfo]; arguments []; default message [accountInfo]]; default message [收款账户信息不能为空]] ]
2025-10-17 00:10:01.424 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:10:02.901 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 00:10:02.901 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:10:02.904 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:10:02.909 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 00:10:02.909 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 00:10:02.911 [http-nio-8080-exec-4] WARN  [com.yxly.exception.GlobalExceptionHandler] - 参数验证失败：收款账户信息不能为空
2025-10-17 00:10:02.913 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.yxly.common.Result<java.lang.Void> com.yxly.controller.user.UserRechargeController.applyWithdraw(com.yxly.dto.request.WithdrawApplyRequest): [Field error in object 'withdrawApplyRequest' on field 'accountInfo': rejected value []; codes [NotBlank.withdrawApplyRequest.accountInfo,NotBlank.accountInfo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [withdrawApplyRequest.accountInfo,accountInfo]; arguments []; default message [accountInfo]]; default message [收款账户信息不能为空]] ]
2025-10-17 00:10:02.914 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:10:09.006 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 00:10:09.007 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:10:09.010 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:10:09.015 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 00:10:09.016 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 00:10:09.017 [http-nio-8080-exec-5] WARN  [com.yxly.exception.GlobalExceptionHandler] - 参数验证失败：收款账户信息不能为空
2025-10-17 00:10:09.019 [http-nio-8080-exec-5] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.yxly.common.Result<java.lang.Void> com.yxly.controller.user.UserRechargeController.applyWithdraw(com.yxly.dto.request.WithdrawApplyRequest): [Field error in object 'withdrawApplyRequest' on field 'accountInfo': rejected value []; codes [NotBlank.withdrawApplyRequest.accountInfo,NotBlank.accountInfo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [withdrawApplyRequest.accountInfo,accountInfo]; arguments []; default message [accountInfo]]; default message [收款账户信息不能为空]] ]
2025-10-17 00:10:09.020 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:10:14.528 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 00:10:14.529 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:10:14.532 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:10:14.538 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 00:10:14.539 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 00:10:14.540 [http-nio-8080-exec-6] WARN  [com.yxly.exception.GlobalExceptionHandler] - 参数验证失败：收款账户信息不能为空
2025-10-17 00:10:14.541 [http-nio-8080-exec-6] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.yxly.common.Result<java.lang.Void> com.yxly.controller.user.UserRechargeController.applyWithdraw(com.yxly.dto.request.WithdrawApplyRequest): [Field error in object 'withdrawApplyRequest' on field 'accountInfo': rejected value []; codes [NotBlank.withdrawApplyRequest.accountInfo,NotBlank.accountInfo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [withdrawApplyRequest.accountInfo,accountInfo]; arguments []; default message [accountInfo]]; default message [收款账户信息不能为空]] ]
2025-10-17 00:10:14.542 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:12:37.567 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:12:37.567 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:12:37.568 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:12:37.568 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:12:37.570 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:12:37.571 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:12:37.585 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:12:37.585 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:12:37.586 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:12:37.586 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:12:37.592 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:12:37.597 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:12:37.599 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:12:37.604 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:12:48.068 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:12:48.068 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:12:48.069 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:12:48.069 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:12:48.071 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:12:48.071 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:12:48.076 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:12:48.076 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:12:48.077 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:12:48.077 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:12:48.083 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:12:48.083 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:12:48.086 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:12:48.096 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:12:56.641 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:12:56.642 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:12:56.644 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:12:56.649 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:12:56.649 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:12:56.656 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:12:56.658 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:12:56.875 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:12:56.875 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:12:56.878 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:12:56.882 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:12:56.882 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:12:56.885 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:12:56.893 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:13:07.300 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:13:07.316 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:13:07.318 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 00:13:07.329 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-625722788] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:13:07.330 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-625722788] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:13:07.340 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 00:13:07.344 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 00:13:07.407 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:13:07.407 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:13:07.408 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:13:07.550 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:13:07.550 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:13:07.557 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:13:07.656 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:13:07.656 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:13:07.657 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:13:07.675 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:13:07.675 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 266 ms
2025-10-17 00:13:07.704 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:13:07.786 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 00:13:07.852 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:13:07.950 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:13:07.951 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:13:07.951 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:13:07.951 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:13:07.951 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:13:07.951 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:13:07.951 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:13:07.952 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:13:07.952 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:13:07.952 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:13:07.952 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:13:07.952 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:13:07.952 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:13:07.952 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:13:07.952 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:13:07.952 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:13:07.954 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ddc3d4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7256435, org.springframework.security.web.context.SecurityContextPersistenceFilter@342d21bf, org.springframework.security.web.header.HeaderWriterFilter@21dc0966, org.springframework.web.filter.CorsFilter@603cd8e2, org.springframework.security.web.authentication.logout.LogoutFilter@9676990, com.yxly.security.JwtAuthenticationFilter@2c16722b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@205133a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b319acf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a627043, org.springframework.security.web.session.SessionManagementFilter@1b3eac6f, org.springframework.security.web.access.ExceptionTranslationFilter@dbf912d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@633130a6]
2025-10-17 00:13:08.139 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:13:08.175 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:13:08.178 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.799 seconds (JVM running for 199.448)
2025-10-17 00:13:08.179 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:13:27.014 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:13:27.028 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:13:27.030 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-165821567] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:13:27.031 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-165821567] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:13:27.035 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 00:13:27.038 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 00:13:27.093 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:13:27.093 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:13:27.094 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:13:27.214 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:13:27.214 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:13:27.220 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:13:27.302 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:13:27.302 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:13:27.302 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:13:27.319 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:13:27.319 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 219 ms
2025-10-17 00:13:27.345 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:13:27.415 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 00:13:27.482 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:13:27.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:13:27.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:13:27.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:13:27.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:13:27.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:13:27.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:13:27.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:13:27.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:13:27.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:13:27.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:13:27.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:13:27.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:13:27.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:13:27.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:13:27.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:13:27.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:13:27.561 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7d89263c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a618080, org.springframework.security.web.context.SecurityContextPersistenceFilter@16eb3c75, org.springframework.security.web.header.HeaderWriterFilter@3d8cd008, org.springframework.web.filter.CorsFilter@2b44259, org.springframework.security.web.authentication.logout.LogoutFilter@3af66dcb, com.yxly.security.JwtAuthenticationFilter@1d934f04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@127e4f92, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29e56bd8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a3c4895, org.springframework.security.web.session.SessionManagementFilter@65a6630f, org.springframework.security.web.access.ExceptionTranslationFilter@9c16083, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31e12a30]
2025-10-17 00:13:27.724 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:13:27.759 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:13:27.762 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.688 seconds (JVM running for 219.032)
2025-10-17 00:13:27.763 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:13:58.944 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 00:13:58.945 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 00:13:58.945 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 00:13:58.945 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:13:58.945 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:13:58.949 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:13:58.959 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:13:58.960 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:13:58.969 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:13:58.984 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:08.992 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:14:08.993 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:08.994 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:14:08.994 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:08.995 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:08.995 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:08.999 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:14:08.999 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:14:08.999 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:14:08.999 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:14:09.004 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:14:09.008 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:14:09.009 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:09.015 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:16.909 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 00:14:16.910 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:16.911 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:16.915 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 00:14:16.915 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 00:14:16.935 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 用户提现申请 - 用户ID: 5, 用户名: admin, 金额: 100, 提现方式: 支付宝, 账户: 支付宝账户
2025-10-17 00:14:16.935 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 提现申请已记录，等待管理员审核
2025-10-17 00:14:16.938 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:17.172 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:14:17.172 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:17.174 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:17.177 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:14:17.178 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:14:17.184 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:14:17.185 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:17.251 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:14:17.251 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:17.253 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:17.256 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:14:17.256 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:14:17.260 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:14:17.269 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:22.839 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:14:22.839 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:22.841 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:22.846 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:14:22.846 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:14:22.847 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:14:22.856 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:35.368 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 00:14:35.368 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:35.370 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:35.374 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 00:14:35.374 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 00:14:35.377 [http-nio-8080-exec-8] WARN  [com.yxly.exception.GlobalExceptionHandler] - 参数验证失败：提现金额不能为空
2025-10-17 00:14:35.378 [http-nio-8080-exec-8] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public com.yxly.common.Result<java.lang.Void> com.yxly.controller.user.UserRechargeController.applyWithdraw(com.yxly.dto.request.WithdrawApplyRequest): [Field error in object 'withdrawApplyRequest' on field 'amount': rejected value [null]; codes [NotNull.withdrawApplyRequest.amount,NotNull.amount,NotNull.java.math.BigDecimal,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [withdrawApplyRequest.amount,amount]; arguments []; default message [amount]]; default message [提现金额不能为空]] ]
2025-10-17 00:14:35.378 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:41.567 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 00:14:41.568 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:41.570 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:41.574 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 00:14:41.574 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 00:14:41.583 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 用户提现申请 - 用户ID: 5, 用户名: admin, 金额: 100, 提现方式: 支付宝, 账户: 支付宝账户
2025-10-17 00:14:41.583 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 提现申请已记录，等待管理员审核
2025-10-17 00:14:41.585 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:41.590 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:14:41.590 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:41.593 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:41.597 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:14:41.597 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:14:41.603 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:14:41.604 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:14:41.609 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:14:41.610 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:14:41.612 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:14:41.615 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:14:41.615 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:14:41.618 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:14:41.625 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:15:49.526 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 00:15:49.539 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:15:49.540 [Thread-11] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 00:15:49.541 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-587365912] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:15:49.541 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-587365912] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:15:49.544 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 00:15:49.546 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 00:15:49.594 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:15:49.595 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:15:49.595 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:15:49.699 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:15:49.699 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:15:49.705 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:15:49.787 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:15:49.788 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:15:49.788 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:15:49.805 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:15:49.805 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 209 ms
2025-10-17 00:15:49.832 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:15:49.904 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 00:15:49.966 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:15:50.042 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:15:50.043 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:15:50.044 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:15:50.044 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:15:50.044 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:15:50.044 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:15:50.045 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7197fdcf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4744ebad, org.springframework.security.web.context.SecurityContextPersistenceFilter@53d19f2, org.springframework.security.web.header.HeaderWriterFilter@2a494a6e, org.springframework.web.filter.CorsFilter@28f31122, org.springframework.security.web.authentication.logout.LogoutFilter@757831c6, com.yxly.security.JwtAuthenticationFilter@6c7f7384, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29a1ff21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a93e675, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d087292, org.springframework.security.web.session.SessionManagementFilter@705354e0, org.springframework.security.web.access.ExceptionTranslationFilter@13a7da5d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2efd6876]
2025-10-17 00:15:50.191 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:15:50.223 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:15:50.226 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.65 seconds (JVM running for 361.496)
2025-10-17 00:15:50.227 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:16:01.896 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:16:01.910 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:16:01.912 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1054834278] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:16:01.913 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1054834278] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:16:01.915 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 00:16:01.918 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 00:16:01.976 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:16:01.976 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:16:01.976 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:16:02.133 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:16:02.133 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:16:02.143 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-17 00:16:02.240 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:16:02.240 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:16:02.240 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:16:02.259 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:16:02.259 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 282 ms
2025-10-17 00:16:02.286 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:16:02.365 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 00:16:02.424 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:16:02.510 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:16:02.510 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:16:02.510 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:16:02.510 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:16:02.511 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:16:02.513 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14960881, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62496346, org.springframework.security.web.context.SecurityContextPersistenceFilter@7249486b, org.springframework.security.web.header.HeaderWriterFilter@aae7df8, org.springframework.web.filter.CorsFilter@3e07383a, org.springframework.security.web.authentication.logout.LogoutFilter@6d8cc2b8, com.yxly.security.JwtAuthenticationFilter@64b4703b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b80333c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e7c8bb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38a34d02, org.springframework.security.web.session.SessionManagementFilter@f9bd2d1, org.springframework.security.web.access.ExceptionTranslationFilter@3347fbed, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a239028]
2025-10-17 00:16:02.679 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:16:02.718 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:16:02.721 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.766 seconds (JVM running for 373.991)
2025-10-17 00:16:02.723 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:16:11.347 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:16:11.360 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:16:11.362 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1458877585] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:16:11.363 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1458877585] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:16:11.365 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 00:16:11.367 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 00:16:11.421 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:16:11.422 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:16:11.422 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:16:11.551 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:16:11.552 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:16:11.558 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:16:11.649 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:16:11.650 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:16:11.650 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:16:11.667 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:16:11.667 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 244 ms
2025-10-17 00:16:11.694 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:16:11.772 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 00:16:11.830 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:16:11.923 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:16:11.923 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:16:11.923 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:16:11.923 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:16:11.923 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:16:11.923 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:16:11.923 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:16:11.923 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:16:11.923 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:16:11.924 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:16:11.924 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:16:11.924 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:16:11.924 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:16:11.924 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:16:11.924 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:16:11.924 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:16:11.925 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d08165, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59da1bd, org.springframework.security.web.context.SecurityContextPersistenceFilter@717c1507, org.springframework.security.web.header.HeaderWriterFilter@578f16c8, org.springframework.web.filter.CorsFilter@28bc16e7, org.springframework.security.web.authentication.logout.LogoutFilter@77f08732, com.yxly.security.JwtAuthenticationFilter@410a0f65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a381f7e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bbd3e82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47662401, org.springframework.security.web.session.SessionManagementFilter@3f4c90b, org.springframework.security.web.access.ExceptionTranslationFilter@2799da1c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f661a73]
2025-10-17 00:16:12.073 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:16:12.104 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:16:12.107 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.704 seconds (JVM running for 383.377)
2025-10-17 00:16:12.108 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:16:28.920 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:16:28.935 [Thread-23] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:16:28.936 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-436498456] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:16:28.937 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-436498456] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:16:28.940 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-17 00:16:28.943 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-17 00:16:29.008 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:16:29.009 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:16:29.009 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:16:29.135 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:16:29.135 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:16:29.141 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:16:29.243 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:16:29.243 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:16:29.244 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:16:29.261 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:16:29.261 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 250 ms
2025-10-17 00:16:29.287 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:16:29.374 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} inited
2025-10-17 00:16:29.436 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:16:29.547 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:16:29.547 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:16:29.547 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:16:29.547 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:16:29.547 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:16:29.547 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:16:29.547 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:16:29.548 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:16:29.548 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:16:29.548 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:16:29.548 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:16:29.548 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:16:29.548 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:16:29.548 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:16:29.548 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:16:29.548 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:16:29.550 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61a80656, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26310012, org.springframework.security.web.context.SecurityContextPersistenceFilter@113cba21, org.springframework.security.web.header.HeaderWriterFilter@7e836869, org.springframework.web.filter.CorsFilter@483901e6, org.springframework.security.web.authentication.logout.LogoutFilter@6ff0e5db, com.yxly.security.JwtAuthenticationFilter@2a23f57c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51330430, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d378729, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@126ff232, org.springframework.security.web.session.SessionManagementFilter@3a0f280a, org.springframework.security.web.access.ExceptionTranslationFilter@fee42f3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10795ea5]
2025-10-17 00:16:29.725 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:16:29.763 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:16:29.767 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.783 seconds (JVM running for 401.036)
2025-10-17 00:16:29.768 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:16:49.736 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:16:49.748 [Thread-27] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:16:49.750 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1115922247] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:16:49.751 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1115922247] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:16:49.753 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closing ...
2025-10-17 00:16:49.756 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closed
2025-10-17 00:16:49.811 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:16:49.811 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:16:49.812 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:16:49.913 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:16:49.914 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:16:49.919 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-10-17 00:16:50.002 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:16:50.003 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:16:50.004 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:16:50.024 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:16:50.025 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 212 ms
2025-10-17 00:16:50.049 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:16:50.123 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} inited
2025-10-17 00:16:50.182 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:16:50.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:16:50.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:16:50.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:16:50.259 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59403566, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dced5c8, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e9c745f, org.springframework.security.web.header.HeaderWriterFilter@64851260, org.springframework.web.filter.CorsFilter@344b60fd, org.springframework.security.web.authentication.logout.LogoutFilter@383385b, com.yxly.security.JwtAuthenticationFilter@508e9640, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5223aa7a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7124ac54, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@495f7606, org.springframework.security.web.session.SessionManagementFilter@24be19d5, org.springframework.security.web.access.ExceptionTranslationFilter@15af9408, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50e5a18b]
2025-10-17 00:16:50.409 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:16:50.435 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:16:50.438 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.646 seconds (JVM running for 421.708)
2025-10-17 00:16:50.439 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:17:00.070 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:17:00.083 [Thread-31] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:17:00.085 [Thread-31] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-721658398] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:17:00.085 [Thread-31] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-721658398] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:17:00.088 [Thread-31] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closing ...
2025-10-17 00:17:00.090 [Thread-31] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closed
2025-10-17 00:17:00.151 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:17:00.151 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:17:00.151 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:17:00.259 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:17:00.259 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:17:00.265 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:17:00.346 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:17:00.346 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:17:00.347 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:17:00.365 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:17:00.365 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 213 ms
2025-10-17 00:17:00.391 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:17:00.460 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-9} inited
2025-10-17 00:17:00.517 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:17:00.586 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:17:00.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:17:00.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:17:00.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:17:00.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:17:00.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:17:00.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:17:00.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:17:00.587 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:17:00.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:17:00.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:17:00.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:17:00.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:17:00.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:17:00.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:17:00.588 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:17:00.589 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b5f9bc9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55e19f1b, org.springframework.security.web.context.SecurityContextPersistenceFilter@70150e1d, org.springframework.security.web.header.HeaderWriterFilter@7bc7be50, org.springframework.web.filter.CorsFilter@1d31a225, org.springframework.security.web.authentication.logout.LogoutFilter@7ddb666d, com.yxly.security.JwtAuthenticationFilter@3df4842, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b7a5aab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b4837c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5114b30, org.springframework.security.web.session.SessionManagementFilter@6d2633c0, org.springframework.security.web.access.ExceptionTranslationFilter@3d7f65eb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@626f5ae1]
2025-10-17 00:17:00.729 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:17:00.754 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:17:00.758 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.625 seconds (JVM running for 432.028)
2025-10-17 00:17:00.759 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:17:14.455 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:17:14.467 [Thread-35] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:17:14.469 [Thread-35] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1061887942] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:17:14.469 [Thread-35] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1061887942] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:17:14.472 [Thread-35] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-9} closing ...
2025-10-17 00:17:14.474 [Thread-35] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-9} closed
2025-10-17 00:17:14.536 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 644 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:17:14.536 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:17:14.536 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:17:14.647 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:17:14.647 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:17:14.653 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:17:14.746 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:17:14.746 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:17:14.746 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:17:14.765 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:17:14.765 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 228 ms
2025-10-17 00:17:14.792 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:17:14.863 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-10} inited
2025-10-17 00:17:14.922 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:17:15.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:17:15.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:17:15.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:17:15.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:17:15.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:17:15.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:17:15.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:17:15.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:17:15.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:17:15.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:17:15.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:17:15.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:17:15.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:17:15.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:17:15.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:17:15.003 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:17:15.006 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ca7625c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cf19151, org.springframework.security.web.context.SecurityContextPersistenceFilter@6476a3c7, org.springframework.security.web.header.HeaderWriterFilter@68be8ad6, org.springframework.web.filter.CorsFilter@652dc461, org.springframework.security.web.authentication.logout.LogoutFilter@1ad96123, com.yxly.security.JwtAuthenticationFilter@120dc15c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71359132, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44078018, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71339ebb, org.springframework.security.web.session.SessionManagementFilter@96fabda, org.springframework.security.web.access.ExceptionTranslationFilter@3f02b72a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e2b4423]
2025-10-17 00:17:15.170 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:17:15.198 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:17:15.201 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.683 seconds (JVM running for 446.471)
2025-10-17 00:17:15.202 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:17:24.721 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 00:17:24.722 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 00:17:24.722 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 00:17:24.723 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:17:24.723 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:17:24.726 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:17:24.731 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:17:24.732 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:17:24.735 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:17:24.736 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:17:24.736 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:17:24.741 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:17:24.741 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:17:24.741 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:17:24.750 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:17:24.758 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:17:24.758 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:17:24.830 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:17:24.830 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:17:24.831 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:17:24.835 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:17:24.835 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:17:24.839 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:17:24.844 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:17:33.621 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:17:33.621 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:17:33.624 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:17:33.624 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:17:33.624 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:17:33.626 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:17:33.628 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:17:33.628 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:17:33.629 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:17:33.629 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:17:33.632 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:17:33.632 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:17:33.634 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:17:33.642 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:17:51.282 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:17:51.283 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:17:51.285 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:17:51.288 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:17:51.289 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:17:51.293 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:17:51.294 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:17:51.474 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:17:51.474 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:17:51.474 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:17:51.474 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:17:51.476 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:17:51.476 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:17:51.479 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:17:51.479 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:17:51.480 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:17:51.480 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:17:51.483 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:17:51.483 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:17:51.486 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=10
2025-10-17 00:17:51.486 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:17:51.487 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 00:17:51.487 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=10
2025-10-17 00:17:51.491 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:17:51.495 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:24:53.823 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-10} closing ...
2025-10-17 00:24:53.825 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-10} closed
2025-10-17 00:26:45.818 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 3972 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:26:45.820 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:26:45.820 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:26:45.865 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 00:26:45.865 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 00:26:46.522 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:26:46.530 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:26:46.560 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-10-17 00:26:47.235 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:26:47.244 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:26:47.245 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:26:47.318 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:26:47.318 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1453 ms
2025-10-17 00:26:47.398 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:26:47.776 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 00:26:48.052 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:26:48.405 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:26:48.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:26:48.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:26:48.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:26:48.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:26:48.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:26:48.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:26:48.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:26:48.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:26:48.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:26:48.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:26:48.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:26:48.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:26:48.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:26:48.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:26:48.410 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:26:48.416 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4754d44e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2465f55f, org.springframework.security.web.context.SecurityContextPersistenceFilter@66b41af7, org.springframework.security.web.header.HeaderWriterFilter@14982691, org.springframework.web.filter.CorsFilter@19fa0baf, org.springframework.security.web.authentication.logout.LogoutFilter@cd43e58, com.yxly.security.JwtAuthenticationFilter@11c20381, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@710f20fe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d7f9ee1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dd5232, org.springframework.security.web.session.SessionManagementFilter@69cb4d74, org.springframework.security.web.access.ExceptionTranslationFilter@685cba02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a77ea09]
2025-10-17 00:26:49.031 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:26:49.090 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:26:49.099 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.615 seconds (JVM running for 3.94)
2025-10-17 00:27:02.588 [http-nio-8080-exec-3] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 00:27:02.589 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 00:27:02.590 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 00:27:02.601 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:27:02.601 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:27:02.601 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:27:02.605 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:02.605 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:02.605 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:02.662 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:02.663 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:02.663 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:02.767 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:27:02.767 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:27:02.767 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:27:02.768 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:27:02.768 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:27:02.768 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:27:02.790 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:27:02.796 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:27:02.834 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:02.850 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:02.856 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:08.293 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 00:27:08.294 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:08.302 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:08.309 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 00:27:08.309 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 00:27:08.415 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 00:27:08.428 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 用户提现申请已保存 - 用户ID: 5, 用户名: admin, 金额: 100, 提现方式: 支付宝, 记录ID: 1
2025-10-17 00:27:08.432 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:08.438 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:27:08.439 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:08.444 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:08.450 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:27:08.450 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:27:08.461 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:27:08.463 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:08.468 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:27:08.469 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:08.472 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:08.480 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:27:08.481 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:27:08.487 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:27:08.498 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:08.779 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:27:08.780 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:08.782 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:08.786 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:27:08.786 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:27:08.803 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:13.818 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:27:13.819 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:13.821 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:13.826 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:27:13.826 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:27:13.834 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:27:13.847 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:17.645 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:27:17.645 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:27:17.646 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:27:17.646 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:17.646 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:17.646 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:17.649 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:17.650 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:17.650 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:17.654 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:27:17.654 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:27:17.654 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:27:17.655 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:27:17.655 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:27:17.655 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:27:17.661 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:27:17.664 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:27:17.666 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:17.670 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:17.671 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:20.149 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:27:20.149 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:20.152 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:20.157 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:27:20.158 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:27:20.159 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:27:20.166 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:31.333 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:27:31.333 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:27:31.333 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:27:31.334 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:31.334 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:31.334 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:31.336 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:31.336 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:31.336 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:31.342 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:27:31.342 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:27:31.342 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:27:31.342 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:27:31.342 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:27:31.345 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:27:31.352 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:27:31.355 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:27:31.358 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:31.364 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:31.364 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:27:32.621 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:27:32.621 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:27:32.627 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:27:32.634 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:27:32.634 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:27:32.635 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:27:32.642 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:29:53.989 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:29:53.989 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:29:53.993 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:29:54.015 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:29:54.016 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:29:54.017 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:29:54.027 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:29:54.039 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:29:54.040 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:29:54.040 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:29:54.040 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:29:54.040 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:29:54.040 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:29:54.043 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:29:54.044 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:29:54.044 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:29:54.050 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:29:54.050 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:29:54.050 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:29:54.050 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:29:54.050 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:29:54.050 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:29:54.056 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:29:54.060 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:29:54.062 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:29:54.070 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:29:54.070 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:30:26.712 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 00:30:26.727 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:30:26.728 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 00:30:26.743 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-622321020] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:30:26.744 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-622321020] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:30:26.754 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 00:30:26.759 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 00:30:26.825 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 3972 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:30:26.825 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:30:26.825 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:30:26.990 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:30:26.990 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:30:26.997 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 00:30:27.099 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:30:27.100 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:30:27.100 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:30:27.118 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:30:27.118 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 291 ms
2025-10-17 00:30:27.161 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:30:27.243 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 00:30:27.308 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:30:27.416 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:30:27.416 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:30:27.417 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:30:27.418 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:30:27.418 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:30:27.418 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:30:27.418 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:30:27.420 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c7e6142, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cca18ca, org.springframework.security.web.context.SecurityContextPersistenceFilter@5043bfbd, org.springframework.security.web.header.HeaderWriterFilter@5439bf47, org.springframework.web.filter.CorsFilter@c921353, org.springframework.security.web.authentication.logout.LogoutFilter@98c5e38, com.yxly.security.JwtAuthenticationFilter@252b7a42, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f3a4d92, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56e000b5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17493595, org.springframework.security.web.session.SessionManagementFilter@784d580c, org.springframework.security.web.access.ExceptionTranslationFilter@5d356b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74bdefa3]
2025-10-17 00:30:27.619 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:30:27.662 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:30:27.666 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.869 seconds (JVM running for 222.507)
2025-10-17 00:30:27.668 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:30:49.613 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:30:49.625 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:30:49.627 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1286637276] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:30:49.627 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1286637276] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:30:49.631 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 00:30:49.633 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 00:30:49.690 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 3972 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:30:49.691 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:30:49.691 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:30:49.829 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:30:49.829 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:30:49.836 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-17 00:30:49.924 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:30:49.925 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:30:49.925 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:30:49.944 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:30:49.944 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 252 ms
2025-10-17 00:30:49.973 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:30:50.051 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 00:30:50.115 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:30:50.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:30:50.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:30:50.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:30:50.207 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@779fd454, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a8941c0, org.springframework.security.web.context.SecurityContextPersistenceFilter@202e7be7, org.springframework.security.web.header.HeaderWriterFilter@27f05720, org.springframework.web.filter.CorsFilter@5c62d9d3, org.springframework.security.web.authentication.logout.LogoutFilter@401cf46c, com.yxly.security.JwtAuthenticationFilter@3d7cfbde, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38a3d035, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d4fc956, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d2f5999, org.springframework.security.web.session.SessionManagementFilter@3936f931, org.springframework.security.web.access.ExceptionTranslationFilter@a0252ed, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33a45f11]
2025-10-17 00:30:50.355 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:30:50.395 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:30:50.398 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.729 seconds (JVM running for 245.239)
2025-10-17 00:30:50.398 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:30:57.934 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:30:57.947 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:30:57.949 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-334405315] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:30:57.949 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-334405315] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:30:57.952 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 00:30:57.954 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 00:30:58.002 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 3972 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:30:58.003 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:30:58.003 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:30:58.111 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:30:58.111 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:30:58.117 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:30:58.218 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:30:58.219 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:30:58.220 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:30:58.246 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:30:58.246 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 242 ms
2025-10-17 00:30:58.291 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:30:58.370 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 00:30:58.434 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:30:58.519 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:30:58.519 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:30:58.520 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:30:58.521 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:30:58.521 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:30:58.522 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@713003b4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dcb8a56, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d6ac78a, org.springframework.security.web.header.HeaderWriterFilter@127e50d7, org.springframework.web.filter.CorsFilter@2cdf179d, org.springframework.security.web.authentication.logout.LogoutFilter@4ec27a13, com.yxly.security.JwtAuthenticationFilter@1543dc20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3dd627fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5dce3078, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4238bc90, org.springframework.security.web.session.SessionManagementFilter@49f437bd, org.springframework.security.web.access.ExceptionTranslationFilter@3624c103, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f702f31]
2025-10-17 00:30:58.669 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:30:58.709 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:30:58.712 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.729 seconds (JVM running for 253.554)
2025-10-17 00:30:58.714 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:31:08.348 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 00:31:08.360 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:31:08.363 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-933819991] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:31:08.364 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-933819991] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:31:08.367 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 00:31:08.370 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 00:31:08.427 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 3972 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:31:08.428 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:31:08.428 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:31:08.544 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:31:08.545 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:31:08.550 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:31:08.635 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:31:08.635 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:31:08.636 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:31:08.654 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:31:08.654 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 225 ms
2025-10-17 00:31:08.685 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:31:08.753 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 00:31:08.810 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:31:08.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:31:08.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:31:08.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:31:08.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:31:08.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:31:08.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:31:08.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:31:08.902 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@80f1ce7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ba2211b, org.springframework.security.web.context.SecurityContextPersistenceFilter@36b9fcb1, org.springframework.security.web.header.HeaderWriterFilter@454959ef, org.springframework.web.filter.CorsFilter@10de100a, org.springframework.security.web.authentication.logout.LogoutFilter@560040b1, com.yxly.security.JwtAuthenticationFilter@3802263d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b36e666, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@343f46ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@525cd66c, org.springframework.security.web.session.SessionManagementFilter@2f2684f5, org.springframework.security.web.access.ExceptionTranslationFilter@1ef27e0e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ca3cc79]
2025-10-17 00:31:09.052 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:31:09.083 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:31:09.086 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.68 seconds (JVM running for 263.927)
2025-10-17 00:31:09.087 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:31:51.555 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-10-17 00:31:51.565 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 00:31:51.567 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-798085472] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 00:31:51.567 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-798085472] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 00:31:51.570 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 00:31:51.572 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 00:31:51.629 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 3972 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:31:51.629 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:31:51.629 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:31:51.728 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:31:51.728 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:31:51.733 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 00:31:51.811 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:31:51.811 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:31:51.811 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:31:51.831 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:31:51.831 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 201 ms
2025-10-17 00:31:51.855 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:31:51.922 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 00:31:51.978 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:31:52.053 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:31:52.053 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:31:52.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:31:52.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:31:52.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:31:52.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:31:52.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:31:52.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:31:52.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:31:52.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:31:52.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:31:52.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:31:52.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:31:52.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:31:52.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:31:52.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:31:52.056 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@184c283a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@882c3e5, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e1a74d2, org.springframework.security.web.header.HeaderWriterFilter@76bbe5dc, org.springframework.web.filter.CorsFilter@692be1fc, org.springframework.security.web.authentication.logout.LogoutFilter@38376c7b, com.yxly.security.JwtAuthenticationFilter@1ec4e617, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c0992d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2bfc19ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ad1f003, org.springframework.security.web.session.SessionManagementFilter@15877c64, org.springframework.security.web.access.ExceptionTranslationFilter@600186ea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ea5bd9f]
2025-10-17 00:31:52.193 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:31:52.223 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:31:52.226 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.614 seconds (JVM running for 307.067)
2025-10-17 00:31:52.226 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 00:32:20.373 [http-nio-8080-exec-3] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 00:32:20.373 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 00:32:20.374 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 00:32:20.374 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:32:20.374 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:20.376 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:20.386 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:32:20.387 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:32:20.392 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:32:20.406 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:23.080 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:32:23.080 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:32:23.080 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:32:23.081 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:23.081 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:23.081 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:23.083 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:23.084 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:23.085 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:23.088 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:32:23.088 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:32:23.088 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:32:23.088 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:32:23.089 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:32:23.090 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:32:23.096 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:32:23.099 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:32:23.101 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:23.104 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:23.113 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:25.576 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:32:25.577 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:25.579 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:25.583 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:32:25.583 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:32:25.584 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:32:25.593 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:34.290 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 00:32:34.291 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:34.292 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:34.297 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 00:32:34.297 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 00:32:34.315 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 00:32:34.318 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 用户提现申请已保存 - 用户ID: 5, 用户名: admin, 金额: 100, 提现方式: 支付宝, 记录ID: 2
2025-10-17 00:32:34.321 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:34.326 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:32:34.326 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:34.328 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:34.332 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:32:34.332 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:32:34.340 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 100.00
2025-10-17 00:32:34.341 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:34.347 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:32:34.347 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:34.349 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:34.353 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:32:34.353 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:32:34.357 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:32:34.363 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:34.657 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:32:34.658 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:34.660 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:34.664 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:32:34.664 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:32:34.674 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:38.947 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:32:38.947 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:38.950 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:38.952 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:32:38.953 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:32:38.953 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:32:38.960 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:56.236 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:32:56.236 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:56.237 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:56.241 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [authenticated]
2025-10-17 00:32:56.241 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:32:56.246 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:56.248 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=10&username=
2025-10-17 00:32:56.248 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:56.249 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 00:32:56.249 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=10&username=
2025-10-17 00:32:56.256 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:32:59.424 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:32:59.425 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:32:59.427 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:32:59.430 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:32:59.430 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:32:59.431 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:32:59.438 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:33:02.906 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:33:02.907 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:33:02.908 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:33:02.912 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [authenticated]
2025-10-17 00:33:02.914 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:33:02.917 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:33:02.918 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=10&username=
2025-10-17 00:33:02.918 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:33:02.918 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 00:33:02.919 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=10&username=
2025-10-17 00:33:02.920 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:33:04.306 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:33:04.307 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:33:04.309 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:33:04.313 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [authenticated]
2025-10-17 00:33:04.313 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:33:04.315 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:33:04.315 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=10&username=
2025-10-17 00:33:04.315 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:33:04.316 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 00:33:04.316 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=10&username=
2025-10-17 00:33:04.318 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:33:12.333 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:33:12.334 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:33:12.335 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:33:12.339 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [authenticated]
2025-10-17 00:33:12.340 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:33:12.344 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:33:12.344 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=10&username=
2025-10-17 00:33:12.344 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:33:12.344 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 00:33:12.345 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=10&username=
2025-10-17 00:33:12.346 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:33:21.345 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-17 00:33:21.348 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-17 00:33:38.566 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 5776 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 00:33:38.567 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 00:33:38.568 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 00:33:38.605 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 00:33:38.606 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 00:33:39.109 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 00:33:39.111 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 00:33:39.130 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-17 00:33:39.748 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 00:33:39.755 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 00:33:39.756 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 00:33:39.835 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 00:33:39.835 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1229 ms
2025-10-17 00:33:39.912 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 00:33:40.250 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 00:33:40.495 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 00:33:40.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 00:33:40.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 00:33:40.801 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 00:33:40.801 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 00:33:40.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 00:33:40.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 00:33:40.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 00:33:40.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 00:33:40.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 00:33:40.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 00:33:40.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 00:33:40.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 00:33:40.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 00:33:40.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 00:33:40.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 00:33:40.803 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 00:33:40.804 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 00:33:40.808 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d3c7504, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39b1d194, org.springframework.security.web.context.SecurityContextPersistenceFilter@54431759, org.springframework.security.web.header.HeaderWriterFilter@1a422547, org.springframework.web.filter.CorsFilter@7ffce495, org.springframework.security.web.authentication.logout.LogoutFilter@2e3e98cf, com.yxly.security.JwtAuthenticationFilter@3da78779, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d9cc090, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6763a616, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b1b3759, org.springframework.security.web.session.SessionManagementFilter@5e2467be, org.springframework.security.web.access.ExceptionTranslationFilter@67cea296, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cccf3d1]
2025-10-17 00:33:41.417 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 00:33:41.475 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 00:33:41.484 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.201 seconds (JVM running for 3.503)
2025-10-17 00:33:47.784 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 00:33:47.784 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 00:33:47.785 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 00:33:47.794 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:33:47.796 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:33:47.834 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:33:47.929 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 00:33:47.930 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:33:48.047 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:17.408 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/withdraw/audit
2025-10-17 00:34:17.408 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:17.414 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:17.419 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/withdraw/audit] with attributes [permitAll]
2025-10-17 00:34:17.419 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/withdraw/audit
2025-10-17 00:34:17.492 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 00:34:17.498 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 提现审核通过，已扣除用户余额 - 用户ID: 5, 扣除金额: 100.00, 剩余余额: 0.00
2025-10-17 00:34:17.500 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 00:34:17.503 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 提现审核完成 - 审核人: admin, 提现ID: 1, 状态: 1, 备注: 
2025-10-17 00:34:17.506 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:17.669 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:34:17.669 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:17.671 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:17.676 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 00:34:17.676 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:34:17.687 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:27.348 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:34:27.348 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:34:27.348 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:27.348 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:34:27.349 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:27.349 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:27.351 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:27.351 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:27.351 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:27.357 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:34:27.357 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:34:27.357 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:34:27.358 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:34:27.358 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:34:27.358 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:34:27.369 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:34:27.372 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 0.00
2025-10-17 00:34:27.374 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:27.378 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:27.382 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:32.735 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/withdraw/audit
2025-10-17 00:34:32.736 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:32.738 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:32.742 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/withdraw/audit] with attributes [permitAll]
2025-10-17 00:34:32.742 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/withdraw/audit
2025-10-17 00:34:32.755 [http-nio-8080-exec-7] ERROR [com.yxly.controller.admin.WithdrawController] - 提现审核失败
java.lang.RuntimeException: 用户余额不足，无法完成提现
	at com.yxly.service.impl.WithdrawServiceImpl.auditWithdraw(WithdrawServiceImpl.java:104)
	at com.yxly.service.impl.WithdrawServiceImpl$$FastClassBySpringCGLIB$$1c15a34b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.WithdrawServiceImpl$$EnhancerBySpringCGLIB$$23991045.auditWithdraw(<generated>)
	at com.yxly.controller.admin.WithdrawController.auditWithdraw(WithdrawController.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-10-17 00:34:32.758 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:37.864 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/withdraw/audit
2025-10-17 00:34:37.864 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:37.866 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:37.872 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/withdraw/audit] with attributes [permitAll]
2025-10-17 00:34:37.872 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/withdraw/audit
2025-10-17 00:34:37.880 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 00:34:37.883 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 提现审核完成 - 审核人: admin, 提现ID: 2, 状态: 2, 备注: 
2025-10-17 00:34:37.887 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:38.112 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:34:38.113 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:38.115 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:38.118 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 00:34:38.119 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:34:38.128 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:42.631 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:34:42.632 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:42.633 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:42.638 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:34:42.638 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:34:42.647 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 0.00
2025-10-17 00:34:42.648 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:42.778 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:34:42.778 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:42.780 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:42.785 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:34:42.785 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:34:42.789 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:34:42.793 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:34:42.793 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:42.799 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:42.800 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:42.804 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:34:42.804 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:34:42.816 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:50.626 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:34:50.627 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:50.629 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:50.634 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:34:50.634 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:34:50.636 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:34:50.648 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:51.110 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:34:51.110 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:51.113 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:51.116 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 00:34:51.117 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:34:51.128 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:52.387 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:34:52.388 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:52.390 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:52.394 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:34:52.394 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:34:52.396 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:34:52.406 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:53.416 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:34:53.416 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:53.418 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:53.424 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 00:34:53.425 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 00:34:53.439 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:34:56.872 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:34:56.872 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:34:56.874 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:34:56.879 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:34:56.879 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:34:56.880 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:34:56.888 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:33.883 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 00:35:33.883 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 00:35:33.884 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:33.884 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:33.885 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:33.885 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:33.890 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 00:35:33.890 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 00:35:33.891 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 00:35:33.895 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 00:35:33.897 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 00:35:33.897 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 00:35:33.900 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 00:35:33.901 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 00:35:33.912 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:33.912 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 00:35:33.914 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:39.938 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:35:39.938 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:35:39.938 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:35:39.938 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:39.938 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:39.939 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:39.941 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:39.941 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:39.941 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:39.944 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:35:39.944 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:35:39.944 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:35:39.945 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:35:39.946 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:35:39.951 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:35:39.957 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:35:39.958 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 0.00
2025-10-17 00:35:39.959 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:39.965 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:39.966 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:46.771 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/files/upload/payment-proof
2025-10-17 00:35:46.772 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:46.774 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:46.778 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/files/upload/payment-proof] with attributes [permitAll]
2025-10-17 00:35:46.778 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/files/upload/payment-proof
2025-10-17 00:35:46.795 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.FileController] - 上传支付凭证: fileName=3.jpg, size=14008
2025-10-17 00:35:46.912 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: payment-proof/1760632546795_3.jpg
2025-10-17 00:35:46.914 [http-nio-8080-exec-2] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.17653397568277713551\work\Tomcat\localhost\api\upload_012895e0_1022_4a95_bb9b_f17ea0638038_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.17653397568277713551\work\Tomcat\localhost\api\upload_012895e0_1022_4a95_bb9b_f17ea0638038_00000000.tmp
	... 94 common frames omitted
2025-10-17 00:35:46.916 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:46.918 [http-nio-8080-exec-2] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.17653397568277713551\work\Tomcat\localhost\api\upload_012895e0_1022_4a95_bb9b_f17ea0638038_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.17653397568277713551\work\Tomcat\localhost\api\upload_012895e0_1022_4a95_bb9b_f17ea0638038_00000000.tmp
	... 13 common frames omitted
2025-10-17 00:35:47.628 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/apply
2025-10-17 00:35:47.628 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:47.630 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:47.634 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/apply] with attributes [permitAll]
2025-10-17 00:35:47.634 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/apply
2025-10-17 00:35:47.643 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 用户申请充值: userId=5, amount=1000
2025-10-17 00:35:47.647 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 00:35:47.652 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 用户充值申请成功: recordId=5
2025-10-17 00:35:47.655 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:47.974 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:35:47.974 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:35:47.975 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:47.975 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:47.978 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:47.978 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:47.984 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:35:47.985 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:35:47.985 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:35:47.985 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:35:47.990 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:35:47.997 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:47.997 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:50.253 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:35:50.254 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:50.256 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:50.263 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:35:50.263 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:35:50.264 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:35:50.272 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:52.543 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/recharge/audit
2025-10-17 00:35:52.544 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:52.545 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:52.549 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/recharge/audit] with attributes [permitAll]
2025-10-17 00:35:52.549 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/recharge/audit
2025-10-17 00:35:52.553 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 管理员审核充值: auditorId=1, recordId=5, status=1
2025-10-17 00:35:52.556 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 00:35:52.560 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 00:35:52.562 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 用户余额更新成功: userId=5, oldBalance=0.00, newBalance=1000.00
2025-10-17 00:35:52.562 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 充值审核完成: recordId=5, status=1
2025-10-17 00:35:52.566 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:52.574 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:35:52.574 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:52.576 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:52.580 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 00:35:52.580 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 00:35:52.581 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 00:35:52.586 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:56.095 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:35:56.095 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 00:35:56.095 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:35:56.096 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:56.096 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:56.096 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:35:56.100 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:56.100 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:56.100 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:35:56.109 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:35:56.109 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 00:35:56.110 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 00:35:56.110 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 00:35:56.110 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 00:35:56.111 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 00:35:56.114 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 00:35:56.116 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 1000.00
2025-10-17 00:35:56.118 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:56.123 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:35:56.124 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:36:00.085 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 00:36:00.085 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 00:36:00.086 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:36:00.086 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:36:00.088 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:36:00.089 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:36:00.095 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 00:36:00.095 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 00:36:00.095 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 00:36:00.095 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 00:36:00.095 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 00:36:00.096 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 00:36:00.096 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 00:36:00.096 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 00:36:00.106 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:36:00.108 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 00:36:00.109 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:36:01.665 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 00:36:01.666 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:36:01.668 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 00:36:01.671 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 00:36:01.671 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 00:36:01.673 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 00:36:01.673 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 00:36:01.677 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:36:48.439 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 00:36:48.440 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:36:48.440 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 00:36:48.441 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 00:36:48.441 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 00:36:48.441 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 00:36:48.444 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 00:36:48.445 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 00:36:48.445 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 00:36:48.446 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 00:36:48.465 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:57:42.535 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24960 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 13:57:42.537 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 13:57:42.538 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 13:57:42.584 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 13:57:42.584 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 13:57:43.205 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 13:57:43.208 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 13:57:43.232 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 13:57:44.061 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 13:57:44.074 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 13:57:44.075 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 13:57:44.149 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 13:57:44.149 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1565 ms
2025-10-17 13:57:44.230 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 13:57:44.696 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 13:57:45.007 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 13:57:45.365 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 13:57:45.366 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 13:57:45.366 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 13:57:45.366 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 13:57:45.366 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 13:57:45.366 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 13:57:45.366 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 13:57:45.366 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 13:57:45.367 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 13:57:45.367 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 13:57:45.367 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 13:57:45.367 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 13:57:45.367 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 13:57:45.367 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 13:57:45.367 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 13:57:45.368 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 13:57:45.368 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 13:57:45.374 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3dbe766, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f8252e2, org.springframework.security.web.context.SecurityContextPersistenceFilter@4dfdd192, org.springframework.security.web.header.HeaderWriterFilter@5cc320f0, org.springframework.web.filter.CorsFilter@2d976704, org.springframework.security.web.authentication.logout.LogoutFilter@2294579e, com.yxly.security.JwtAuthenticationFilter@1453f751, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20f52e21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@788484cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21a2f093, org.springframework.security.web.session.SessionManagementFilter@4e99d1f0, org.springframework.security.web.access.ExceptionTranslationFilter@26edde41, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35348d4]
2025-10-17 13:57:46.064 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 13:57:46.136 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 13:57:46.147 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.986 seconds (JVM running for 4.324)
2025-10-17 13:58:15.772 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 13:58:15.772 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 13:58:15.774 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 13:58:15.784 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 13:58:15.787 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:15.848 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:15.985 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 13:58:15.985 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 13:58:16.159 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:25.269 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 13:58:25.270 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 13:58:25.270 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:25.270 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:25.270 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 13:58:25.270 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:25.272 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:25.273 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:25.274 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:25.280 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 13:58:25.280 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 13:58:25.280 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 13:58:25.281 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 13:58:25.281 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 13:58:25.282 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 13:58:25.296 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 1000.00
2025-10-17 13:58:25.296 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 13:58:25.300 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:25.312 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:25.316 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:35.838 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/withdraw/apply
2025-10-17 13:58:35.839 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:35.846 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:35.851 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/withdraw/apply] with attributes [permitAll]
2025-10-17 13:58:35.851 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/withdraw/apply
2025-10-17 13:58:35.926 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 13:58:35.936 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 用户提现申请已保存 - 用户ID: 5, 用户名: admin, 金额: 100, 提现方式: 支付宝, 记录ID: 3
2025-10-17 13:58:35.941 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:36.088 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 13:58:36.088 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:36.089 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:36.096 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 13:58:36.096 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 13:58:36.103 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 1000.00
2025-10-17 13:58:36.104 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:36.257 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 13:58:36.257 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:36.259 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:36.265 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 13:58:36.266 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 13:58:36.270 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 13:58:36.278 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:36.412 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 13:58:36.413 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:36.415 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:36.419 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 13:58:36.420 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 13:58:36.434 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:40.705 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 13:58:40.705 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:40.708 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:40.713 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 13:58:40.713 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 13:58:40.723 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:43.594 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/withdraw/audit
2025-10-17 13:58:43.594 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:43.596 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:43.600 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/withdraw/audit] with attributes [permitAll]
2025-10-17 13:58:43.600 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/withdraw/audit
2025-10-17 13:58:43.612 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 13:58:43.616 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 提现审核通过，已扣除用户余额 - 用户ID: 5, 扣除金额: 100.00, 剩余余额: 900.00
2025-10-17 13:58:43.618 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 13:58:43.620 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.WithdrawServiceImpl] - 提现审核完成 - 审核人: admin, 提现ID: 3, 状态: 1, 备注: 
2025-10-17 13:58:43.625 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:43.635 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 13:58:43.635 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:43.637 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:43.641 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 13:58:43.642 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 13:58:43.650 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:45.986 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 13:58:45.986 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 13:58:45.986 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 13:58:45.986 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:45.987 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:45.986 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:58:45.989 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:45.990 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:45.990 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:58:45.994 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 13:58:45.994 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 13:58:45.995 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 13:58:45.995 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 13:58:45.998 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 13:58:45.998 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 13:58:46.001 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 13:58:46.006 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 13:58:46.007 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:46.010 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:58:46.015 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:59:16.927 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 13:59:16.927 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 13:59:16.927 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:59:16.927 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:59:16.931 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:59:16.931 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:59:16.936 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 13:59:16.936 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 13:59:16.936 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 13:59:16.936 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 13:59:16.937 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 13:59:16.939 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 13:59:16.941 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 13:59:16.941 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 13:59:16.957 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 13:59:16.962 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:59:16.962 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:59:18.452 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 13:59:18.453 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:59:18.458 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 13:59:18.463 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 13:59:18.463 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 13:59:18.466 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 13:59:18.466 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 13:59:18.470 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:59:51.356 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 13:59:51.356 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:59:51.357 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 13:59:51.358 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 13:59:51.359 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 13:59:51.359 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 13:59:51.362 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 13:59:51.362 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 13:59:51.362 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 13:59:51.362 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 13:59:51.378 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:00:10.669 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-17 14:00:10.669 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 14:00:10.669 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:00:10.669 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:00:10.671 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:00:10.671 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:00:10.676 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-17 14:00:10.676 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-17 14:00:10.678 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-17 14:00:10.678 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 14:00:10.693 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-17 14:00:10.693 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 14:00:10.693 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-17 14:00:10.693 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 14:00:10.700 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:00:10.703 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:00:23.487 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 14:00:23.487 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:00:23.490 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:00:23.495 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 14:00:23.495 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 14:00:23.497 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 14:00:23.506 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:00:25.842 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 14:00:25.842 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:00:25.845 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:00:25.852 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 14:00:25.852 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 14:00:25.864 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:00:36.996 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 14:00:36.996 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-17 14:00:36.997 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:00:36.997 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:00:36.999 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:00:37.000 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:00:37.003 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-17 14:00:37.004 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-17 14:00:37.006 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-17 14:00:37.007 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-17 14:00:37.007 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-17 14:00:37.007 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 14:00:37.009 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 14:00:37.010 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 14:00:37.024 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:00:37.030 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:04:23.727 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 14:04:23.744 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:04:23.745 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 14:04:23.760 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-963124492] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:04:23.761 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-963124492] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:04:23.776 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 14:04:23.780 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 14:04:23.859 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24960 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:04:23.859 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:04:23.859 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:04:24.044 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:04:24.045 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:04:24.053 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-17 14:04:24.163 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:04:24.163 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:04:24.164 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:04:24.184 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:04:24.184 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 323 ms
2025-10-17 14:04:24.215 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:04:24.300 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 14:04:24.367 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:04:24.484 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:04:24.484 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:04:24.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:04:24.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:04:24.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:04:24.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:04:24.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:04:24.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:04:24.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:04:24.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:04:24.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:04:24.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:04:24.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:04:24.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:04:24.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:04:24.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:04:24.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:04:24.488 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3dcd68ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@742dec1b, org.springframework.security.web.context.SecurityContextPersistenceFilter@11f07ba6, org.springframework.security.web.header.HeaderWriterFilter@2beefefd, org.springframework.web.filter.CorsFilter@47cd15c9, org.springframework.security.web.authentication.logout.LogoutFilter@237a6238, com.yxly.security.JwtAuthenticationFilter@5f44967c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b1def02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37d8fd8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe4bb8d, org.springframework.security.web.session.SessionManagementFilter@668c02ee, org.springframework.security.web.access.ExceptionTranslationFilter@df591b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31fb375a]
2025-10-17 14:04:24.686 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:04:24.728 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:04:24.731 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.906 seconds (JVM running for 402.908)
2025-10-17 14:04:24.733 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:04:31.259 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 14:04:31.271 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:04:31.273 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1789660912] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:04:31.273 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1789660912] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:04:31.277 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 14:04:31.278 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 14:04:31.335 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24960 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:04:31.335 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:04:31.335 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:04:31.484 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:04:31.484 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:04:31.490 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:04:31.579 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:04:31.580 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:04:31.580 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:04:31.600 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:04:31.601 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 265 ms
2025-10-17 14:04:31.642 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:04:31.735 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 14:04:31.802 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:04:31.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:04:31.899 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:04:31.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:04:31.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:04:31.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:04:31.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:04:31.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:04:31.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:04:31.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:04:31.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:04:31.901 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:04:31.901 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:04:31.901 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:04:31.901 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:04:31.901 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:04:31.901 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:04:31.901 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:04:31.903 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1e3c078a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50c4f1c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@57277350, org.springframework.security.web.header.HeaderWriterFilter@72802629, org.springframework.web.filter.CorsFilter@332953a6, org.springframework.security.web.authentication.logout.LogoutFilter@4025a853, com.yxly.security.JwtAuthenticationFilter@3ef51c71, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bdda1e3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@81f71df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6162935f, org.springframework.security.web.session.SessionManagementFilter@452c2c7e, org.springframework.security.web.access.ExceptionTranslationFilter@2ae0d6c9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@48a35753]
2025-10-17 14:04:32.079 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:04:32.126 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:04:32.131 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.818 seconds (JVM running for 410.308)
2025-10-17 14:04:32.132 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:04:40.690 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 14:04:40.703 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:04:40.705 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-114664885] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:04:40.705 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-114664885] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:04:40.709 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 14:04:40.711 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 14:04:40.765 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24960 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:04:40.766 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:04:40.766 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:04:40.886 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:04:40.887 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:04:40.893 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:04:40.976 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:04:40.976 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:04:40.977 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:04:40.995 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:04:40.995 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 228 ms
2025-10-17 14:04:41.025 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:04:41.103 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 14:04:41.169 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:04:41.262 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:04:41.262 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:04:41.262 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:04:41.262 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:04:41.263 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:04:41.263 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:04:41.263 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:04:41.263 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:04:41.263 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:04:41.263 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:04:41.263 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:04:41.264 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:04:41.264 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:04:41.264 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:04:41.264 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:04:41.264 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:04:41.264 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:04:41.267 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13319b7d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@427cb4cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@578e213e, org.springframework.security.web.header.HeaderWriterFilter@325f2df6, org.springframework.web.filter.CorsFilter@7660f0aa, org.springframework.security.web.authentication.logout.LogoutFilter@313bbb15, com.yxly.security.JwtAuthenticationFilter@7272e70a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fe64296, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@649dea01, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b7386c, org.springframework.security.web.session.SessionManagementFilter@99f4d76, org.springframework.security.web.access.ExceptionTranslationFilter@13dd69b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15eca97b]
2025-10-17 14:04:41.420 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:04:41.455 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:04:41.458 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.712 seconds (JVM running for 419.634)
2025-10-17 14:04:41.460 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:05:17.807 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 14:05:17.823 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:05:17.825 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1165134419] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:05:17.826 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1165134419] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:05:17.832 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 14:05:17.836 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 14:05:17.908 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24960 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:05:17.908 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:05:17.908 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:05:18.032 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:05:18.032 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:05:18.038 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 14:05:18.124 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:05:18.124 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:05:18.125 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:05:18.143 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:05:18.144 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 235 ms
2025-10-17 14:05:18.177 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:05:18.277 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 14:05:18.338 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:05:18.435 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:05:18.436 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:05:18.436 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:05:18.436 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:05:18.437 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:05:18.438 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:05:18.438 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:05:18.438 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:05:18.440 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@173fd26d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47828bf2, org.springframework.security.web.context.SecurityContextPersistenceFilter@2180e683, org.springframework.security.web.header.HeaderWriterFilter@7b5be0c7, org.springframework.web.filter.CorsFilter@6e58991d, org.springframework.security.web.authentication.logout.LogoutFilter@73c561f, com.yxly.security.JwtAuthenticationFilter@2f1efb52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f17aab9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b6e3244, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53eeba0, org.springframework.security.web.session.SessionManagementFilter@43a521f7, org.springframework.security.web.access.ExceptionTranslationFilter@6015d98b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2519d284]
2025-10-17 14:05:18.607 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:05:18.640 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:05:18.643 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.765 seconds (JVM running for 456.82)
2025-10-17 14:05:18.645 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:05:34.458 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 14:05:34.471 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:05:34.473 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-9976310] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:05:34.473 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-9976310] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:05:34.477 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 14:05:34.481 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 14:05:34.535 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24960 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:05:34.535 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:05:34.535 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:05:34.645 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:05:34.646 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:05:34.652 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:05:34.735 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:05:34.736 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:05:34.736 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:05:34.751 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:05:34.752 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 215 ms
2025-10-17 14:05:34.788 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:05:34.881 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 14:05:34.940 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:05:35.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:05:35.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:05:35.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:05:35.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:05:35.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:05:35.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:05:35.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:05:35.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:05:35.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:05:35.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:05:35.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:05:35.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:05:35.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:05:35.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:05:35.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:05:35.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:05:35.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:05:35.036 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1fbd9519, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78eddb0, org.springframework.security.web.context.SecurityContextPersistenceFilter@58ff97d8, org.springframework.security.web.header.HeaderWriterFilter@75053916, org.springframework.web.filter.CorsFilter@5f098e04, org.springframework.security.web.authentication.logout.LogoutFilter@28679ae4, com.yxly.security.JwtAuthenticationFilter@3b574ea1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ac0fd77, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36d1a4b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a9bcffd, org.springframework.security.web.session.SessionManagementFilter@659bee47, org.springframework.security.web.access.ExceptionTranslationFilter@4aef0c5c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3cff3505]
2025-10-17 14:05:35.209 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:05:35.245 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:05:35.248 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.732 seconds (JVM running for 473.424)
2025-10-17 14:05:35.249 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:07:33.898 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:07:33.898 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:07:33.899 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 14:07:33.899 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 14:07:33.900 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:07:33.900 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:07:33.901 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 14:07:33.901 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 14:07:33.901 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:07:33.902 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 14:07:33.902 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:07:33.902 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:07:33.902 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 14:07:33.906 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:09:15.522 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-17 14:09:15.524 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-17 14:11:49.033 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 1780 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:11:49.035 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:11:49.036 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:11:49.079 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 14:11:49.079 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 14:11:49.615 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:11:49.617 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:11:49.637 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-17 14:11:50.351 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:11:50.359 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:11:50.359 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:11:50.431 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:11:50.431 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1352 ms
2025-10-17 14:11:50.519 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:11:50.885 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 14:11:51.145 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:11:51.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:11:51.476 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:11:51.476 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:11:51.476 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:11:51.476 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:11:51.476 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:11:51.476 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:11:51.476 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:11:51.477 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:11:51.477 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:11:51.477 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:11:51.477 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:11:51.477 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:11:51.477 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:11:51.477 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:11:51.477 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:11:51.477 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:11:51.481 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e657fa7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@409f11a3, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e5fa30e, org.springframework.security.web.header.HeaderWriterFilter@24c8273e, org.springframework.web.filter.CorsFilter@3aa7633a, org.springframework.security.web.authentication.logout.LogoutFilter@31dee07, com.yxly.security.JwtAuthenticationFilter@46032513, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ef904e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@177ecc6c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36f6f289, org.springframework.security.web.session.SessionManagementFilter@54bba892, org.springframework.security.web.access.ExceptionTranslationFilter@5150a7ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35da618]
2025-10-17 14:11:52.070 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:11:52.146 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:11:52.155 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.437 seconds (JVM running for 3.757)
2025-10-17 14:12:04.204 [http-nio-8080-exec-4] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:12:04.205 [http-nio-8080-exec-4] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:12:04.206 [http-nio-8080-exec-4] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 14:12:04.215 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:12:04.215 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:12:04.217 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:12:04.217 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:12:04.269 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:12:04.269 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:12:04.393 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:12:04.393 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:12:04.394 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:12:04.394 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:12:04.411 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:12:04.418 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:12:04.421 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:12:04.421 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:12:04.503 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:12:04.505 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:12:04.511 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:12:08.252 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:12:08.252 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:12:08.257 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:12:08.262 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:12:08.262 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:12:08.264 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:12:08.264 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:12:08.270 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:15:19.424 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23608 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:15:19.426 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:15:19.426 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:15:19.468 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 14:15:19.468 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 14:15:20.058 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:15:20.060 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:15:20.083 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 14:15:20.772 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:15:20.781 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:15:20.782 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:15:20.856 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:15:20.856 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1387 ms
2025-10-17 14:15:20.933 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:15:21.310 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 14:15:21.581 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:15:21.924 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:15:21.925 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:15:21.926 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:15:21.926 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:15:21.926 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:15:21.926 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:15:21.926 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:15:21.926 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:15:21.927 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:15:21.927 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:15:21.927 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:15:21.927 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:15:21.927 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:15:21.928 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:15:21.928 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:15:21.928 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:15:21.928 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:15:21.935 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c87e128, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6976b374, org.springframework.security.web.context.SecurityContextPersistenceFilter@3dc4c47e, org.springframework.security.web.header.HeaderWriterFilter@61c9d2d9, org.springframework.web.filter.CorsFilter@56a9be34, org.springframework.security.web.authentication.logout.LogoutFilter@1797271e, com.yxly.security.JwtAuthenticationFilter@19e12c32, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52812230, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57126877, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b250a5f, org.springframework.security.web.session.SessionManagementFilter@25d74303, org.springframework.security.web.access.ExceptionTranslationFilter@e4f3bd0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53c76cd]
2025-10-17 14:15:22.591 [restartedMain] WARN  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - Unable to start LiveReload server
2025-10-17 14:15:22.629 [restartedMain] WARN  [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2025-10-17 14:15:22.639 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 14:15:22.644 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 14:15:22.646 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:15:22.662 [restartedMain] INFO  [o.s.b.a.l.ConditionEvaluationReportLoggingListener] - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-17 14:15:22.680 [restartedMain] ERROR [o.s.b.diagnostics.LoggingFailureAnalysisReporter] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-10-17 14:15:30.598 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 8772 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:15:30.600 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:15:30.601 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:15:30.646 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 14:15:30.647 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 14:15:31.219 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:15:31.221 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:15:31.242 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 14:15:31.877 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:15:31.886 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:15:31.886 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:15:31.961 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:15:31.961 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1313 ms
2025-10-17 14:15:32.039 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:15:32.410 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 14:15:32.662 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:15:32.998 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:15:32.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:15:32.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:15:33.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:15:33.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:15:33.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:15:33.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:15:33.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:15:33.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:15:33.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:15:33.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:15:33.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:15:33.001 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:15:33.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:15:33.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:15:33.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:15:33.002 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:15:33.008 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c5e4741, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@163822aa, org.springframework.security.web.context.SecurityContextPersistenceFilter@d7544c7, org.springframework.security.web.header.HeaderWriterFilter@43973c19, org.springframework.web.filter.CorsFilter@779b3262, org.springframework.security.web.authentication.logout.LogoutFilter@2024df26, com.yxly.security.JwtAuthenticationFilter@73acef17, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e92e76f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21aa3896, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69c408b7, org.springframework.security.web.session.SessionManagementFilter@595ac968, org.springframework.security.web.access.ExceptionTranslationFilter@e0d7af8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29751b6f]
2025-10-17 14:15:33.596 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:15:33.644 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:15:33.653 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.378 seconds (JVM running for 3.699)
2025-10-17 14:15:43.972 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:15:43.973 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:15:43.975 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 14:15:43.984 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-17 14:15:43.984 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 14:15:43.986 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:15:43.986 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:15:44.028 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:15:44.028 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:15:44.127 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-17 14:15:44.127 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-17 14:15:44.128 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-17 14:15:44.128 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 14:15:44.184 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-17 14:15:44.184 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 14:15:44.187 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-17 14:15:44.187 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 14:15:44.265 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:15:44.265 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:15:50.630 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:15:50.630 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:15:50.630 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:15:50.630 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:15:50.633 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:15:50.635 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:15:50.643 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:15:50.643 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:15:50.644 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:15:50.644 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:15:50.644 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:15:50.644 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:15:50.645 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:15:50.645 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:15:50.654 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:15:50.656 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:15:50.658 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:15:53.049 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:15:53.050 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:15:53.055 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:15:53.062 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:15:53.062 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:15:53.071 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:15:53.084 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:15:53.090 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:15:53.090 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:15:53.091 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:15:53.097 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:15:53.097 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:15:53.102 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:15:53.112 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:15:54.402 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:15:54.402 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:15:54.403 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:15:54.403 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:15:54.405 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:15:54.405 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:15:54.413 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:15:54.413 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:15:54.413 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:15:54.413 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:15:54.413 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:15:54.414 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:15:54.414 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:15:54.415 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:15:54.424 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:15:54.426 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:15:54.428 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:15:56.017 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:15:56.017 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:15:56.019 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:15:56.023 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:15:56.024 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:15:56.026 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:15:56.026 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:15:56.032 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:16:17.877 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:16:17.878 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:16:17.885 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:16:17.889 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:16:17.890 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:16:17.929 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:16:17.938 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:16:18.017 [http-nio-8080-exec-5] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
### The error may exist in com/yxly/mapper/BookingOrderMapper.java (best guess)
### The error may involve com.yxly.mapper.BookingOrderMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO booking_order  ( order_no, customer_id, room_id, check_in_date, check_out_date, nights, guests_count, room_price, total_amount, paid_amount, booking_status, payment_status, booking_source, special_requests, contact_phone, contact_name,      create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,      ?, ?  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:248)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy116.insert(Unknown Source)
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:110)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$61adb295.createBooking(<generated>)
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy133.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy130.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 120 common frames omitted
2025-10-17 14:16:18.022 [http-nio-8080-exec-5] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.dao.DataIntegrityViolationException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))<EOL><EOL>### The error may exist in com/yxly/mapper/BookingOrderMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.BookingOrderMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO booking_order  ( order_no, customer_id, room_id, check_in_date, check_out_date, nights, guests_count, room_price, total_amount, paid_amount, booking_status, payment_status, booking_source, special_requests, contact_phone, contact_name,      create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,      ?, ?  )<EOL><EOL>### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))<EOL>; Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))]
2025-10-17 14:16:18.022 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:16:26.249 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:16:26.249 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:16:26.252 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:16:26.258 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:16:26.258 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:16:26.259 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:16:26.259 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:16:26.265 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:16:26.552 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:16:26.552 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:16:26.554 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:16:26.559 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:16:26.559 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:16:26.560 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:16:26.560 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:16:26.569 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:16:26.570 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:16:36.038 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:16:36.039 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:16:36.042 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:16:36.047 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:16:36.047 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:16:36.049 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:16:36.049 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:16:36.052 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:16:46.191 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-17 14:16:46.191 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:16:46.193 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:16:46.197 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-17 14:16:46.198 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-17 14:16:46.202 [http-nio-8080-exec-4] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-17 14:16:46.203 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:16:55.445 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 14:16:55.446 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:16:55.447 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:16:55.447 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 14:16:55.448 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 14:16:55.453 [http-nio-8080-exec-10] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=admin, userType=user
2025-10-17 14:16:55.455 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: admin, 登录类型: user
2025-10-17 14:16:55.531 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-17 14:16:55.543 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 14:16:55.547 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: admin
2025-10-17 14:16:55.550 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:16:57.352 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:16:57.352 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:16:57.352 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:16:57.352 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:16:57.356 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:16:57.356 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:16:57.361 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:16:57.361 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:16:57.362 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:16:57.362 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:16:57.371 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:16:57.371 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:16:57.372 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:16:57.372 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:16:57.372 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:16:57.380 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:16:57.381 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:16:58.487 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:16:58.487 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:16:58.490 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:16:58.493 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:16:58.494 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:16:58.495 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:16:58.495 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:16:58.498 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:17:29.041 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:17:29.041 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:17:29.045 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:17:29.049 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:17:29.049 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:17:29.056 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:17:29.060 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:17:29.066 [http-nio-8080-exec-9] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
### The error may exist in com/yxly/mapper/BookingOrderMapper.java (best guess)
### The error may involve com.yxly.mapper.BookingOrderMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO booking_order  ( order_no, customer_id, room_id, check_in_date, check_out_date, nights, guests_count, room_price, total_amount, paid_amount, booking_status, payment_status, booking_source, special_requests, contact_phone, contact_name,      create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,      ?, ?  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:248)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy116.insert(Unknown Source)
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:110)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$61adb295.createBooking(<generated>)
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy133.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy130.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 120 common frames omitted
2025-10-17 14:17:29.069 [http-nio-8080-exec-9] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.dao.DataIntegrityViolationException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))<EOL><EOL>### The error may exist in com/yxly/mapper/BookingOrderMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.BookingOrderMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO booking_order  ( order_no, customer_id, room_id, check_in_date, check_out_date, nights, guests_count, room_price, total_amount, paid_amount, booking_status, payment_status, booking_source, special_requests, contact_phone, contact_name,      create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,      ?, ?  )<EOL><EOL>### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))<EOL>; Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))]
2025-10-17 14:17:29.069 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:25:21.858 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18368 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:25:21.860 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:25:21.861 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:25:21.909 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 14:25:21.910 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 14:25:22.523 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:25:22.525 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:25:22.549 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-17 14:25:23.222 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:25:23.231 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:25:23.231 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:25:23.304 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:25:23.305 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1395 ms
2025-10-17 14:25:23.379 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:25:23.756 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 14:25:24.028 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:25:24.382 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:25:24.383 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:25:24.384 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:25:24.384 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:25:24.384 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:25:24.384 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:25:24.384 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:25:24.385 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:25:24.385 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:25:24.385 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:25:24.385 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:25:24.385 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:25:24.385 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:25:24.385 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:25:24.385 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:25:24.386 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:25:24.386 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:25:24.392 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@319211d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34e259bf, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dd8f5ae, org.springframework.security.web.header.HeaderWriterFilter@391b15f6, org.springframework.web.filter.CorsFilter@53c76cd, org.springframework.security.web.authentication.logout.LogoutFilter@22c83a18, com.yxly.security.JwtAuthenticationFilter@7bb60fa4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12ee65a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f78acc7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7736cf0f, org.springframework.security.web.session.SessionManagementFilter@522f640d, org.springframework.security.web.access.ExceptionTranslationFilter@1fa3ad08, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@381414fb]
2025-10-17 14:25:25.017 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:25:25.066 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:25:25.075 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.57 seconds (JVM running for 3.89)
2025-10-17 14:25:39.652 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:25:39.652 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:25:39.654 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-17 14:25:39.664 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:25:39.666 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:25:39.709 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:25:39.814 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:25:39.815 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:25:39.835 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:25:39.840 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:25:39.892 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:25:42.577 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:25:42.577 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:25:42.578 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:25:42.578 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:25:42.580 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:25:42.584 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:25:42.594 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:25:42.594 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:25:42.594 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:25:42.595 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:25:42.595 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:25:42.596 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:25:42.597 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:25:42.598 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:25:42.612 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:25:42.657 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:25:42.662 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:25:44.280 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:25:44.280 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:25:44.282 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:25:44.289 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:25:44.289 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:25:44.291 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:25:44.291 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:25:44.297 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:25:59.589 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:25:59.590 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:25:59.599 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:25:59.607 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:25:59.607 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:25:59.713 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:25:59.727 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:25:59.788 [http-nio-8080-exec-5] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
### The error may exist in com/yxly/mapper/BookingOrderMapper.java (best guess)
### The error may involve com.yxly.mapper.BookingOrderMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO booking_order  ( order_no, customer_id, room_id, check_in_date, check_out_date, nights, guests_count, room_price, total_amount, paid_amount, booking_status, payment_status, booking_source, special_requests, contact_phone, contact_name,      create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,      ?, ?  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:248)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy116.insert(Unknown Source)
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:110)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$34e17edf.createBooking(<generated>)
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy133.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy130.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 120 common frames omitted
2025-10-17 14:25:59.796 [http-nio-8080-exec-5] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.dao.DataIntegrityViolationException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))<EOL><EOL>### The error may exist in com/yxly/mapper/BookingOrderMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.BookingOrderMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO booking_order  ( order_no, customer_id, room_id, check_in_date, check_out_date, nights, guests_count, room_price, total_amount, paid_amount, booking_status, payment_status, booking_source, special_requests, contact_phone, contact_name,      create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,      ?, ?  )<EOL><EOL>### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))<EOL>; Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))]
2025-10-17 14:25:59.796 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:26:30.395 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 14:26:30.400 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 14:26:35.638 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 15764 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:26:35.640 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:26:35.640 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:26:35.681 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 14:26:35.682 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 14:26:36.233 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:26:36.235 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:26:36.256 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 14:26:36.911 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:26:36.921 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:26:36.921 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:26:36.995 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:26:36.995 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1313 ms
2025-10-17 14:26:37.069 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:26:37.416 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 14:26:37.671 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:26:38.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:26:38.006 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:26:38.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:26:38.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:26:38.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:26:38.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:26:38.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:26:38.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:26:38.007 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:26:38.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:26:38.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:26:38.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:26:38.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:26:38.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:26:38.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:26:38.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:26:38.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:26:38.015 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@319211d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34e259bf, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dd8f5ae, org.springframework.security.web.header.HeaderWriterFilter@391b15f6, org.springframework.web.filter.CorsFilter@53c76cd, org.springframework.security.web.authentication.logout.LogoutFilter@22c83a18, com.yxly.security.JwtAuthenticationFilter@47e0cd65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12ee65a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f78acc7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7736cf0f, org.springframework.security.web.session.SessionManagementFilter@522f640d, org.springframework.security.web.access.ExceptionTranslationFilter@1fa3ad08, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@381414fb]
2025-10-17 14:26:38.614 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:26:38.664 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:26:38.672 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.335 seconds (JVM running for 3.635)
2025-10-17 14:26:44.092 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:26:44.093 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:26:44.093 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 14:26:44.101 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:26:44.104 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:26:44.149 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:26:44.240 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:26:44.241 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:26:44.263 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:26:44.268 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:26:44.316 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:26:46.249 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:26:46.249 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:26:46.249 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:26:46.250 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:26:46.254 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:26:46.254 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:26:46.264 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:26:46.264 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:26:46.265 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:26:46.265 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:26:46.266 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:26:46.266 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:26:46.269 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:26:46.269 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:26:46.281 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:26:46.323 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:26:46.327 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:26:48.033 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:26:48.033 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:26:48.038 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:26:48.042 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:26:48.043 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:26:48.044 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:26:48.044 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:26:48.047 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:27:12.431 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:27:12.432 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:27:12.439 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:27:12.444 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:27:12.444 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:27:12.537 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:27:12.549 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:27:12.606 [http-nio-8080-exec-6] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
### The error may exist in com/yxly/mapper/BookingOrderMapper.java (best guess)
### The error may involve com.yxly.mapper.BookingOrderMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO booking_order  ( order_no, customer_id, room_id, check_in_date, check_out_date, nights, guests_count, room_price, total_amount, paid_amount, booking_status, payment_status, booking_source, special_requests, contact_phone, contact_name,      create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,      ?, ?  )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:248)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy116.insert(Unknown Source)
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:110)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$34e17edf.createBooking(<generated>)
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy133.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy130.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 120 common frames omitted
2025-10-17 14:27:12.611 [http-nio-8080-exec-6] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.dao.DataIntegrityViolationException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))<EOL><EOL>### The error may exist in com/yxly/mapper/BookingOrderMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.BookingOrderMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO booking_order  ( order_no, customer_id, room_id, check_in_date, check_out_date, nights, guests_count, room_price, total_amount, paid_amount, booking_status, payment_status, booking_source, special_requests, contact_phone, contact_name,      create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,      ?, ?  )<EOL><EOL>### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))<EOL>; Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`yxly_dev`.`booking_order`, CONSTRAINT `fk_booking_customer` FOREIGN KEY (`customer_id`) REFERENCES `customer_info` (`id`))]
2025-10-17 14:27:12.612 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:30:17.146 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:30:17.147 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:30:17.148 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:30:17.189 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 14:30:17.189 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 14:30:17.785 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:30:17.788 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:30:17.810 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 14:30:18.465 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:30:18.474 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:30:18.475 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:30:18.545 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:30:18.545 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1355 ms
2025-10-17 14:30:18.621 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:30:18.995 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 14:30:19.273 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:30:19.655 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:30:19.656 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:30:19.656 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:30:19.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:30:19.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:30:19.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:30:19.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:30:19.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:30:19.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:30:19.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:30:19.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:30:19.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:30:19.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:30:19.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:30:19.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:30:19.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:30:19.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:30:19.664 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44ed12de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58c6ce0f, org.springframework.security.web.context.SecurityContextPersistenceFilter@68505b13, org.springframework.security.web.header.HeaderWriterFilter@12ee65a4, org.springframework.web.filter.CorsFilter@4b6261ac, org.springframework.security.web.authentication.logout.LogoutFilter@7f75c774, com.yxly.security.JwtAuthenticationFilter@72a0c02c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ce29403, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a19dd2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ec83031, org.springframework.security.web.session.SessionManagementFilter@53989f27, org.springframework.security.web.access.ExceptionTranslationFilter@1dd8f5ae, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3499dbc0]
2025-10-17 14:30:20.284 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:30:20.339 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:30:20.349 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.533 seconds (JVM running for 3.85)
2025-10-17 14:30:26.186 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:30:26.187 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:30:26.188 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 14:30:26.196 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:30:26.198 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:30:26.248 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:30:26.341 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:30:26.342 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:30:26.438 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:30:26.451 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:30:26.461 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=1, orderNo=YX2025101714302612049
2025-10-17 14:30:26.487 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:31:36.913 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:31:36.913 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:31:36.913 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:31:36.914 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:31:36.921 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:31:36.924 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:31:36.937 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:31:36.937 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:31:36.937 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:31:36.937 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:31:36.938 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:31:36.940 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:31:36.942 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:31:36.942 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:31:36.956 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:31:37.000 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:31:37.004 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:31:39.921 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:31:39.922 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:31:39.926 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:31:39.937 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:31:39.937 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:31:39.945 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:31:39.975 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:31:40.011 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:31:40.011 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 14:31:40.011 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:31:40.011 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:31:40.012 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:31:40.012 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 14:31:40.014 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 14:31:40.015 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:31:40.016 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:31:40.017 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 14:31:40.020 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:31:40.021 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:31:40.022 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 14:31:40.027 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:31:40.027 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:31:40.036 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:31:40.041 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:31:40.057 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:31:51.146 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-17 14:31:51.147 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:31:51.150 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:31:51.153 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-17 14:31:51.154 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-17 14:31:51.161 [http-nio-8080-exec-7] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-17 14:31:51.164 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:32:06.325 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 14:32:06.325 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:32:06.326 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:32:06.327 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 14:32:06.327 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 14:32:06.333 [http-nio-8080-exec-8] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=admin, userType=admin
2025-10-17 14:32:06.335 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: admin, 登录类型: admin
2025-10-17 14:32:06.412 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-17 14:32:06.422 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 14:32:06.429 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: admin
2025-10-17 14:32:06.431 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:32:17.158 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-17 14:32:17.159 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:32:17.162 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:32:17.168 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-17 14:32:17.168 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-17 14:32:17.169 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-17 14:32:17.172 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-17 14:32:17.202 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 14
2025-10-17 14:32:17.205 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:32:17.922 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 14:32:17.922 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-17 14:32:17.922 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:32:17.923 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:32:17.925 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:32:17.925 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:32:17.931 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-17 14:32:17.932 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 14:32:17.934 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-17 14:32:17.934 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-17 14:32:17.946 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-17 14:32:17.946 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 14:32:17.946 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-17 14:32:17.948 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 14:32:17.955 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:32:17.957 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:32:28.531 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 14:32:28.531 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:32:28.534 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:32:28.539 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 14:32:28.540 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 14:32:28.544 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 14:32:28.553 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:32:30.074 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 14:32:30.074 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:32:30.076 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:32:30.084 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 14:32:30.084 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 14:32:30.102 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:32:31.690 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 14:32:31.691 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:32:31.692 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:32:31.696 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 14:32:31.696 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 14:32:31.697 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 14:32:31.707 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:30.740 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 14:34:30.740 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:30.742 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:34:30.748 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 14:34:30.748 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 14:34:30.755 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 14:34:30.756 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:30.853 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:34:30.854 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:30.856 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:34:30.859 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:34:30.859 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:34:30.863 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 14:34:30.871 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:30.962 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:34:30.962 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:30.966 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:34:30.970 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:34:30.970 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:34:30.993 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:32.104 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:34:32.105 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:32.107 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:34:32.113 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:34:32.114 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:34:32.117 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:34:32.128 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:32.143 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 14:34:32.143 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:34:32.143 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:32.143 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:32.143 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:34:32.144 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 14:34:32.144 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 14:34:32.144 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:32.144 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 14:34:32.145 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:32.145 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:34:32.145 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 14:34:32.145 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:34:32.148 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:32.150 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:34:32.150 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:34:32.154 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:34:32.167 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:56.168 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 14:34:56.169 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:34:56.169 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:34:56.169 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:56.169 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:56.169 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:34:56.172 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:34:56.172 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:34:56.172 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:34:56.176 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 14:34:56.176 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 14:34:56.176 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:34:56.176 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:34:56.177 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:34:56.177 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:34:56.182 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 14:34:56.185 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 14:34:56.187 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:56.191 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:34:56.192 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:36:43.339 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:36:43.355 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:36:43.356 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 14:36:43.368 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1756976641] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:36:43.369 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1756976641] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:36:43.380 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 14:36:43.384 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 14:36:43.448 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:36:43.448 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:36:43.449 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:36:43.588 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:36:43.589 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:36:43.594 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:36:43.697 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:36:43.698 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:36:43.698 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:36:43.718 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:36:43.718 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 267 ms
2025-10-17 14:36:43.750 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:36:43.844 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 14:36:43.911 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:36:44.031 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:36:44.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:36:44.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:36:44.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:36:44.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:36:44.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:36:44.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:36:44.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:36:44.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:36:44.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:36:44.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:36:44.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:36:44.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:36:44.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:36:44.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:36:44.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:36:44.034 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:36:44.036 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@282c2689, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@215e12b8, org.springframework.security.web.context.SecurityContextPersistenceFilter@740d9432, org.springframework.security.web.header.HeaderWriterFilter@302b7b3d, org.springframework.web.filter.CorsFilter@7f3ff783, org.springframework.security.web.authentication.logout.LogoutFilter@1e72f4c9, com.yxly.security.JwtAuthenticationFilter@2da59aee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@353ef3f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ea794f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@757397f2, org.springframework.security.web.session.SessionManagementFilter@2bee7af0, org.springframework.security.web.access.ExceptionTranslationFilter@7a8db58, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74cfc12f]
2025-10-17 14:36:44.222 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:36:44.252 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:36:44.255 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.833 seconds (JVM running for 387.756)
2025-10-17 14:36:44.257 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:36:45.665 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:36:45.678 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:36:45.680 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1749240619] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:36:45.681 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1749240619] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:36:45.685 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 14:36:45.688 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 14:36:45.777 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:36:45.777 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:36:45.777 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:36:45.908 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:36:45.908 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:36:45.914 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:36:46.015 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:36:46.015 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:36:46.015 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:36:46.033 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:36:46.033 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 254 ms
2025-10-17 14:36:46.061 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:36:46.154 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 14:36:46.220 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:36:46.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:36:46.340 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:36:46.340 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:36:46.340 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:36:46.340 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:36:46.340 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:36:46.340 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:36:46.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:36:46.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:36:46.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:36:46.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:36:46.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:36:46.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:36:46.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:36:46.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:36:46.342 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:36:46.342 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:36:46.343 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fd1a05c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51f7574d, org.springframework.security.web.context.SecurityContextPersistenceFilter@4cb455fb, org.springframework.security.web.header.HeaderWriterFilter@13bcdf8d, org.springframework.web.filter.CorsFilter@71ff4ddd, org.springframework.security.web.authentication.logout.LogoutFilter@2347426b, com.yxly.security.JwtAuthenticationFilter@168025e2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56fccd77, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23493092, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@277936b0, org.springframework.security.web.session.SessionManagementFilter@4ef40c2c, org.springframework.security.web.access.ExceptionTranslationFilter@5a081b49, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e3b0d67]
2025-10-17 14:36:46.521 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:36:46.554 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:36:46.557 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.82 seconds (JVM running for 390.057)
2025-10-17 14:36:46.558 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:36:56.153 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:36:56.167 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:36:56.168 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-63898194] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:36:56.169 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-63898194] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:36:56.175 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 14:36:56.178 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 14:36:56.235 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:36:56.235 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:36:56.235 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:36:56.356 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:36:56.356 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:36:56.362 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:36:56.446 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:36:56.447 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:36:56.447 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:36:56.465 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:36:56.465 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 229 ms
2025-10-17 14:36:56.493 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:36:56.578 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 14:36:56.638 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:36:56.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:36:56.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:36:56.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:36:56.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:36:56.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:36:56.739 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d1a2b80, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2074daa2, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d581e06, org.springframework.security.web.header.HeaderWriterFilter@c6a15c4, org.springframework.web.filter.CorsFilter@1a0cec22, org.springframework.security.web.authentication.logout.LogoutFilter@c1fec23, com.yxly.security.JwtAuthenticationFilter@59b07835, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12392bae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e21d818, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f2b87f6, org.springframework.security.web.session.SessionManagementFilter@2f48138f, org.springframework.security.web.access.ExceptionTranslationFilter@276b1eb5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7676628f]
2025-10-17 14:36:56.888 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:36:56.918 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:36:56.920 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.706 seconds (JVM running for 400.421)
2025-10-17 14:36:56.922 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:37:14.779 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:37:14.791 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:37:14.793 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1553343565] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:37:14.793 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1553343565] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:37:14.796 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 14:37:14.799 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 14:37:14.854 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:37:14.854 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:37:14.854 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:37:14.980 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:37:14.980 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:37:14.986 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:37:15.072 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:37:15.072 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:37:15.072 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:37:15.091 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:37:15.091 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 236 ms
2025-10-17 14:37:15.119 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:37:15.197 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 14:37:15.259 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:37:15.360 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:37:15.360 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:37:15.361 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:37:15.362 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:37:15.362 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:37:15.362 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:37:15.362 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:37:15.362 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:37:15.364 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2641e526, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64b20043, org.springframework.security.web.context.SecurityContextPersistenceFilter@721d2c71, org.springframework.security.web.header.HeaderWriterFilter@5a5204d6, org.springframework.web.filter.CorsFilter@24438282, org.springframework.security.web.authentication.logout.LogoutFilter@4423abe0, com.yxly.security.JwtAuthenticationFilter@288cad38, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d13a103, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77ad76c3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1927bb88, org.springframework.security.web.session.SessionManagementFilter@7c4a912a, org.springframework.security.web.access.ExceptionTranslationFilter@7916cae3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ffa4476]
2025-10-17 14:37:15.524 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:37:15.551 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:37:15.554 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.72 seconds (JVM running for 419.054)
2025-10-17 14:37:15.556 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:40:49.742 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:40:49.742 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:40:49.743 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 14:40:49.744 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:40:49.745 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:49.747 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:49.756 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:40:49.756 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:40:49.765 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:40:49.791 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:49.806 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 14:40:49.806 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:49.807 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:40:49.807 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 14:40:49.808 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 14:40:49.808 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:49.809 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 14:40:49.811 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:49.812 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:40:49.812 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 14:40:49.817 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:50.008 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:40:50.008 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:50.010 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:50.013 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:40:50.014 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:40:50.016 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:40:50.030 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:52.822 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings/1/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88
2025-10-17 14:40:52.823 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:52.826 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:52.831 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings/1/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88] with attributes [authenticated]
2025-10-17 14:40:52.831 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings/1/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88
2025-10-17 14:40:52.840 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 取消订单: id=1, userId=5, reason=用户主动取消
2025-10-17 14:40:52.846 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 14:40:52.850 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单取消成功: orderId=1
2025-10-17 14:40:52.854 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:53.160 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:40:53.161 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:53.164 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:53.166 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:40:53.166 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:40:53.171 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:40:53.182 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:53.426 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:40:53.426 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:53.427 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:53.431 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:40:53.432 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:40:53.434 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:40:53.445 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:55.702 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 14:40:55.703 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:55.705 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:55.710 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 14:40:55.710 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 14:40:55.717 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 14:40:55.719 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:56.011 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:40:56.011 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:40:56.012 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:56.012 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:56.014 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:56.015 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:56.018 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:40:56.018 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:40:56.020 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:40:56.020 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:40:56.026 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 14:40:56.039 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:56.039 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:59.362 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:40:59.362 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:59.364 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:59.371 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:40:59.371 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:40:59.372 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:40:59.376 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:40:59.387 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:40:59.668 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:40:59.669 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:40:59.671 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:40:59.675 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:40:59.676 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:40:59.678 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:40:59.678 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:40:59.688 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:40:59.690 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:00.776 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:41:00.777 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:00.780 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:00.784 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:41:00.785 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:41:00.786 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:41:00.786 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:41:00.791 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:21.746 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:41:21.746 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:21.748 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:21.752 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:41:21.752 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:41:21.762 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:41:21.768 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:41:21.773 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=2, orderNo=YX2025101714412163096
2025-10-17 14:41:21.777 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:32.606 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:41:32.607 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:32.609 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:32.613 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:41:32.613 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:41:32.614 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:41:32.614 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:41:32.617 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:35.861 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:41:35.862 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:35.869 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:35.875 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:41:35.875 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:41:35.879 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:41:35.895 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:36.171 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:41:36.172 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:36.175 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:36.178 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:41:36.179 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:41:36.183 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:41:36.201 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:36.215 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 14:41:36.215 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:36.216 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:41:36.216 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 14:41:36.216 [http-nio-8080-exec-3] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 14:41:36.217 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:36.217 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 14:41:36.217 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:36.218 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:41:36.218 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 14:41:36.219 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:38.275 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 14:41:38.275 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:38.278 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:38.281 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 14:41:38.281 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 14:41:38.292 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 14:41:38.294 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:38.583 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:41:38.583 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:41:38.583 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:38.583 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:38.587 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:38.587 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:38.591 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:41:38.591 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:41:38.591 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:41:38.591 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:41:38.596 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 14:41:38.603 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:38.604 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:42.197 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:41:42.197 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:42.200 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:42.209 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:41:42.209 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:41:42.209 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:41:42.210 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:41:42.220 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:42.498 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:41:42.498 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:42.502 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:42.505 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:41:42.505 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:41:42.507 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:41:42.507 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:41:42.517 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:41:42.518 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:44.927 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 14:41:44.927 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:44.929 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:44.933 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 14:41:44.934 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 14:41:44.936 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 14:41:44.945 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:56.956 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:41:56.957 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:56.960 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:56.964 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:41:56.964 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:41:56.969 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:41:56.984 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:56.999 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:41:56.999 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 14:41:56.999 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:56.999 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:56.999 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:41:57.000 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 14:41:57.000 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 14:41:57.000 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:57.001 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 14:41:57.001 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:57.004 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:41:57.004 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 14:41:57.007 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:57.008 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:57.012 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:41:57.012 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:41:57.017 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:41:57.031 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:58.632 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:41:58.633 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:58.635 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:58.639 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:41:58.639 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:41:58.643 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:41:58.662 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:58.691 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 14:41:58.692 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:58.692 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:41:58.692 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 14:41:58.693 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 14:41:58.693 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:58.693 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 14:41:58.693 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:58.694 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:41:58.694 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 14:41:58.696 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:41:58.747 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:41:58.747 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:41:58.750 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:41:58.754 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:41:58.755 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:41:58.759 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:41:58.787 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:42:00.278 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 14:42:00.278 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:42:00.278 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:42:00.278 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:42:00.278 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:42:00.278 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:42:00.280 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:42:00.281 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:42:00.281 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:42:00.285 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:42:00.285 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 14:42:00.285 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:42:00.285 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 14:42:00.287 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:42:00.287 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:42:00.292 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 14:42:00.295 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 14:42:00.297 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:42:00.302 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:42:00.302 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:42:01.845 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:42:01.845 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 14:42:01.846 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:42:01.846 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:42:01.849 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:42:01.849 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:42:01.851 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 14:42:01.851 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:42:01.852 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 14:42:01.852 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:42:01.856 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 14:42:01.858 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 14:42:01.859 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:42:01.864 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:42:02.039 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:42:02.039 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:42:02.042 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:42:02.045 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:42:02.045 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:42:02.055 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:47:21.573 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 14:47:21.588 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:47:21.588 [Thread-19] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 14:47:21.591 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1653634177] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:47:21.591 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1653634177] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:47:21.594 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 14:47:21.597 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 14:47:21.682 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:47:21.682 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:47:21.682 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:47:21.837 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:47:21.837 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:47:21.846 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-10-17 14:47:21.979 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:47:21.980 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:47:21.980 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:47:22.002 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:47:22.002 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 318 ms
2025-10-17 14:47:22.029 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:47:22.145 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 14:47:22.231 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:47:22.376 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:47:22.376 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:47:22.377 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:47:22.377 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:47:22.377 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:47:22.377 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:47:22.377 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:47:22.378 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:47:22.381 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37845e14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45418ab2, org.springframework.security.web.context.SecurityContextPersistenceFilter@50daa56c, org.springframework.security.web.header.HeaderWriterFilter@6594e5f2, org.springframework.web.filter.CorsFilter@384aaa5a, org.springframework.security.web.authentication.logout.LogoutFilter@5fddce5b, com.yxly.security.JwtAuthenticationFilter@2fe36207, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f3b92d8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d4247b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e714eab, org.springframework.security.web.session.SessionManagementFilter@6ce5793e, org.springframework.security.web.access.ExceptionTranslationFilter@2f1b3fc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@330eae66]
2025-10-17 14:47:22.618 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:47:22.650 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:47:22.654 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.009 seconds (JVM running for 1026.154)
2025-10-17 14:47:22.655 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:47:24.077 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 14:47:24.097 [Thread-23] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:47:24.099 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-272506326] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:47:24.100 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-272506326] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:47:24.105 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-17 14:47:24.108 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-17 14:47:24.180 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:47:24.181 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:47:24.181 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:47:24.365 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:47:24.366 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:47:24.370 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:47:24.490 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:47:24.490 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:47:24.490 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:47:24.513 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:47:24.513 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 331 ms
2025-10-17 14:47:24.550 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:47:24.667 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} inited
2025-10-17 14:47:24.731 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:47:24.854 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:47:24.854 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:47:24.854 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:47:24.855 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:47:24.855 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:47:24.855 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:47:24.855 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:47:24.855 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:47:24.855 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:47:24.856 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:47:24.856 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:47:24.856 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:47:24.856 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:47:24.856 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:47:24.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:47:24.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:47:24.857 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:47:24.860 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62e8b69f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@423d6a13, org.springframework.security.web.context.SecurityContextPersistenceFilter@1fcc09ea, org.springframework.security.web.header.HeaderWriterFilter@7bec17d7, org.springframework.web.filter.CorsFilter@41bac2c5, org.springframework.security.web.authentication.logout.LogoutFilter@2317a72f, com.yxly.security.JwtAuthenticationFilter@4a23cdee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@755abb51, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e934882, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a8a27e3, org.springframework.security.web.session.SessionManagementFilter@b8729b8, org.springframework.security.web.access.ExceptionTranslationFilter@26d61b58, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@229f3e97]
2025-10-17 14:47:25.034 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:47:25.061 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:47:25.066 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.913 seconds (JVM running for 1028.567)
2025-10-17 14:47:25.067 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:47:34.756 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:47:34.768 [Thread-27] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:47:34.770 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-856266686] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:47:34.770 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-856266686] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:47:34.773 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closing ...
2025-10-17 14:47:34.775 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closed
2025-10-17 14:47:34.847 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:47:34.848 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:47:34.848 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:47:34.994 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:47:34.994 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:47:35.004 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-17 14:47:35.109 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:47:35.110 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:47:35.110 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:47:35.130 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:47:35.130 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 280 ms
2025-10-17 14:47:35.159 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:47:35.241 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} inited
2025-10-17 14:47:35.301 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:47:35.422 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:47:35.422 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:47:35.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:47:35.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:47:35.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:47:35.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:47:35.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:47:35.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:47:35.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:47:35.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:47:35.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:47:35.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:47:35.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:47:35.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:47:35.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:47:35.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:47:35.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:47:35.426 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@624c9bd1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5de98f46, org.springframework.security.web.context.SecurityContextPersistenceFilter@40d7c43a, org.springframework.security.web.header.HeaderWriterFilter@2a5dd981, org.springframework.web.filter.CorsFilter@29112b38, org.springframework.security.web.authentication.logout.LogoutFilter@2323afe, com.yxly.security.JwtAuthenticationFilter@12d9ad6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47b633ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e36b59, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f805c76, org.springframework.security.web.session.SessionManagementFilter@55755a68, org.springframework.security.web.access.ExceptionTranslationFilter@46a829c6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@9cdd79]
2025-10-17 14:47:35.590 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:47:35.625 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:47:35.630 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.807 seconds (JVM running for 1039.13)
2025-10-17 14:47:35.631 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:47:37.071 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:47:37.084 [Thread-31] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:47:37.086 [Thread-31] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1757668511] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:47:37.086 [Thread-31] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1757668511] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:47:37.089 [Thread-31] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closing ...
2025-10-17 14:47:37.091 [Thread-31] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closed
2025-10-17 14:47:37.164 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:47:37.164 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:47:37.164 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:47:37.313 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:47:37.313 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:47:37.320 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 14:47:37.403 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:47:37.404 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:47:37.404 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:47:37.423 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:47:37.423 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 258 ms
2025-10-17 14:47:37.455 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:47:37.557 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-9} inited
2025-10-17 14:47:37.628 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:47:37.755 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:47:37.756 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:47:37.756 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:47:37.756 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:47:37.756 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:47:37.757 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:47:37.757 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:47:37.757 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:47:37.757 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:47:37.757 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:47:37.757 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:47:37.757 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:47:37.758 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:47:37.758 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:47:37.758 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:47:37.758 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:47:37.758 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:47:37.760 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b972a95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e3574da, org.springframework.security.web.context.SecurityContextPersistenceFilter@6fd50408, org.springframework.security.web.header.HeaderWriterFilter@2a75a21b, org.springframework.web.filter.CorsFilter@13391b13, org.springframework.security.web.authentication.logout.LogoutFilter@3de6a77a, com.yxly.security.JwtAuthenticationFilter@2e7e40db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a86eb3d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d64e30c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ef7b66c, org.springframework.security.web.session.SessionManagementFilter@6e252a56, org.springframework.security.web.access.ExceptionTranslationFilter@4c633cab, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1295fcc4]
2025-10-17 14:47:37.963 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:47:37.987 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:47:37.991 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.855 seconds (JVM running for 1041.492)
2025-10-17 14:47:37.992 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:47:42.521 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:47:42.540 [Thread-35] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:47:42.542 [Thread-35] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-21667945] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:47:42.543 [Thread-35] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-21667945] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:47:42.546 [Thread-35] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-9} closing ...
2025-10-17 14:47:42.550 [Thread-35] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-9} closed
2025-10-17 14:47:42.632 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:47:42.632 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:47:42.632 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:47:42.783 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:47:42.783 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:47:42.788 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:47:42.876 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:47:42.877 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:47:42.877 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:47:42.896 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:47:42.896 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 262 ms
2025-10-17 14:47:42.927 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:47:43.006 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-10} inited
2025-10-17 14:47:43.078 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:47:43.192 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:47:43.193 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:47:43.193 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:47:43.193 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:47:43.193 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:47:43.194 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:47:43.194 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:47:43.194 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:47:43.194 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:47:43.194 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:47:43.194 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:47:43.194 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:47:43.194 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:47:43.194 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:47:43.195 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:47:43.195 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:47:43.195 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:47:43.199 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ce48f9a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@120d230b, org.springframework.security.web.context.SecurityContextPersistenceFilter@4cbb9dee, org.springframework.security.web.header.HeaderWriterFilter@3d304239, org.springframework.web.filter.CorsFilter@6e543c20, org.springframework.security.web.authentication.logout.LogoutFilter@877fa56, com.yxly.security.JwtAuthenticationFilter@335cff55, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10a15867, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f3ff1c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@188f7eb9, org.springframework.security.web.session.SessionManagementFilter@158457fb, org.springframework.security.web.access.ExceptionTranslationFilter@6d163a04, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3178faa1]
2025-10-17 14:47:43.420 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:47:43.454 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:47:43.457 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.856 seconds (JVM running for 1046.958)
2025-10-17 14:47:43.458 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:47:54.131 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:47:54.146 [Thread-39] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:47:54.149 [Thread-39] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1401270706] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:47:54.150 [Thread-39] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1401270706] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:47:54.153 [Thread-39] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-10} closing ...
2025-10-17 14:47:54.157 [Thread-39] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-10} closed
2025-10-17 14:47:54.237 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:47:54.237 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:47:54.237 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:47:54.417 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:47:54.417 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:47:54.425 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-17 14:47:54.545 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:47:54.546 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:47:54.546 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:47:54.573 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:47:54.573 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 333 ms
2025-10-17 14:47:54.609 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:47:54.700 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-11} inited
2025-10-17 14:47:54.773 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:47:54.904 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:47:54.905 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:47:54.905 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:47:54.905 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:47:54.905 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:47:54.905 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:47:54.906 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:47:54.906 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:47:54.906 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:47:54.906 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:47:54.906 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:47:54.906 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:47:54.906 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:47:54.907 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:47:54.907 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:47:54.907 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:47:54.907 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:47:54.908 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48501513, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f97f672, org.springframework.security.web.context.SecurityContextPersistenceFilter@309fa49d, org.springframework.security.web.header.HeaderWriterFilter@f428e44, org.springframework.web.filter.CorsFilter@6897f14f, org.springframework.security.web.authentication.logout.LogoutFilter@4aa0e6ea, com.yxly.security.JwtAuthenticationFilter@59abcf18, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58608757, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43cb02b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57d3d1b3, org.springframework.security.web.session.SessionManagementFilter@1c0b0a4b, org.springframework.security.web.access.ExceptionTranslationFilter@4b447a7b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4bce96b8]
2025-10-17 14:47:55.086 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:47:55.112 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:47:55.115 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.908 seconds (JVM running for 1058.616)
2025-10-17 14:47:55.116 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:47:59.664 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:47:59.675 [Thread-43] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:47:59.677 [Thread-43] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1005016900] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:47:59.677 [Thread-43] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1005016900] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:47:59.680 [Thread-43] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-11} closing ...
2025-10-17 14:47:59.681 [Thread-43] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-11} closed
2025-10-17 14:47:59.758 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28920 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:47:59.758 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:47:59.758 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:47:59.953 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:47:59.953 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:47:59.959 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:48:00.079 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:48:00.080 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:48:00.081 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:48:00.099 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:48:00.100 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 341 ms
2025-10-17 14:48:00.134 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:48:00.222 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-12} inited
2025-10-17 14:48:00.289 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:48:00.405 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:48:00.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:48:00.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:48:00.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:48:00.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:48:00.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:48:00.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:48:00.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:48:00.409 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bc407cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26e29b2a, org.springframework.security.web.context.SecurityContextPersistenceFilter@659b7e03, org.springframework.security.web.header.HeaderWriterFilter@2e3ee133, org.springframework.web.filter.CorsFilter@406cc3fc, org.springframework.security.web.authentication.logout.LogoutFilter@22fee768, com.yxly.security.JwtAuthenticationFilter@34244138, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aee9cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ec0b770, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16abaa66, org.springframework.security.web.session.SessionManagementFilter@3acf0cdc, org.springframework.security.web.access.ExceptionTranslationFilter@7472c4a3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60d6d8f7]
2025-10-17 14:48:00.572 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:48:00.592 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:48:00.596 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.864 seconds (JVM running for 1064.096)
2025-10-17 14:48:00.596 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:48:58.718 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:48:58.718 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:48:58.719 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 14:48:58.719 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 14:48:58.719 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:48:58.719 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:48:58.719 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:48:58.723 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:48:58.723 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:48:58.731 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 14:48:58.731 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:48:58.731 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 14:48:58.731 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 14:48:58.738 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 14:48:58.738 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 14:48:58.746 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:48:58.751 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:48:58.756 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:48:58.756 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:48:58.759 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:48:58.762 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 14:48:58.762 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 14:48:58.778 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:01.649 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:49:01.649 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:49:01.650 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:49:01.650 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:49:01.653 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:49:01.653 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:49:01.658 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:49:01.658 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:49:01.659 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:49:01.659 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:49:01.659 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:49:01.661 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:49:01.664 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:49:01.664 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:49:01.671 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:49:01.673 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:01.674 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:05.036 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:49:05.036 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:49:05.039 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:49:05.042 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:49:05.043 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:49:05.049 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:49:05.074 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:05.307 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:49:05.307 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 14:49:05.307 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:49:05.307 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:49:05.307 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:49:05.308 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 14:49:05.308 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 14:49:05.308 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:05.309 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 14:49:05.309 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:49:05.309 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:49:05.309 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 14:49:05.311 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:49:05.314 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:05.314 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:49:05.315 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:49:05.320 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:49:05.339 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:08.873 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings/2/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88
2025-10-17 14:49:08.873 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:49:08.876 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:49:08.878 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings/2/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88] with attributes [authenticated]
2025-10-17 14:49:08.878 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings/2/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88
2025-10-17 14:49:08.884 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 取消订单: id=2, userId=5, reason=用户主动取消
2025-10-17 14:49:08.888 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 14:49:08.890 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单取消成功: orderId=2
2025-10-17 14:49:08.893 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:08.901 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:49:08.901 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:49:08.903 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:49:08.908 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:49:08.908 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:49:08.912 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:49:08.929 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:08.940 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:49:08.940 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:49:08.944 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:49:08.950 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:49:08.950 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:49:08.955 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:49:08.978 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:49:34.337 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-12} closing ...
2025-10-17 14:49:34.339 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-12} closed
2025-10-17 14:49:46.222 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21740 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:49:46.224 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:49:46.225 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:49:46.269 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 14:49:46.269 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 14:49:46.824 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:49:46.826 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:49:46.846 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-17 14:49:47.496 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:49:47.504 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:49:47.504 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:49:47.573 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:49:47.574 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1305 ms
2025-10-17 14:49:47.646 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:49:48.002 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 14:49:48.292 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:49:48.640 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:49:48.641 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:49:48.641 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:49:48.642 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:49:48.642 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:49:48.643 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:49:48.643 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:49:48.643 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:49:48.644 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:49:48.644 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:49:48.644 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:49:48.644 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:49:48.644 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:49:48.644 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:49:48.644 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:49:48.645 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:49:48.645 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:49:48.651 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b5ed8dc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@426b21be, org.springframework.security.web.context.SecurityContextPersistenceFilter@25eab848, org.springframework.security.web.header.HeaderWriterFilter@21136fd4, org.springframework.web.filter.CorsFilter@65186b41, org.springframework.security.web.authentication.logout.LogoutFilter@1a4d6721, com.yxly.security.JwtAuthenticationFilter@3639263d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef3735d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24c8273e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@518dd795, org.springframework.security.web.session.SessionManagementFilter@5d65256e, org.springframework.security.web.access.ExceptionTranslationFilter@63800f7a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4135523c]
2025-10-17 14:49:49.254 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:49:49.305 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:49:49.314 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.418 seconds (JVM running for 3.722)
2025-10-17 14:50:01.926 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:50:01.926 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:50:01.928 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-17 14:50:01.937 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-17 14:50:01.938 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:01.992 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:50:02.093 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-17 14:50:02.094 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-17 14:50:02.130 [http-nio-8080-exec-1] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-17 14:50:02.167 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:50:09.481 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 14:50:09.481 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:09.482 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:50:09.482 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 14:50:09.482 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 14:50:09.525 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=admin, userType=user
2025-10-17 14:50:09.529 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: admin, 登录类型: user
2025-10-17 14:50:09.603 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-17 14:50:09.615 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 14:50:09.633 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: admin
2025-10-17 14:50:09.637 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:50:16.326 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 14:50:16.328 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:16.334 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:50:16.340 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 14:50:16.340 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 14:50:16.354 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 14:50:16.472 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:50:16.556 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 14:50:16.556 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:16.556 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 14:50:16.557 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:16.559 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:50:16.560 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 14:50:16.560 [http-nio-8080-exec-3] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 14:50:16.561 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:50:16.561 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:50:16.562 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 14:50:16.562 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:16.563 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 14:50:16.563 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 14:50:16.567 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 14:50:16.567 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 14:50:16.573 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 14:50:16.576 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:50:16.604 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:50:20.827 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 14:50:20.827 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 14:50:20.827 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:20.828 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:20.831 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:50:20.833 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:50:20.840 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 14:50:20.840 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 14:50:20.840 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 14:50:20.840 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 14:50:20.841 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 14:50:20.847 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:50:20.848 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 14:50:20.848 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 14:50:20.859 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 14:50:20.861 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:50:20.866 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:50:24.364 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 14:50:24.364 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:24.368 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:50:24.373 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 14:50:24.374 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 14:50:24.377 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 14:50:24.377 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 14:50:24.382 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:50:50.562 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:50:50.562 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:50:50.564 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:50:50.568 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:50:50.568 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:50:50.585 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:50:50.591 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 14:50:50.593 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 14:50:50.596 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:50:50.640 [http-nio-8080-exec-9] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( user_id, username, transaction_type, amount, balance_before, balance_after,  related_order_no, description, status, transaction_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy117.insert(Unknown Source)
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:133)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$d2cb8e26.createBooking(<generated>)
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 120 common frames omitted
2025-10-17 14:50:50.645 [http-nio-8080-exec-9] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( user_id, username, transaction_type, amount, balance_before, balance_after,  related_order_no, description, status, transaction_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list']
2025-10-17 14:50:50.646 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:51:33.988 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:51:33.988 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:51:33.992 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:51:33.997 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:51:33.998 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:51:34.004 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:51:34.009 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 14:51:34.012 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 14:51:34.014 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:51:34.022 [http-nio-8080-exec-10] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( user_id, username, transaction_type, amount, balance_before, balance_after,  related_order_no, description, status, transaction_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy117.insert(Unknown Source)
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:133)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$d2cb8e26.createBooking(<generated>)
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 120 common frames omitted
2025-10-17 14:51:34.028 [http-nio-8080-exec-10] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( user_id, username, transaction_type, amount, balance_before, balance_after,  related_order_no, description, status, transaction_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list']
2025-10-17 14:51:34.028 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:55:13.670 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:55:13.688 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:55:13.689 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 14:55:13.701 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-356081008] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:55:13.701 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-356081008] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:55:13.715 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 14:55:13.719 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 14:55:13.789 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21740 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:55:13.790 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:55:13.790 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:55:13.951 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:55:13.951 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:55:13.957 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 14:55:14.063 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:55:14.064 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:55:14.064 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:55:14.085 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:55:14.085 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 293 ms
2025-10-17 14:55:14.116 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:55:14.197 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 14:55:14.268 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:55:14.411 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:55:14.411 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:55:14.412 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:55:14.414 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:55:14.414 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:55:14.414 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:55:14.414 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:55:14.414 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:55:14.417 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5dac3909, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7209fe57, org.springframework.security.web.context.SecurityContextPersistenceFilter@40ee38d1, org.springframework.security.web.header.HeaderWriterFilter@33c85451, org.springframework.web.filter.CorsFilter@a14ebc, org.springframework.security.web.authentication.logout.LogoutFilter@3c0f07f7, com.yxly.security.JwtAuthenticationFilter@7bb2d14c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7834620c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@92fdb87, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62a967a7, org.springframework.security.web.session.SessionManagementFilter@3436117f, org.springframework.security.web.access.ExceptionTranslationFilter@31613070, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@437433dc]
2025-10-17 14:55:14.634 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:55:14.662 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:55:14.667 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.911 seconds (JVM running for 329.075)
2025-10-17 14:55:14.668 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:55:16.085 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:55:16.098 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:55:16.100 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-659805277] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:55:16.101 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-659805277] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:55:16.104 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 14:55:16.106 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 14:55:16.160 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21740 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:55:16.161 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:55:16.161 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:55:16.286 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:55:16.286 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:55:16.292 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:55:16.379 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:55:16.380 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:55:16.381 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:55:16.397 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:55:16.398 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 236 ms
2025-10-17 14:55:16.425 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:55:16.510 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 14:55:16.583 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:55:16.735 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:55:16.735 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:55:16.735 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:55:16.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:55:16.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:55:16.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:55:16.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:55:16.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:55:16.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:55:16.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:55:16.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:55:16.736 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:55:16.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:55:16.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:55:16.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:55:16.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:55:16.737 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:55:16.740 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6894bd4b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2adb04d5, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c097f8e, org.springframework.security.web.header.HeaderWriterFilter@7955d6c4, org.springframework.web.filter.CorsFilter@1928fc19, org.springframework.security.web.authentication.logout.LogoutFilter@57fc2c0b, com.yxly.security.JwtAuthenticationFilter@5a14a1e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fb86127, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@188c7de2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6343a15e, org.springframework.security.web.session.SessionManagementFilter@7feae410, org.springframework.security.web.access.ExceptionTranslationFilter@dddc1e1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b28272d]
2025-10-17 14:55:16.900 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:55:16.930 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:55:16.933 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.793 seconds (JVM running for 331.342)
2025-10-17 14:55:16.934 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:57:14.294 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:57:14.307 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:57:14.309 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-701527451] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:57:14.309 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-701527451] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:57:14.313 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 14:57:14.315 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 14:57:14.371 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21740 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:57:14.371 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:57:14.371 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:57:14.494 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:57:14.494 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:57:14.500 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-10-17 14:57:14.602 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:57:14.603 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:57:14.603 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:57:14.629 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:57:14.630 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 257 ms
2025-10-17 14:57:14.677 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:57:14.771 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 14:57:14.829 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:57:14.940 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:57:14.940 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:57:14.940 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:57:14.940 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:57:14.941 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:57:14.942 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:57:14.942 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:57:14.943 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@e78376, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@911f3eb, org.springframework.security.web.context.SecurityContextPersistenceFilter@89e37ef, org.springframework.security.web.header.HeaderWriterFilter@27245eb9, org.springframework.web.filter.CorsFilter@2a274817, org.springframework.security.web.authentication.logout.LogoutFilter@142b9616, com.yxly.security.JwtAuthenticationFilter@5de85247, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b8d7de1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e5933bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78c3ba3b, org.springframework.security.web.session.SessionManagementFilter@473c86aa, org.springframework.security.web.access.ExceptionTranslationFilter@2082b06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e7b89a9]
2025-10-17 14:57:15.099 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:57:15.125 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:57:15.129 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.781 seconds (JVM running for 449.537)
2025-10-17 14:57:15.130 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:57:28.903 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:57:28.915 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:57:28.917 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1223686876] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:57:28.917 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1223686876] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:57:28.921 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 14:57:28.923 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 14:57:28.992 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21740 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:57:28.992 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:57:28.992 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:57:29.112 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:57:29.112 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:57:29.119 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 14:57:29.208 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:57:29.209 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:57:29.209 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:57:29.225 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:57:29.226 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 231 ms
2025-10-17 14:57:29.261 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:57:29.333 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 14:57:29.395 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:57:29.508 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:57:29.508 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:57:29.508 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:57:29.508 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:57:29.508 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:57:29.508 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:57:29.508 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:57:29.508 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:57:29.508 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:57:29.509 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:57:29.509 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:57:29.509 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:57:29.509 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:57:29.509 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:57:29.509 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:57:29.509 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:57:29.509 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:57:29.510 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c56076, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@387c9d36, org.springframework.security.web.context.SecurityContextPersistenceFilter@77ec5abf, org.springframework.security.web.header.HeaderWriterFilter@63f8e88a, org.springframework.web.filter.CorsFilter@4a8cb11a, org.springframework.security.web.authentication.logout.LogoutFilter@1f4c5cac, com.yxly.security.JwtAuthenticationFilter@20b7188e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24092fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26588681, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d017cf, org.springframework.security.web.session.SessionManagementFilter@37d378e7, org.springframework.security.web.access.ExceptionTranslationFilter@5024bfb6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4fc0cabe]
2025-10-17 14:57:29.668 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:57:29.689 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:57:29.692 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.727 seconds (JVM running for 464.1)
2025-10-17 14:57:29.694 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:57:33.158 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 14:57:33.170 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 14:57:33.171 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1097362783] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 14:57:33.172 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1097362783] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 14:57:33.174 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 14:57:33.176 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 14:57:33.235 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 21740 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 14:57:33.235 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 14:57:33.235 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 14:57:33.351 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 14:57:33.351 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 14:57:33.357 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 14:57:33.443 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 14:57:33.443 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 14:57:33.443 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 14:57:33.464 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 14:57:33.464 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 228 ms
2025-10-17 14:57:33.495 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 14:57:33.585 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 14:57:33.656 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 14:57:33.764 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 14:57:33.764 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 14:57:33.764 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 14:57:33.765 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 14:57:33.768 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a08a08d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16a875f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f5fb744, org.springframework.security.web.header.HeaderWriterFilter@36750ff5, org.springframework.web.filter.CorsFilter@1b0f944e, org.springframework.security.web.authentication.logout.LogoutFilter@64ae9091, com.yxly.security.JwtAuthenticationFilter@3928579f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f644861, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6170fadf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7273cc74, org.springframework.security.web.session.SessionManagementFilter@4188c6cc, org.springframework.security.web.access.ExceptionTranslationFilter@3ba76385, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4625e615]
2025-10-17 14:57:33.941 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 14:57:33.965 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 14:57:33.968 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.751 seconds (JVM running for 468.376)
2025-10-17 14:57:33.969 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 14:58:11.856 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 14:58:11.856 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 14:58:11.858 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-17 14:58:11.858 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:58:11.858 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:58:11.861 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:58:11.868 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:58:11.868 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:58:11.883 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:58:11.887 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 14:58:11.890 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 14:58:11.892 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:58:11.899 [http-nio-8080-exec-1] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( user_id, username, transaction_type, amount, balance_before, balance_after,  related_order_no, description, status, transaction_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy9/jdk.proxy9.$Proxy187.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:133) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$d2cb8e26.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 14:58:11.904 [http-nio-8080-exec-1] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( user_id, username, transaction_type, amount, balance_before, balance_after,  related_order_no, description, status, transaction_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list']
2025-10-17 14:58:11.905 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:58:13.824 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 14:58:13.825 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 14:58:13.831 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 14:58:13.835 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 14:58:13.835 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 14:58:13.842 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 14:58:13.848 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 14:58:13.851 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 14:58:13.852 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 14:58:13.860 [http-nio-8080-exec-2] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( user_id, username, transaction_type, amount, balance_before, balance_after,  related_order_no, description, status, transaction_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy9/jdk.proxy9.$Proxy187.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:133) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$d2cb8e26.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 14:58:13.864 [http-nio-8080-exec-2] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( user_id, username, transaction_type, amount, balance_before, balance_after,  related_order_no, description, status, transaction_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list']
2025-10-17 14:58:13.865 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 14:58:17.856 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-17 14:58:17.859 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-17 15:00:03.561 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 16928 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 15:00:03.563 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 15:00:03.563 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 15:00:03.605 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 15:00:03.605 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 15:00:04.168 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 15:00:04.170 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 15:00:04.192 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 15:00:04.898 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 15:00:04.906 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 15:00:04.908 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 15:00:04.978 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 15:00:04.978 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1371 ms
2025-10-17 15:00:05.056 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 15:00:05.412 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 15:00:05.696 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 15:00:06.064 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 15:00:06.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 15:00:06.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 15:00:06.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 15:00:06.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 15:00:06.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 15:00:06.065 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 15:00:06.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 15:00:06.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 15:00:06.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 15:00:06.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 15:00:06.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 15:00:06.066 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 15:00:06.067 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 15:00:06.067 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 15:00:06.067 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 15:00:06.068 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 15:00:06.074 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d75e1a4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@319211d, org.springframework.security.web.context.SecurityContextPersistenceFilter@137fc08e, org.springframework.security.web.header.HeaderWriterFilter@71436330, org.springframework.web.filter.CorsFilter@34e259bf, org.springframework.security.web.authentication.logout.LogoutFilter@70f04680, com.yxly.security.JwtAuthenticationFilter@3028caed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@347ef514, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12ee65a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53c76cd, org.springframework.security.web.session.SessionManagementFilter@761f16d1, org.springframework.security.web.access.ExceptionTranslationFilter@435de34b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@489c4860]
2025-10-17 15:00:06.733 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 15:00:06.784 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 15:00:06.794 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.559 seconds (JVM running for 3.884)
2025-10-17 15:00:16.979 [http-nio-8080-exec-3] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 15:00:16.980 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 15:00:16.981 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 15:00:16.989 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 15:00:16.989 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 15:00:16.992 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:16.992 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:17.035 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:00:17.035 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:00:17.136 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 15:00:17.136 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 15:00:17.136 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 15:00:17.137 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 15:00:17.149 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 15:00:17.154 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 15:00:17.156 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 15:00:17.156 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 15:00:17.216 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 15:00:17.219 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:00:17.222 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:00:19.716 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 15:00:19.718 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:19.725 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:00:19.732 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 15:00:19.733 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 15:00:19.744 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 15:00:19.792 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:00:19.825 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 15:00:19.825 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 15:00:19.826 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:19.826 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:19.826 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 15:00:19.827 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 15:00:19.828 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 15:00:19.829 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:00:19.829 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:00:19.831 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 15:00:19.831 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:19.832 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 15:00:19.832 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 15:00:19.835 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 15:00:19.836 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 15:00:19.841 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 15:00:19.849 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:00:19.872 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:00:26.415 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 15:00:26.415 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 15:00:26.415 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:26.415 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:26.422 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:00:26.422 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:00:26.429 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 15:00:26.429 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 15:00:26.430 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 15:00:26.430 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 15:00:26.431 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 15:00:26.431 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 15:00:26.431 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 15:00:26.431 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 15:00:26.440 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 15:00:26.441 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:00:26.441 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:00:27.857 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 15:00:27.857 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:27.860 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:00:27.867 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 15:00:27.867 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 15:00:27.870 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 15:00:27.871 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 15:00:27.875 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:00:44.434 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 15:00:44.435 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:00:44.444 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:00:44.450 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 15:00:44.450 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 15:00:44.538 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 15:00:44.551 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 15:00:44.558 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 15:00:44.565 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 15:00:44.619 [http-nio-8080-exec-9] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy117.insert(Unknown Source)
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:131)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>)
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 120 common frames omitted
2025-10-17 15:00:44.624 [http-nio-8080-exec-9] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 15:00:44.625 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:50:59.366 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 15:50:59.367 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:50:59.371 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:50:59.387 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 15:50:59.387 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 15:50:59.395 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 15:50:59.396 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:50:59.399 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 15:50:59.401 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:50:59.401 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:50:59.410 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 15:50:59.411 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 15:50:59.419 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 15:50:59.430 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:50:59.553 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 15:50:59.553 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:50:59.555 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:50:59.558 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 15:50:59.558 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 15:50:59.575 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:03.754 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 15:51:03.754 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 15:51:03.754 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 15:51:03.754 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:03.754 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:03.754 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:03.757 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:51:03.757 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:51:03.757 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:51:03.762 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 15:51:03.762 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 15:51:03.762 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 15:51:03.762 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 15:51:03.762 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 15:51:03.762 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 15:51:03.767 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 15:51:03.771 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 15:51:03.773 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:03.777 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:03.778 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:40.107 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 15:51:40.107 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:40.110 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:51:40.116 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 15:51:40.116 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 15:51:40.120 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 15:51:40.151 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:40.169 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 15:51:40.169 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 15:51:40.169 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:40.171 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:40.171 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 15:51:40.171 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 15:51:40.171 [http-nio-8080-exec-7] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 15:51:40.172 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:40.174 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 15:51:40.175 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:40.175 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 15:51:40.176 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 15:51:40.177 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:51:40.178 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:40.184 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 15:51:40.184 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 15:51:40.188 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 15:51:40.208 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:43.677 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 15:51:43.677 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 15:51:43.677 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:43.677 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:43.680 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:51:43.680 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:51:43.687 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 15:51:43.687 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 15:51:43.687 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 15:51:43.687 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 15:51:43.688 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 15:51:43.689 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 15:51:43.689 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 15:51:43.690 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 15:51:43.701 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 15:51:43.704 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:43.705 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:51:44.672 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 15:51:44.672 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:51:44.676 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:51:44.681 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 15:51:44.681 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 15:51:44.681 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 15:51:44.682 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 15:51:44.686 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:52:08.851 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 15:52:08.851 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:52:08.853 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:52:08.857 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 15:52:08.857 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 15:52:08.865 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 15:52:08.869 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 15:52:08.872 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 15:52:08.872 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 15:52:08.879 [http-nio-8080-exec-3] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy117.insert(Unknown Source)
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:131)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>)
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 120 common frames omitted
2025-10-17 15:52:08.882 [http-nio-8080-exec-3] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 15:52:08.884 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:53:27.497 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 15:53:27.512 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 15:53:27.512 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 15:53:27.527 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-951551789] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 15:53:27.527 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-951551789] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 15:53:27.539 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 15:53:27.544 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 15:53:27.612 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 16928 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 15:53:27.612 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 15:53:27.613 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 15:53:27.758 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 15:53:27.758 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 15:53:27.764 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 15:53:27.869 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 15:53:27.870 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 15:53:27.870 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 15:53:27.887 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 15:53:27.887 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 273 ms
2025-10-17 15:53:27.919 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 15:53:28.000 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 15:53:28.070 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 15:53:28.253 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 15:53:28.253 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 15:53:28.253 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 15:53:28.254 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 15:53:28.254 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 15:53:28.254 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 15:53:28.254 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 15:53:28.254 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 15:53:28.254 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 15:53:28.255 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 15:53:28.255 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 15:53:28.255 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 15:53:28.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 15:53:28.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 15:53:28.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 15:53:28.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 15:53:28.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 15:53:28.259 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@39a1472a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b95fa7f, org.springframework.security.web.context.SecurityContextPersistenceFilter@629ba08b, org.springframework.security.web.header.HeaderWriterFilter@3e972111, org.springframework.web.filter.CorsFilter@4ba44b3a, org.springframework.security.web.authentication.logout.LogoutFilter@36f290d6, com.yxly.security.JwtAuthenticationFilter@7942fe6f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79a6daa4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ebef328, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@695bd58d, org.springframework.security.web.session.SessionManagementFilter@73d09971, org.springframework.security.web.access.ExceptionTranslationFilter@623b0ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e499299]
2025-10-17 15:53:28.462 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 15:53:28.492 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 15:53:28.495 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.91 seconds (JVM running for 3205.585)
2025-10-17 15:53:28.497 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 15:54:01.577 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 15:54:01.577 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 15:54:01.579 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-17 15:54:01.580 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 15:54:01.580 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:54:01.582 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:54:01.591 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 15:54:01.591 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 15:54:01.604 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 15:54:01.610 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 15:54:01.612 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 15:54:01.615 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 15:54:01.623 [http-nio-8080-exec-1] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy5/jdk.proxy5.$Proxy154.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:131) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 15:54:01.629 [http-nio-8080-exec-1] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 15:54:01.629 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:54:03.396 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 15:54:03.396 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:54:03.399 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:54:03.403 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 15:54:03.403 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 15:54:03.407 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 15:54:03.412 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 15:54:03.416 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 15:54:03.416 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 15:54:03.421 [http-nio-8080-exec-2] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy5/jdk.proxy5.$Proxy154.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:131) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 15:54:03.424 [http-nio-8080-exec-2] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 15:54:03.424 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:54:04.778 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 15:54:04.779 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:54:04.781 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:54:04.784 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 15:54:04.784 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 15:54:04.789 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 15:54:04.794 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 15:54:04.795 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 15:54:04.796 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 15:54:04.801 [http-nio-8080-exec-3] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy5/jdk.proxy5.$Proxy154.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:131) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 15:54:04.804 [http-nio-8080-exec-3] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount,  remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?,  ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 15:54:04.805 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:54:06.365 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 15:54:06.366 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:54:06.368 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:54:06.373 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 15:54:06.373 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 15:54:06.374 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 15:54:06.376 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 15:54:06.383 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:55:34.022 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 87 class path changes (0 additions, 87 deletions, 0 modifications)
2025-10-17 15:55:34.073 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 15:55:34.074 [Thread-7] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 15:55:34.076 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-528104892] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 15:55:34.077 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-528104892] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 15:55:34.082 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 15:55:34.085 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 15:55:34.172 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 16928 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 15:55:34.172 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 15:55:34.173 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 15:55:34.328 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 15:55:34.328 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 15:55:34.330 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-10-17 15:55:34.365 [restartedMain] WARN  [org.mybatis.spring.mapper.ClassPathMapperScanner] - No MyBatis mapper was found in '[com.yxly.mapper]' package. Please check your configuration.
2025-10-17 15:55:34.448 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 15:55:34.449 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 15:55:34.449 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 15:55:34.467 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 15:55:34.467 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 292 ms
2025-10-17 15:55:34.649 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 15:55:34.768 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 15:55:34.812 [restartedMain] WARN  [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [E:\CursorProject\LRminsu\yxly-backend\target\classes\mapper\RechargeRecordMapper.xml]'
2025-10-17 15:55:34.812 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 15:55:34.815 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 15:55:34.816 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 15:55:34.821 [restartedMain] INFO  [o.s.b.a.l.ConditionEvaluationReportLoggingListener] - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-17 15:55:34.862 [restartedMain] ERROR [org.springframework.boot.SpringApplication] - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [E:\CursorProject\LRminsu\yxly-backend\target\classes\mapper\RechargeRecordMapper.xml]'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929) ~[spring-context-5.3.31.jar:5.3.31]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.31.jar:5.3.31]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.18.jar:2.7.18]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.7.18.jar:2.7.18]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409) ~[spring-boot-2.7.18.jar:2.7.18]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.18.jar:2.7.18]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.7.18.jar:2.7.18]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289) ~[spring-boot-2.7.18.jar:2.7.18]
	at com.yxly.YxlyApplication.main(YxlyApplication.java:22) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-2.7.18.jar:2.7.18]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is java.io.IOException: Failed to parse mapping resource: 'file [E:\CursorProject\LRminsu\yxly-backend\target\classes\mapper\RechargeRecordMapper.xml]'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.31.jar:5.3.31]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648) ~[spring-beans-5.3.31.jar:5.3.31]
	... 24 common frames omitted
Caused by: java.io.IOException: Failed to parse mapping resource: 'file [E:\CursorProject\LRminsu\yxly-backend\target\classes\mapper\RechargeRecordMapper.xml]'
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:564) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.afterPropertiesSet(MybatisSqlSessionFactoryBean.java:437) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.getObject(MybatisSqlSessionFactoryBean.java:595) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration.sqlSessionFactory(MybatisPlusAutoConfiguration.java:224) ~[mybatis-plus-spring-boot-autoconfigure-3.5.5.jar:3.5.5]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.31.jar:5.3.31]
	... 25 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'file [E:\CursorProject\LRminsu\yxly-backend\target\classes\mapper\RechargeRecordMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.yxly.dto.response.RechargeRecordResponse'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.yxly.dto.response.RechargeRecordResponse
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:127) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.parse(XMLMapperBuilder.java:100) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean.buildSqlSessionFactory(MybatisSqlSessionFactoryBean.java:562) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	... 33 common frames omitted
Caused by: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.yxly.dto.response.RechargeRecordResponse'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.yxly.dto.response.RechargeRecordResponse
	at org.apache.ibatis.builder.BaseBuilder.resolveClass(BaseBuilder.java:103) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.builder.xml.XMLStatementBuilder.parseStatementNode(XMLStatementBuilder.java:105) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.buildStatementFromContext(XMLMapperBuilder.java:143) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.buildStatementFromContext(XMLMapperBuilder.java:135) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(XMLMapperBuilder.java:125) ~[mybatis-3.5.15.jar:3.5.15]
	... 35 common frames omitted
Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias 'com.yxly.dto.response.RechargeRecordResponse'.  Cause: java.lang.ClassNotFoundException: Cannot find class: com.yxly.dto.response.RechargeRecordResponse
	at org.apache.ibatis.type.TypeAliasRegistry.resolveAlias(TypeAliasRegistry.java:128) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.builder.BaseBuilder.resolveAlias(BaseBuilder.java:132) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.builder.BaseBuilder.resolveClass(BaseBuilder.java:101) ~[mybatis-3.5.15.jar:3.5.15]
	... 39 common frames omitted
Caused by: java.lang.ClassNotFoundException: Cannot find class: com.yxly.dto.response.RechargeRecordResponse
	at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:226) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:103) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.io.Resources.classForName(Resources.java:322) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.type.TypeAliasRegistry.resolveAlias(TypeAliasRegistry.java:124) ~[mybatis-3.5.15.jar:3.5.15]
	... 41 common frames omitted
2025-10-17 15:55:38.271 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 16928 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 15:55:38.271 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 15:55:38.271 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 15:55:38.388 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 15:55:38.388 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 15:55:38.394 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 15:55:38.474 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 15:55:38.474 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 15:55:38.475 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 15:55:38.490 [restartedMain] INFO  [o.a.c.c.C.[Tomcat-1].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 15:55:38.490 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 218 ms
2025-10-17 15:55:38.519 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 15:55:38.586 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 15:55:38.654 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 15:55:38.783 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 15:55:38.784 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 15:55:38.785 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 15:55:38.785 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 15:55:38.785 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 15:55:38.785 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 15:55:38.785 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 15:55:38.787 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c9f36f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b12295c, org.springframework.security.web.context.SecurityContextPersistenceFilter@26df365c, org.springframework.security.web.header.HeaderWriterFilter@45f4733, org.springframework.web.filter.CorsFilter@5cf21b5f, org.springframework.security.web.authentication.logout.LogoutFilter@4bfc5266, com.yxly.security.JwtAuthenticationFilter@790e7aaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c78574f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6260fd2c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48e454b9, org.springframework.security.web.session.SessionManagementFilter@258a7a47, org.springframework.security.web.access.ExceptionTranslationFilter@7dd8f8b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d3736be]
2025-10-17 15:55:38.945 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 15:55:38.969 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 15:55:38.972 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.723 seconds (JVM running for 3336.062)
2025-10-17 15:55:38.973 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 15:55:47.187 [http-nio-8080-exec-1] INFO  [o.a.c.c.C.[Tomcat-1].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 15:55:47.187 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 15:55:47.188 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 15:55:47.189 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 15:55:47.191 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:55:47.194 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:55:47.204 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 15:55:47.204 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 15:55:47.212 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 15:55:47.237 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:55:47.278 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 15:55:47.278 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 15:55:47.279 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:55:47.279 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:55:47.279 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 15:55:47.280 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 15:55:47.281 [http-nio-8080-exec-3] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 15:55:47.282 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:55:47.283 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:55:47.283 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 15:55:47.284 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:55:47.284 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 15:55:47.284 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 15:55:47.287 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 15:55:47.287 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 15:55:47.288 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:55:47.294 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 15:55:47.310 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:55:53.156 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 15:55:53.156 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 15:55:53.156 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:55:53.156 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:55:53.160 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:55:53.160 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:55:53.163 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 15:55:53.163 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 15:55:53.163 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 15:55:53.163 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 15:55:53.164 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 15:55:53.166 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 15:55:53.168 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 15:55:53.168 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 15:55:53.177 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 15:55:53.181 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:55:53.181 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:55:54.646 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 15:55:54.646 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:55:54.648 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:55:54.652 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 15:55:54.652 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 15:55:54.653 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 15:55:54.653 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 15:55:54.657 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 15:56:07.464 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 15:56:07.464 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 15:56:07.466 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 15:56:07.470 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 15:56:07.470 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 15:56:07.481 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 15:56:07.485 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 15:56:07.488 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 15:56:07.490 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 15:56:07.499 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 15:56:07.508 [http-nio-8080-exec-6] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy7/jdk.proxy7.$Proxy164.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:156) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 15:56:07.513 [http-nio-8080-exec-6] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 15:56:07.513 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:00:59.407 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 16:00:59.420 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:00:59.421 [Thread-11] INFO  [o.a.c.c.C.[Tomcat-1].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 16:00:59.421 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-544754891] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:00:59.422 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-544754891] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:00:59.425 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 16:00:59.427 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 16:00:59.491 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 16928 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:00:59.491 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:00:59.491 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:00:59.645 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:00:59.645 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:00:59.651 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 16:00:59.745 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:00:59.745 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:00:59.746 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:00:59.764 [restartedMain] INFO  [o.a.c.c.C.[Tomcat-1].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:00:59.764 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 272 ms
2025-10-17 16:00:59.793 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:00:59.874 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 16:00:59.936 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:01:00.071 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:01:00.071 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:01:00.071 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:01:00.071 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:01:00.072 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:01:00.075 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@33cdf0ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dce0c00, org.springframework.security.web.context.SecurityContextPersistenceFilter@6024e5da, org.springframework.security.web.header.HeaderWriterFilter@26390172, org.springframework.web.filter.CorsFilter@47a9f768, org.springframework.security.web.authentication.logout.LogoutFilter@6c27c19e, com.yxly.security.JwtAuthenticationFilter@6c6be77d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@500ad0de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e56693c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e2bdef3, org.springframework.security.web.session.SessionManagementFilter@4dcb1c56, org.springframework.security.web.access.ExceptionTranslationFilter@c678f37, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@615d1ad4]
2025-10-17 16:01:00.257 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:01:00.278 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:01:00.281 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.818 seconds (JVM running for 3657.371)
2025-10-17 16:01:00.282 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 16:01:21.148 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 16:01:21.161 [Thread-18] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:01:21.162 [Thread-18] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1009470472] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:01:21.163 [Thread-18] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1009470472] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:01:21.166 [Thread-18] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 16:01:21.168 [Thread-18] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 16:01:21.223 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 16928 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:01:21.223 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:01:21.223 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:01:21.336 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:01:21.337 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:01:21.342 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 16:01:21.429 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:01:21.429 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:01:21.429 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:01:21.448 [restartedMain] INFO  [o.a.c.c.C.[Tomcat-1].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:01:21.448 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 223 ms
2025-10-17 16:01:21.478 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:01:21.565 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 16:01:21.660 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:01:21.787 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:01:21.787 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:01:21.788 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:01:21.788 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:01:21.788 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:01:21.788 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:01:21.788 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:01:21.788 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:01:21.788 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:01:21.788 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:01:21.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:01:21.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:01:21.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:01:21.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:01:21.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:01:21.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:01:21.789 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:01:21.790 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ef81712, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57c640cd, org.springframework.security.web.context.SecurityContextPersistenceFilter@62fcffec, org.springframework.security.web.header.HeaderWriterFilter@2e08dd26, org.springframework.web.filter.CorsFilter@17ee42c4, org.springframework.security.web.authentication.logout.LogoutFilter@28bbcc0d, com.yxly.security.JwtAuthenticationFilter@64f5779a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7dd26920, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15db6a51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54bf9704, org.springframework.security.web.session.SessionManagementFilter@3b4073d0, org.springframework.security.web.access.ExceptionTranslationFilter@7c6c7ba8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@fb98578]
2025-10-17 16:01:21.949 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:01:21.970 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:01:21.973 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.769 seconds (JVM running for 3679.063)
2025-10-17 16:01:21.973 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 16:06:19.614 [http-nio-8080-exec-1] INFO  [o.a.c.c.C.[Tomcat-1].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 16:06:19.614 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 16:06:19.616 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 16:06:19.616 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 16:06:19.616 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:06:19.619 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:06:19.629 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 16:06:19.629 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 16:06:19.642 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 16:06:19.648 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:06:19.650 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 16:06:19.653 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:06:19.658 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:06:19.666 [http-nio-8080-exec-1] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy9/jdk.proxy9.$Proxy180.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:156) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 16:06:19.672 [http-nio-8080-exec-1] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 16:06:19.673 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:06:23.230 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 16:06:23.231 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:06:23.233 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:06:23.236 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 16:06:23.237 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 16:06:23.241 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 16:06:23.245 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:06:23.246 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 16:06:23.247 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:06:23.250 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:06:23.256 [http-nio-8080-exec-3] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy9/jdk.proxy9.$Proxy180.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:156) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor159.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor158.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 16:06:23.259 [http-nio-8080-exec-3] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 16:06:23.260 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:06:25.145 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 16:06:25.145 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:06:25.146 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:06:25.150 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 16:06:25.150 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 16:06:25.156 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 16:06:25.159 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:06:25.164 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 16:06:25.164 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:06:25.166 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:06:25.171 [http-nio-8080-exec-2] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy9/jdk.proxy9.$Proxy180.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:156) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor159.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor158.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 16:06:25.175 [http-nio-8080-exec-2] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 16:06:25.176 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:07:25.300 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 16:07:25.300 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:07:25.303 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:07:25.307 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 16:07:25.307 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 16:07:25.312 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 16:07:25.317 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:07:25.319 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 16:07:25.320 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:07:25.323 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:07:25.329 [http-nio-8080-exec-4] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy9/jdk.proxy9.$Proxy180.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:156) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor159.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor158.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 16:07:25.332 [http-nio-8080-exec-4] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 16:07:25.332 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:07:55.557 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 16:07:55.557 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:07:55.558 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:07:55.562 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 16:07:55.563 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 16:07:55.567 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 16:07:55.578 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:07:55.581 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 16:07:55.583 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:07:55.587 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:07:55.597 [http-nio-8080-exec-5] ERROR [com.yxly.exception.GlobalExceptionHandler] - 系统异常
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:59) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy9/jdk.proxy9.$Proxy180.insert(Unknown Source) ~[na:na]
	at com.yxly.service.impl.BookingOrderServiceImpl.createBooking(BookingOrderServiceImpl.java:156) ~[classes/:na]
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$8045f2c4.createBooking(<generated>) ~[classes/:na]
	at com.yxly.controller.user.UserBookingController.createBooking(UserBookingController.java:34) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor159.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor158.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:106) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.update(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor164.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 120 common frames omitted
2025-10-17 16:07:55.601 [http-nio-8080-exec-5] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [org.springframework.jdbc.BadSqlGrammarException: <EOL><EOL>### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL><EOL>### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)<EOL><EOL>### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline<EOL><EOL>### The error occurred while setting parameters<EOL><EOL>### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )<EOL><EOL>### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'<EOL>; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list']
2025-10-17 16:07:55.602 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:29:14.562 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 25408 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:29:14.563 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:29:14.564 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:29:14.600 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 16:29:14.601 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 16:29:15.118 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:29:15.120 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:29:15.145 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-17 16:29:15.855 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:29:15.864 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:29:15.864 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:29:15.940 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:29:15.940 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1339 ms
2025-10-17 16:29:16.025 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:29:16.421 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 16:29:16.700 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:29:17.083 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:29:17.084 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:29:17.084 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:29:17.084 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:29:17.084 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:29:17.084 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:29:17.084 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:29:17.084 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:29:17.085 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:29:17.085 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:29:17.085 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:29:17.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:29:17.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:29:17.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:29:17.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:29:17.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:29:17.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:29:17.094 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42d63947, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57eecab3, org.springframework.security.web.context.SecurityContextPersistenceFilter@4db7ff58, org.springframework.security.web.header.HeaderWriterFilter@407b2ef7, org.springframework.web.filter.CorsFilter@5c3c9865, org.springframework.security.web.authentication.logout.LogoutFilter@342c0e9c, com.yxly.security.JwtAuthenticationFilter@5d1ab322, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a7ab9f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@732b1c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38aa04c6, org.springframework.security.web.session.SessionManagementFilter@2055411, org.springframework.security.web.access.ExceptionTranslationFilter@25783da2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@723f1f2e]
2025-10-17 16:29:17.777 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:29:17.828 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:29:17.839 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.591 seconds (JVM running for 3.901)
2025-10-17 16:29:35.383 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 16:29:35.384 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 16:29:35.385 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 16:29:35.392 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 16:29:35.392 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 16:29:35.395 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:29:35.395 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:29:35.435 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:29:35.435 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:29:35.532 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 16:29:35.532 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 16:29:35.534 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 16:29:35.534 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 16:29:35.546 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 16:29:35.552 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 16:29:35.553 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:29:35.553 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:29:35.613 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 16:29:35.619 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:29:35.619 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:29:36.928 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 16:29:36.928 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:29:36.932 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:29:36.938 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 16:29:36.939 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 16:29:36.942 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 16:29:36.942 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 16:29:36.950 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:29:51.825 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 16:29:51.825 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:29:51.834 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:29:51.840 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 16:29:51.840 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 16:29:51.928 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 16:29:51.940 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:29:51.949 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 16:29:51.954 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:29:51.964 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:29:52.003 [http-nio-8080-exec-4] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建失败，但订单已创建成功: orderId=9, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 16:29:52.004 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=9, orderNo=YX2025101716295188666, 支付金额=98.00
2025-10-17 16:29:52.009 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:05.268 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 16:30:05.268 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:05.271 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:30:05.276 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 16:30:05.276 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 16:30:05.277 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 16:30:05.277 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 16:30:05.282 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:47.729 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 16:30:47.730 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:47.733 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:30:47.734 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 16:30:47.736 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:47.741 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:30:47.743 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 16:30:47.743 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 16:30:47.744 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 16:30:47.744 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 16:30:47.747 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 16:30:47.747 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 16:30:47.747 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:30:47.748 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:30:47.757 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 16:30:47.760 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:47.760 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:50.097 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:30:50.099 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:50.105 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:30:50.111 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 16:30:50.112 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:30:50.118 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:30:50.154 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:50.186 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:30:50.187 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:30:50.187 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:50.188 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:50.189 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:30:50.189 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:30:50.190 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:30:50.190 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:50.191 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:30:50.193 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:30:50.193 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:50.193 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:30:50.193 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:30:50.197 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 16:30:50.197 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:30:50.201 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:30:50.211 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:50.230 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:57.330 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 16:30:57.331 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:30:57.331 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:57.331 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:57.333 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:30:57.333 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:30:57.336 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:30:57.337 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:30:57.341 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 16:30:57.341 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 16:30:57.352 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 16:30:57.352 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 16:30:57.355 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:57.364 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:30:57.558 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:30:57.558 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:30:57.560 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:30:57.564 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:30:57.564 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:30:57.578 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:31:02.227 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 16:31:02.227 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:31:02.227 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:31:02.227 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:31:02.227 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:31:02.227 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:31:02.230 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:31:02.230 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:31:02.231 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:31:02.234 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:31:02.234 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 16:31:02.234 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:31:02.234 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 16:31:02.235 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:31:02.235 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:31:02.240 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 16:31:02.242 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 16:31:02.244 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:31:02.250 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:31:02.251 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:31:12.624 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:31:12.624 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:31:12.631 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:31:12.636 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 16:31:12.637 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:31:12.640 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:31:12.664 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:31:12.680 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:31:12.680 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:31:12.681 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:31:12.681 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:31:12.681 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:31:12.681 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:31:12.682 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:31:12.682 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:31:12.682 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:31:12.683 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:31:12.683 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:31:12.683 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:31:12.684 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:31:12.685 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:31:12.687 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 16:31:12.688 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:31:12.692 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:31:12.714 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:19.936 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 16:34:19.941 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 16:34:25.539 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18252 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:34:25.541 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:34:25.541 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:34:25.580 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 16:34:25.580 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 16:34:26.219 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:34:26.221 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:34:26.245 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-17 16:34:26.909 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:34:26.916 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:34:26.916 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:34:26.984 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:34:26.985 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1404 ms
2025-10-17 16:34:27.061 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:34:27.427 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 16:34:27.690 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:34:28.052 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:34:28.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:34:28.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:34:28.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:34:28.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:34:28.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:34:28.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:34:28.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:34:28.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:34:28.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:34:28.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:34:28.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:34:28.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:34:28.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:34:28.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:34:28.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:34:28.057 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:34:28.062 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f175716, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44ed12de, org.springframework.security.web.context.SecurityContextPersistenceFilter@1741a31e, org.springframework.security.web.header.HeaderWriterFilter@347ef514, org.springframework.web.filter.CorsFilter@58c6ce0f, org.springframework.security.web.authentication.logout.LogoutFilter@32ff841e, com.yxly.security.JwtAuthenticationFilter@7a728dc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fa69099, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ce29403, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b6261ac, org.springframework.security.web.session.SessionManagementFilter@178d1c71, org.springframework.security.web.access.ExceptionTranslationFilter@137fc08e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68a838b2]
2025-10-17 16:34:28.685 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:34:28.732 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:34:28.743 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.56 seconds (JVM running for 3.911)
2025-10-17 16:34:35.214 [http-nio-8080-exec-2] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 16:34:35.214 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 16:34:35.216 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-17 16:34:35.224 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:34:35.225 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:35.268 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:35.361 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 16:34:35.361 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:34:35.386 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:34:35.516 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:35.550 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:34:35.551 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:35.551 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:34:35.551 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:34:35.551 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:35.551 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:34:35.552 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:34:35.552 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:35.553 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:35.553 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:34:35.553 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:35.554 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:34:35.554 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:34:35.557 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 16:34:35.557 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:34:35.561 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:34:35.568 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:35.588 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:43.673 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 16:34:43.673 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:43.677 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:43.684 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 16:34:43.684 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 16:34:43.685 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 16:34:43.689 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 16:34:43.706 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:43.710 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 16:34:43.710 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:43.714 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:43.720 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 16:34:43.720 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 16:34:43.722 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:34:43.722 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:34:43.735 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 16:34:43.739 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:45.077 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 16:34:45.078 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:45.080 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:45.085 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 16:34:45.085 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 16:34:45.088 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 16:34:45.089 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 16:34:45.094 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:49.712 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 16:34:49.712 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 16:34:49.712 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:49.712 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:49.718 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:49.718 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:49.723 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 16:34:49.723 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 16:34:49.723 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 16:34:49.723 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 16:34:49.724 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 16:34:49.724 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 16:34:49.724 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:34:49.725 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:34:49.733 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 16:34:49.735 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:49.735 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:52.828 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:34:52.828 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:52.835 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:52.843 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 16:34:52.843 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:34:52.850 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:34:52.873 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:52.904 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:34:52.904 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:34:52.904 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:52.904 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:52.904 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:34:52.906 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:34:52.907 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:34:52.907 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:52.908 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:34:52.908 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:52.908 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:34:52.908 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:34:52.909 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:52.911 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:52.915 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 16:34:52.915 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:34:52.922 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:34:52.946 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:57.256 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings/9/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88
2025-10-17 16:34:57.257 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:57.263 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:57.267 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings/9/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88] with attributes [authenticated]
2025-10-17 16:34:57.267 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings/9/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88
2025-10-17 16:34:57.281 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 取消订单: id=9, userId=5, reason=用户主动取消
2025-10-17 16:34:57.291 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:34:57.297 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单退款成功: userId=5, 退款金额=98.00, 原余额=802.00, 新余额=900.00
2025-10-17 16:34:57.301 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:34:57.332 [http-nio-8080-exec-1] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 退款交易记录创建失败，但退款已成功: orderId=9, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 16:34:57.337 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:34:57.340 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单取消成功: orderId=9
2025-10-17 16:34:57.343 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:57.513 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:34:57.514 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:57.516 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:57.520 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 16:34:57.520 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:34:57.524 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:34:57.548 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:57.653 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:34:57.653 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:57.655 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:57.659 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 16:34:57.659 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:34:57.664 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:34:57.697 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:57.993 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 16:34:57.994 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:57.995 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:57.999 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 16:34:57.999 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 16:34:58.007 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 16:34:58.009 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:58.224 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:34:58.224 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:34:58.225 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:58.225 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:34:58.227 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:58.228 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:34:58.230 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:34:58.230 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:34:58.230 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:34:58.231 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:34:58.238 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 16:34:58.249 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:34:58.251 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:04.267 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 16:35:04.267 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 16:35:04.268 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:04.268 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:04.271 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:35:04.272 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:35:04.276 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 16:35:04.276 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 16:35:04.276 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 16:35:04.276 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 16:35:04.277 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 16:35:04.277 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 16:35:04.277 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:35:04.277 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 16:35:04.288 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 16:35:04.289 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:04.292 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:06.693 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 16:35:06.694 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:06.697 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:35:06.701 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 16:35:06.701 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 16:35:06.701 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 16:35:06.702 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 16:35:06.705 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:19.502 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 16:35:19.503 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:19.504 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:35:19.509 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [authenticated]
2025-10-17 16:35:19.510 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 16:35:19.563 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 16:35:19.566 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:35:19.568 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 16:35:19.571 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:35:19.576 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 16:35:19.577 [http-nio-8080-exec-2] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建失败，但订单已创建成功: orderId=10, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 16:35:19.578 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=10, orderNo=YX2025101716351997793, 支付金额=98.00
2025-10-17 16:35:19.581 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:19.766 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:35:19.766 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:19.768 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:35:19.771 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 16:35:19.772 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:35:19.775 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:35:19.799 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:19.925 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:35:19.925 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:35:19.926 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:19.926 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:19.926 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:35:19.926 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:35:19.926 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:35:19.926 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:19.927 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:35:19.927 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:19.927 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:35:19.927 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:35:19.927 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:35:19.928 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:19.931 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 16:35:19.931 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:35:19.935 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:35:19.956 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:25.443 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:35:25.443 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 16:35:25.443 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:25.444 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:25.446 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:35:25.447 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:35:25.452 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:35:25.452 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:35:25.456 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 16:35:25.456 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 16:35:25.460 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 16:35:25.467 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 16:35:25.468 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:25.470 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:35:25.757 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:35:25.757 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:35:25.759 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:35:25.763 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:35:25.763 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:35:25.771 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:36:40.156 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:36:40.156 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:36:40.158 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:36:40.168 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [authenticated]
2025-10-17 16:36:40.168 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:36:40.171 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:36:40.190 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:36:40.205 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:36:40.206 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:36:40.206 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:36:40.206 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:36:40.206 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:36:40.206 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:36:40.207 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:36:40.207 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:36:40.207 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:36:40.207 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:36:40.209 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:36:40.413 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:36:40.413 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:36:40.416 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:36:40.419 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 16:36:40.419 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:36:40.422 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:36:40.441 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:37:13.270 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-17 16:37:13.271 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:37:13.273 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:37:13.276 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-17 16:37:13.277 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-17 16:37:13.290 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-17 16:37:13.293 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:37:21.956 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 16:37:21.956 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:37:21.957 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:37:21.957 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 16:37:21.957 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 16:37:21.963 [http-nio-8080-exec-1] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=admin, userType=admin
2025-10-17 16:37:21.964 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: admin, 登录类型: admin
2025-10-17 16:37:22.037 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-17 16:37:22.045 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 16:37:22.050 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: admin
2025-10-17 16:37:22.053 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:41:07.498 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:41:07.499 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:41:07.500 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:41:07.505 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [authenticated]
2025-10-17 16:41:07.506 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:41:07.510 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:41:07.510 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:41:07.510 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:41:07.510 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:41:07.511 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:41:07.512 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:41:30.223 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:41:30.223 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:41:30.225 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:41:30.228 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [authenticated]
2025-10-17 16:41:30.228 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:41:30.230 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:41:30.230 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:41:30.230 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:41:30.231 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:41:30.231 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:41:30.232 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:42:23.577 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 16:42:23.593 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:42:23.594 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 16:42:23.608 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1479026387] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:42:23.608 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1479026387] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:42:23.620 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 16:42:23.624 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 16:42:23.697 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18252 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:42:23.697 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:42:23.697 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:42:23.863 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:42:23.863 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:42:23.869 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 16:42:23.975 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:42:23.976 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:42:23.977 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:42:23.995 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:42:23.995 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 296 ms
2025-10-17 16:42:24.026 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:42:24.123 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 16:42:24.189 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:42:24.317 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:42:24.317 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:42:24.317 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:42:24.317 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:42:24.317 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:42:24.317 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:42:24.318 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:42:24.318 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:42:24.318 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:42:24.318 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:42:24.318 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:42:24.318 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:42:24.319 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:42:24.319 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:42:24.319 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:42:24.319 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:42:24.319 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:42:24.321 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bb5c39e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ad8d3c5, org.springframework.security.web.context.SecurityContextPersistenceFilter@4b4ed5af, org.springframework.security.web.header.HeaderWriterFilter@2717f77f, org.springframework.web.filter.CorsFilter@f5890d6, org.springframework.security.web.authentication.logout.LogoutFilter@8034b0, com.yxly.security.JwtAuthenticationFilter@4e043ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19683cf7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dc8caa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@631a7046, org.springframework.security.web.session.SessionManagementFilter@1f847757, org.springframework.security.web.access.ExceptionTranslationFilter@5b112cb5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53d7ef34]
2025-10-17 16:42:24.515 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:42:24.542 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:42:24.546 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.878 seconds (JVM running for 479.714)
2025-10-17 16:42:24.547 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 16:42:57.747 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 16:42:57.761 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:42:57.763 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1617652651] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:42:57.764 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1617652651] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:42:57.767 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 16:42:57.768 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 16:42:57.825 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18252 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:42:57.825 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:42:57.826 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:42:57.947 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:42:57.947 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:42:57.954 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 16:42:58.050 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:42:58.050 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:42:58.050 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:42:58.068 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:42:58.068 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 241 ms
2025-10-17 16:42:58.095 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:42:58.175 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 16:42:58.239 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:42:58.353 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:42:58.354 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:42:58.354 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:42:58.354 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:42:58.355 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:42:58.357 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c705e4d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74c02350, org.springframework.security.web.context.SecurityContextPersistenceFilter@40f7b447, org.springframework.security.web.header.HeaderWriterFilter@510e72, org.springframework.web.filter.CorsFilter@80942c6, org.springframework.security.web.authentication.logout.LogoutFilter@558f6e7a, com.yxly.security.JwtAuthenticationFilter@7623be56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2342348e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2be89c0a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@462b5572, org.springframework.security.web.session.SessionManagementFilter@d31cfb5, org.springframework.security.web.access.ExceptionTranslationFilter@77e28699, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c35622c]
2025-10-17 16:42:58.510 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:42:58.535 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:42:58.539 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.735 seconds (JVM running for 513.707)
2025-10-17 16:42:58.540 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 16:43:12.286 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 16:43:12.299 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:43:12.300 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-2125134864] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:43:12.300 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-2125134864] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:43:12.302 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 16:43:12.305 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 16:43:12.353 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18252 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:43:12.354 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:43:12.354 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:43:12.468 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:43:12.469 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:43:12.477 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-17 16:43:12.572 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:43:12.572 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:43:12.572 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:43:12.590 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:43:12.590 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 235 ms
2025-10-17 16:43:12.617 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:43:12.692 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 16:43:12.750 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:43:12.861 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:43:12.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:43:12.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:43:12.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:43:12.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:43:12.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:43:12.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:43:12.864 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@363ad72d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c645c66, org.springframework.security.web.context.SecurityContextPersistenceFilter@666a1695, org.springframework.security.web.header.HeaderWriterFilter@6644223, org.springframework.web.filter.CorsFilter@53b3847, org.springframework.security.web.authentication.logout.LogoutFilter@126ea7c4, com.yxly.security.JwtAuthenticationFilter@2fe3ffc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16f97b2f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32284689, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@462d07a1, org.springframework.security.web.session.SessionManagementFilter@15606b18, org.springframework.security.web.access.ExceptionTranslationFilter@7530aa75, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62c4322b]
2025-10-17 16:43:13.021 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:43:13.052 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:43:13.055 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.719 seconds (JVM running for 528.223)
2025-10-17 16:43:13.056 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 16:44:39.059 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 16:44:39.059 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 16:44:39.060 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 16:44:39.060 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:44:39.060 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:44:39.062 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:44:39.070 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [authenticated]
2025-10-17 16:44:39.071 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:44:39.074 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:44:39.075 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:44:39.075 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:44:39.075 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:44:39.075 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:44:39.079 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:44:52.557 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:44:52.557 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:44:52.559 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:44:52.562 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [authenticated]
2025-10-17 16:44:52.563 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:44:52.564 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:44:52.564 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:44:52.566 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:44:52.566 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:44:52.566 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:44:52.568 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:46:49.006 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:46:49.006 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:46:49.008 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:46:49.012 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [authenticated]
2025-10-17 16:46:49.012 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:46:49.014 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:46:49.015 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:46:49.015 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:46:49.015 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:46:49.015 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:46:49.017 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:47:34.963 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 16:47:34.976 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:47:34.976 [Thread-15] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 16:47:34.977 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-140645549] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:47:34.978 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-140645549] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:47:34.981 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 16:47:34.983 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 16:47:35.042 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18252 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:47:35.043 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:47:35.043 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:47:35.163 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:47:35.163 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:47:35.169 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 16:47:35.261 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:47:35.262 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:47:35.262 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:47:35.279 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:47:35.279 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 235 ms
2025-10-17 16:47:35.311 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:47:35.393 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 16:47:35.451 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:47:35.562 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:47:35.562 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:47:35.562 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:47:35.563 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:47:35.564 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:47:35.564 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:47:35.564 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:47:35.564 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:47:35.566 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@590c458b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a11d2a3, org.springframework.security.web.context.SecurityContextPersistenceFilter@14f6157a, org.springframework.security.web.header.HeaderWriterFilter@6650dc31, org.springframework.web.filter.CorsFilter@221f294c, org.springframework.security.web.authentication.logout.LogoutFilter@5036704a, com.yxly.security.JwtAuthenticationFilter@40fcc131, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30ccf6c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@501d05bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28ed42d4, org.springframework.security.web.session.SessionManagementFilter@67c867cf, org.springframework.security.web.access.ExceptionTranslationFilter@164bf58, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ed93426]
2025-10-17 16:47:35.735 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:47:35.757 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:47:35.760 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.739 seconds (JVM running for 790.928)
2025-10-17 16:47:35.762 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 16:49:20.800 [http-nio-8080-exec-3] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 16:49:20.801 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 16:49:20.802 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 16:49:20.802 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:49:20.802 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:49:20.805 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:49:20.814 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [authenticated]
2025-10-17 16:49:20.814 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:49:20.817 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:49:20.817 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:49:20.817 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:49:20.817 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:49:20.817 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:49:20.821 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:51:44.334 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 16:51:44.348 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:51:44.349 [Thread-19] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 16:51:44.350 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-2028326641] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:51:44.351 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-2028326641] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:51:44.355 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 16:51:44.357 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 16:51:44.422 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18252 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:51:44.423 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:51:44.423 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:51:44.580 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:51:44.580 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:51:44.586 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 16:51:44.675 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:51:44.675 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:51:44.675 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:51:44.693 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:51:44.693 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 269 ms
2025-10-17 16:51:44.726 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:51:44.801 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 16:51:44.859 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:51:44.972 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:51:44.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:51:44.974 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:51:44.974 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:51:44.974 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:51:44.974 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:51:44.974 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:51:44.975 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@29a9ed39, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f7780b1, org.springframework.security.web.context.SecurityContextPersistenceFilter@bc34f79, org.springframework.security.web.header.HeaderWriterFilter@56214ad0, org.springframework.web.filter.CorsFilter@11f3209e, org.springframework.security.web.authentication.logout.LogoutFilter@48c68a75, com.yxly.security.JwtAuthenticationFilter@54f38d66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ca99a7e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10823ef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7561f5af, org.springframework.security.web.session.SessionManagementFilter@70573e61, org.springframework.security.web.access.ExceptionTranslationFilter@4de15996, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ef13f9e]
2025-10-17 16:51:45.157 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:51:45.180 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:51:45.185 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.785 seconds (JVM running for 1040.352)
2025-10-17 16:51:45.186 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 16:52:23.579 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 16:52:23.591 [Thread-23] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:52:23.593 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-154563535] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:52:23.593 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-154563535] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:52:23.598 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-17 16:52:23.600 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-17 16:52:23.669 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18252 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:52:23.670 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:52:23.670 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:52:23.805 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:52:23.805 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:52:23.812 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 16:52:23.889 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:52:23.890 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:52:23.890 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:52:23.908 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:52:23.908 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 236 ms
2025-10-17 16:52:23.938 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:52:24.043 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} inited
2025-10-17 16:52:24.099 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:52:24.204 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:52:24.205 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:52:24.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:52:24.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:52:24.206 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:52:24.208 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1bb1adb2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fd92ae, org.springframework.security.web.context.SecurityContextPersistenceFilter@76667197, org.springframework.security.web.header.HeaderWriterFilter@c88dc2f, org.springframework.web.filter.CorsFilter@10f4329, org.springframework.security.web.authentication.logout.LogoutFilter@3a8415c7, com.yxly.security.JwtAuthenticationFilter@7c239901, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26cb08e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ce8d1ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f346732, org.springframework.security.web.session.SessionManagementFilter@69ff55fe, org.springframework.security.web.access.ExceptionTranslationFilter@1668c2b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22ebd155]
2025-10-17 16:52:24.363 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:52:24.385 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:52:24.388 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.741 seconds (JVM running for 1079.556)
2025-10-17 16:52:24.389 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 16:53:06.552 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 16:53:06.553 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 16:53:06.554 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 16:53:06.554 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:53:06.554 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:53:06.556 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:53:06.566 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [authenticated]
2025-10-17 16:53:06.566 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:53:06.568 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:53:06.568 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:53:06.568 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:53:06.568 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:53:06.568 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:53:06.571 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:53:17.873 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closing ...
2025-10-17 16:53:17.875 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closed
2025-10-17 16:53:28.195 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 5712 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:53:28.198 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:53:28.198 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:53:28.247 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 16:53:28.247 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 16:53:28.803 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:53:28.805 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:53:28.826 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 16:53:29.489 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:53:29.498 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:53:29.498 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:53:29.572 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:53:29.573 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1325 ms
2025-10-17 16:53:29.651 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:53:29.986 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 16:53:30.248 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:53:30.628 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:53:30.630 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:53:30.630 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:53:30.631 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:53:30.631 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:53:30.631 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:53:30.631 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:53:30.632 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:53:30.632 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:53:30.633 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:53:30.633 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:53:30.633 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:53:30.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:53:30.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 16:53:30.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 16:53:30.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:53:30.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:53:30.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:53:30.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 16:53:30.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:53:30.641 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6168424a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@134e375f, org.springframework.security.web.context.SecurityContextPersistenceFilter@edb7e4c, org.springframework.security.web.header.HeaderWriterFilter@3a03d2d0, org.springframework.web.filter.CorsFilter@400d83ef, org.springframework.security.web.authentication.logout.LogoutFilter@771df410, com.yxly.security.JwtAuthenticationFilter@1458068a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10aa0670, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53a660e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29751b6f, org.springframework.security.web.session.SessionManagementFilter@52e7e906, org.springframework.security.web.access.ExceptionTranslationFilter@24381170, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53f378a3]
2025-10-17 16:53:31.228 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:53:31.277 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:53:31.286 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.414 seconds (JVM running for 3.709)
2025-10-17 16:53:44.037 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 16:53:44.037 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 16:53:44.039 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 16:53:44.047 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:53:44.051 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:53:44.099 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:53:44.203 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 16:53:44.204 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:53:44.232 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 16:53:44.237 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 16:53:44.298 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:53:44.303 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:53:44.313 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:53:44.319 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:53:44.326 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:53:44.333 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:53:44.333 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 16:53:44.384 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:53:58.100 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:53:58.100 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:53:58.103 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:53:58.109 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 16:53:58.111 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:53:58.112 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 16:53:58.112 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 16:53:58.127 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:53:58.128 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:53:58.136 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:53:58.144 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:53:58.150 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:53:58.157 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:53:58.157 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 16:53:58.161 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:12.006 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:54:12.007 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:12.009 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:54:12.015 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 16:54:12.015 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 16:54:12.016 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 16:54:12.016 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 16:54:12.029 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:54:12.029 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:54:12.036 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:54:12.042 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:54:12.048 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:54:12.053 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:54:12.054 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 16:54:12.056 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:51.909 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:54:51.909 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:51.914 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:54:51.923 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 16:54:51.924 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:54:51.934 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:54:51.953 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:54:51.954 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:54:51.963 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:54:51.970 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:54:51.982 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:54:51.993 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:54:52.000 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:52.032 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:54:52.032 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:54:52.032 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:52.032 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:52.033 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:54:52.033 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:54:52.034 [http-nio-8080-exec-6] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:54:52.034 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:52.034 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:54:52.037 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:54:52.037 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:52.038 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:54:52.038 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:54:52.040 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 16:54:52.041 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:54:52.048 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:54:52.060 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:54:52.060 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:54:52.061 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:52.069 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:54:52.075 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:54:52.082 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:54:52.088 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:54:52.090 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:57.423 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:54:57.423 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 16:54:57.424 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:57.424 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:54:57.424 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:57.424 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:57.427 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:54:57.427 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:54:57.428 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:54:57.438 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:54:57.438 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 16:54:57.449 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 16:54:57.449 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 16:54:57.451 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 16:54:57.451 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 16:54:57.451 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 16:54:57.458 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 16:54:57.460 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:57.466 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:57.475 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:58.535 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:54:58.535 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:58.537 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:54:58.543 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 16:54:58.543 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:54:58.549 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:54:58.557 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:54:58.558 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:54:58.563 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:54:58.568 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:54:58.572 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:54:58.577 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:54:58.579 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:58.597 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:54:58.597 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:54:58.597 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:58.598 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:58.598 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:54:58.598 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:54:58.599 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:54:58.599 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:58.599 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:54:58.600 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:54:58.600 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:54:58.600 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:54:58.601 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:54:58.603 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:54:58.607 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 16:54:58.607 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:54:58.612 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:54:58.621 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:54:58.621 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:54:58.626 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:54:58.630 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:54:58.636 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:54:58.641 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:54:58.643 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:55:02.769 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:55:02.771 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:55:02.773 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:55:02.776 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 16:55:02.776 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:55:02.781 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:55:02.790 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:55:02.791 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:55:02.794 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:55:02.798 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:55:02.803 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:55:02.805 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:55:02.808 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:55:02.826 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:55:02.826 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:55:02.827 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:55:02.827 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:55:02.827 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:55:02.828 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:55:02.828 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:55:02.828 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:55:02.828 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:55:02.828 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:55:02.830 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:55:02.915 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:55:02.915 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:55:02.917 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:55:02.922 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 16:55:02.922 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:55:02.929 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:55:02.936 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:55:02.936 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:55:02.941 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:55:02.946 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:55:02.950 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:55:02.954 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:55:02.955 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:57:00.878 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:57:00.879 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:57:00.881 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:57:00.886 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 16:57:00.886 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:57:00.889 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:57:00.896 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:57:00.897 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:57:00.901 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:57:00.906 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:57:00.910 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:57:00.914 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:57:00.916 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:57:00.990 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:57:00.990 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:57:00.991 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:57:00.995 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 16:57:00.995 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:57:00.998 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:57:01.003 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:57:01.003 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:57:01.008 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:57:01.010 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:57:01.014 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:57:01.017 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:57:01.019 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:57:01.125 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:57:01.127 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:57:09.391 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 16:57:09.391 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:57:09.393 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:57:09.396 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 16:57:09.396 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 16:57:09.399 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 16:57:09.405 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:57:09.405 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:57:09.408 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:57:09.411 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:57:09.414 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:57:09.417 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:57:09.418 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:57:09.453 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 16:57:09.453 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:57:09.454 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 16:57:09.454 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:57:09.454 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:57:09.454 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 16:57:09.454 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 16:57:09.454 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:57:09.455 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 16:57:09.455 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 16:57:09.455 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 16:57:09.455 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 16:57:09.455 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 16:57:09.456 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:57:09.458 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 16:57:09.458 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 16:57:09.461 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 16:57:09.466 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 16:57:09.466 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 16:57:09.469 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 16:57:09.472 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 16:57:09.474 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 16:57:09.477 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 16:57:09.480 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 16:59:27.744 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 16:59:27.758 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:59:27.759 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 16:59:27.772 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-96041332] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:59:27.773 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-96041332] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:59:27.782 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 16:59:27.788 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 16:59:27.848 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 5712 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:59:27.849 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:59:27.849 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:59:27.990 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:59:27.990 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:59:27.996 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 16:59:28.108 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:59:28.109 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:59:28.109 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:59:28.128 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:59:28.128 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 277 ms
2025-10-17 16:59:28.163 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:59:28.260 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 16:59:28.327 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:59:28.473 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:59:28.473 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:59:28.474 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 16:59:28.475 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 16:59:28.475 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:59:28.475 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:59:28.475 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:59:28.475 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 16:59:28.475 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:59:28.477 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ff8743e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6407251, org.springframework.security.web.context.SecurityContextPersistenceFilter@1220f686, org.springframework.security.web.header.HeaderWriterFilter@7a324e23, org.springframework.web.filter.CorsFilter@2bc0dd16, org.springframework.security.web.authentication.logout.LogoutFilter@225e7f6e, com.yxly.security.JwtAuthenticationFilter@7a9bf8c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c44c659, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@346fc8a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@712ae7a8, org.springframework.security.web.session.SessionManagementFilter@1302063a, org.springframework.security.web.access.ExceptionTranslationFilter@3aae9093, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c8ac749]
2025-10-17 16:59:28.674 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:59:28.706 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:59:28.710 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.888 seconds (JVM running for 361.134)
2025-10-17 16:59:28.716 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 16:59:51.703 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 16:59:51.717 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 16:59:51.720 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-731851530] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 16:59:51.720 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-731851530] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 16:59:51.723 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 16:59:51.726 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 16:59:51.795 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 5712 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 16:59:51.795 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 16:59:51.795 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 16:59:51.912 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 16:59:51.912 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 16:59:51.917 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 16:59:52.011 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 16:59:52.012 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 16:59:52.012 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 16:59:52.032 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 16:59:52.032 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 236 ms
2025-10-17 16:59:52.062 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 16:59:52.153 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 16:59:52.217 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 16:59:52.340 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 16:59:52.341 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 16:59:52.342 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 16:59:52.342 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 16:59:52.342 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 16:59:52.342 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 16:59:52.342 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 16:59:52.342 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 16:59:52.342 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 16:59:52.345 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7177deee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3315beb8, org.springframework.security.web.context.SecurityContextPersistenceFilter@21da61a1, org.springframework.security.web.header.HeaderWriterFilter@4100b6b6, org.springframework.web.filter.CorsFilter@440230f6, org.springframework.security.web.authentication.logout.LogoutFilter@394fa502, com.yxly.security.JwtAuthenticationFilter@298dfbee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f2cb40f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b5d025a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e973cc, org.springframework.security.web.session.SessionManagementFilter@3fc3fa9c, org.springframework.security.web.access.ExceptionTranslationFilter@b1d92c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65441d5f]
2025-10-17 16:59:52.537 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 16:59:52.558 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 16:59:52.561 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.794 seconds (JVM running for 384.985)
2025-10-17 16:59:52.563 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:00:11.472 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:00:11.485 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:00:11.486 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-402302902] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:00:11.487 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-402302902] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:00:11.490 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 17:00:11.492 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 17:00:11.542 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 5712 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:00:11.542 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:00:11.542 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:00:11.661 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:00:11.662 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:00:11.667 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 17:00:11.749 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:00:11.750 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:00:11.750 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:00:11.769 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:00:11.770 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 227 ms
2025-10-17 17:00:11.802 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:00:11.896 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 17:00:11.954 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:00:12.068 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:00:12.068 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:00:12.068 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:00:12.068 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:00:12.068 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:00:12.068 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:00:12.068 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:00:12.068 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:00:12.069 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:00:12.070 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:00:12.072 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21fa9752, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@591254a1, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a8c01ad, org.springframework.security.web.header.HeaderWriterFilter@67bacde8, org.springframework.web.filter.CorsFilter@6986c32e, org.springframework.security.web.authentication.logout.LogoutFilter@9778fdc, com.yxly.security.JwtAuthenticationFilter@9144dca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c39df19, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d5d80fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50f4492, org.springframework.security.web.session.SessionManagementFilter@bc4ad7e, org.springframework.security.web.access.ExceptionTranslationFilter@72208c61, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f5a77e3]
2025-10-17 17:00:12.237 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:00:12.284 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:00:12.288 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.764 seconds (JVM running for 404.711)
2025-10-17 17:00:12.289 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:00:20.848 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:00:20.849 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:00:20.850 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 17:00:20.850 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:00:20.850 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:00:20.854 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:00:20.866 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:00:20.867 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:00:20.880 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:00:20.896 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:00:20.903 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:00:20.911 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:00:20.917 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:00:20.923 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:00:20.928 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:00:20.940 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:00:20.943 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:00:20.943 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:00:20.947 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:00:20.952 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:00:20.952 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:00:20.955 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:00:20.955 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:00:20.965 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:00:20.966 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:00:20.974 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:00:20.980 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:00:20.987 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:00:20.993 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:00:20.993 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:00:20.996 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:00:21.025 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:00:21.025 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:00:21.030 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:00:21.035 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:00:21.035 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:00:21.040 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:00:21.051 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:00:21.053 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:00:21.059 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:00:21.065 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:00:21.072 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:00:21.077 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:00:21.079 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:00:21.084 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:00:21.085 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:00:21.085 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:00:21.085 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:00:21.086 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:00:21.086 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:00:21.086 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:00:21.087 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:00:21.087 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:00:21.087 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:00:21.090 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:00:30.207 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:00:30.207 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:00:30.208 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:00:30.212 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:00:30.212 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:00:30.213 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:00:30.213 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:00:30.219 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:00:30.220 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:00:30.224 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:00:30.227 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:00:30.232 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:00:30.238 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:00:30.238 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:00:30.241 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:00:43.100 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:00:43.100 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:00:43.103 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:00:43.105 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:00:43.105 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:00:43.105 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:00:43.105 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:00:43.110 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:00:43.110 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:00:43.117 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:00:43.120 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:00:43.123 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:00:43.126 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:00:43.126 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:00:43.127 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:01:22.002 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 17:01:22.005 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 17:01:32.709 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30060 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:01:32.710 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:01:32.710 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:01:32.749 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 17:01:32.749 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 17:01:33.225 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:01:33.227 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:01:33.248 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-17 17:01:33.850 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:01:33.858 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:01:33.858 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:01:33.920 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:01:33.920 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1171 ms
2025-10-17 17:01:33.984 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:01:34.300 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 17:01:34.543 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:01:34.861 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:01:34.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:01:34.862 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:01:34.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:01:34.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:01:34.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:01:34.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:01:34.863 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:01:34.864 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:01:34.866 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:01:34.870 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56c3ff8d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bb2606d, org.springframework.security.web.context.SecurityContextPersistenceFilter@1cb7890b, org.springframework.security.web.header.HeaderWriterFilter@667d3b18, org.springframework.web.filter.CorsFilter@737dc326, org.springframework.security.web.authentication.logout.LogoutFilter@57055977, com.yxly.security.JwtAuthenticationFilter@47efb262, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17f9e23b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3cd4fe2e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21ac92bc, org.springframework.security.web.session.SessionManagementFilter@54cded14, org.springframework.security.web.access.ExceptionTranslationFilter@79cadd2b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60c794e4]
2025-10-17 17:01:35.451 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:01:35.497 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:01:35.506 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.086 seconds (JVM running for 3.371)
2025-10-17 17:01:41.928 [http-nio-8080-exec-3] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:01:41.929 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:01:41.929 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 17:01:41.939 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:01:41.939 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:01:41.942 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:01:41.942 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:01:41.988 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:01:41.988 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:01:42.079 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:01:42.079 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:01:42.079 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:01:42.079 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:01:42.103 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:01:42.107 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:01:42.107 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:01:42.169 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:01:42.169 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:01:42.175 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:01:42.175 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:01:42.184 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:01:42.184 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:01:42.188 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:01:42.188 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:01:42.196 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:01:42.196 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:01:42.202 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:01:42.202 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:01:42.202 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:01:42.246 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:01:42.246 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:01:42.291 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:01:42.291 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:01:42.292 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:01:42.292 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:01:42.292 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:01:42.292 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:01:42.293 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:01:42.293 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:01:42.295 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:01:42.296 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:01:42.296 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:01:42.296 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:01:42.296 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:01:42.299 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:01:42.299 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:01:42.303 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:01:42.311 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:01:42.313 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:01:42.314 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:01:42.317 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:01:42.321 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:01:42.324 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:01:42.327 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:01:42.329 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:09.618 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-17 17:02:09.619 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:09.624 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:09.628 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-17 17:02:09.628 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-17 17:02:09.649 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-17 17:02:09.651 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:26.417 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 17:02:26.418 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:26.418 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:02:26.418 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 17:02:26.418 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 17:02:26.455 [http-nio-8080-exec-6] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=admin, userType=admin
2025-10-17 17:02:26.458 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: admin, 登录类型: admin
2025-10-17 17:02:26.530 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-17 17:02:26.540 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:02:26.550 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: admin
2025-10-17 17:02:26.552 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:28.367 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:02:28.367 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:28.371 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:28.377 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:02:28.380 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:02:28.382 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:02:28.382 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:02:28.401 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:02:28.402 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:02:28.407 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:02:28.413 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:02:28.423 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:02:28.431 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:02:28.431 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:02:28.433 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:44.360 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/10/cancel?reason=%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%96%E6%B6%88
2025-10-17 17:02:44.360 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:44.364 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:44.367 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/10/cancel?reason=%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%96%E6%B6%88] with attributes [permitAll]
2025-10-17 17:02:44.368 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/10/cancel?reason=%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%96%E6%B6%88
2025-10-17 17:02:44.370 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员取消订单: id=10, reason=管理员取消
2025-10-17 17:02:44.374 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员取消订单: id=10, reason=管理员取消
2025-10-17 17:02:44.380 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:02:44.382 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员取消订单退款成功: userId=5, 退款金额=98.00, 原余额=802.00, 新余额=900.00
2025-10-17 17:02:44.385 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:02:44.415 [http-nio-8080-exec-5] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 退款交易记录创建失败，但退款已成功: orderId=10, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 17:02:44.418 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:02:44.421 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员取消订单成功: orderId=10
2025-10-17 17:02:44.424 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:44.430 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:02:44.430 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:44.432 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:44.437 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:02:44.437 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:02:44.437 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:02:44.438 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:02:44.444 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:02:44.445 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:02:44.450 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:02:44.454 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:02:44.457 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:02:44.460 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:02:44.461 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:02:44.463 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:47.725 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:02:47.725 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:02:47.725 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:47.725 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:47.727 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:47.727 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:47.738 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:02:47.738 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:02:47.740 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:02:47.742 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:02:47.745 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:02:47.745 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:02:47.745 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:02:47.745 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:02:47.750 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:02:47.753 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:47.753 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:50.243 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:02:50.243 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:02:50.243 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:02:50.243 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:50.243 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:50.243 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:50.245 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:50.246 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:50.246 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:50.250 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:02:50.250 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:02:50.251 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:02:50.251 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:02:50.257 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:02:50.258 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:02:50.265 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 900.00
2025-10-17 17:02:50.266 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:50.267 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:02:50.277 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:50.277 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:53.292 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:02:53.292 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:53.295 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:53.298 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:02:53.298 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:02:53.302 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:02:53.307 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:02:53.307 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:02:53.311 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:02:53.314 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:02:53.319 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:02:53.322 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:02:53.323 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:53.351 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:02:53.351 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:02:53.351 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:53.351 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:53.351 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:02:53.352 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:02:53.352 [http-nio-8080-exec-6] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:02:53.352 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:53.352 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:02:53.352 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:02:53.352 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:02:53.352 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:02:53.352 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:02:53.358 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:02:53.361 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:02:53.362 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:02:53.365 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:02:53.373 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:02:53.373 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:02:53.376 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:02:53.380 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:02:53.383 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:02:53.386 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:02:53.387 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:04:49.943 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:04:49.958 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:04:49.959 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 17:04:49.969 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-2020217883] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:04:49.970 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-2020217883] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:04:49.981 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 17:04:49.986 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 17:04:50.054 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30060 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:04:50.054 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:04:50.054 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:04:50.214 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:04:50.214 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:04:50.222 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 17:04:50.312 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:04:50.313 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:04:50.313 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:04:50.333 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:04:50.333 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 277 ms
2025-10-17 17:04:50.364 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:04:50.445 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 17:04:50.510 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:04:50.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:04:50.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:04:50.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:04:50.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:04:50.634 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:04:50.635 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:04:50.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:04:50.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:04:50.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:04:50.636 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:04:50.637 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d0e73c6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12141267, org.springframework.security.web.context.SecurityContextPersistenceFilter@169018a5, org.springframework.security.web.header.HeaderWriterFilter@5124b174, org.springframework.web.filter.CorsFilter@449c98c6, org.springframework.security.web.authentication.logout.LogoutFilter@5d7bc91b, com.yxly.security.JwtAuthenticationFilter@3094a641, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d27d811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@497c61d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2377dcb9, org.springframework.security.web.session.SessionManagementFilter@51da739d, org.springframework.security.web.access.ExceptionTranslationFilter@476d9e38, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a89b0bc]
2025-10-17 17:04:50.805 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:04:50.830 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:04:50.834 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.808 seconds (JVM running for 198.699)
2025-10-17 17:04:50.835 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:05:00.422 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:05:00.435 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:05:00.436 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1220919911] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:05:00.437 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1220919911] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:05:00.440 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 17:05:00.441 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 17:05:00.501 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30060 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:05:00.502 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:05:00.502 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:05:00.634 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:05:00.634 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:05:00.641 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 17:05:00.739 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:05:00.740 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:05:00.740 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:05:00.758 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:05:00.758 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 255 ms
2025-10-17 17:05:00.788 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:05:00.872 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 17:05:00.936 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:05:01.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:05:01.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:05:01.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:05:01.057 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:05:01.057 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:05:01.057 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:05:01.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:05:01.059 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:05:01.059 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:05:01.061 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4daecca3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46249d1, org.springframework.security.web.context.SecurityContextPersistenceFilter@6885ef1c, org.springframework.security.web.header.HeaderWriterFilter@401f9a0a, org.springframework.web.filter.CorsFilter@34d1a785, org.springframework.security.web.authentication.logout.LogoutFilter@437f196b, com.yxly.security.JwtAuthenticationFilter@47473461, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fbe475d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@634d496a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26652e7e, org.springframework.security.web.session.SessionManagementFilter@75e241a2, org.springframework.security.web.access.ExceptionTranslationFilter@c477968, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5568e9c8]
2025-10-17 17:05:01.226 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:05:01.249 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:05:01.253 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.773 seconds (JVM running for 209.118)
2025-10-17 17:05:01.254 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:05:12.959 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:05:12.971 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:05:12.972 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-313980528] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:05:12.973 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-313980528] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:05:12.975 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 17:05:12.977 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 17:05:13.047 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30060 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:05:13.047 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:05:13.047 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:05:13.170 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:05:13.171 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:05:13.176 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 17:05:13.269 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:05:13.270 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:05:13.270 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:05:13.289 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:05:13.290 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 241 ms
2025-10-17 17:05:13.326 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:05:13.420 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 17:05:13.513 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:05:13.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:05:13.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:05:13.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:05:13.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:05:13.696 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:05:13.697 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:05:13.698 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:05:13.698 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:05:13.698 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:05:13.698 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:05:13.700 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5cba8788, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@340ac535, org.springframework.security.web.context.SecurityContextPersistenceFilter@7062ecd4, org.springframework.security.web.header.HeaderWriterFilter@4be707be, org.springframework.web.filter.CorsFilter@71181fbf, org.springframework.security.web.authentication.logout.LogoutFilter@54a02867, com.yxly.security.JwtAuthenticationFilter@609ada, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@351d3d3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46b406d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52a1fc51, org.springframework.security.web.session.SessionManagementFilter@7c91227b, org.springframework.security.web.access.ExceptionTranslationFilter@77565d87, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a23273a]
2025-10-17 17:05:13.924 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:05:13.959 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:05:13.963 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.947 seconds (JVM running for 221.828)
2025-10-17 17:05:13.964 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:05:47.054 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:05:47.054 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:05:47.056 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-17 17:05:47.056 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:05:47.056 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:05:47.059 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:05:47.070 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:05:47.070 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:05:47.073 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:05:47.077 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:05:47.085 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:05:47.089 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:05:47.098 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:05:47.103 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:05:47.107 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:05:47.112 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:05:47.112 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:05:47.123 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:02.968 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:06:02.969 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:02.970 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:06:02.974 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:06:02.975 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:06:02.975 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:06:02.975 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:06:02.982 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:06:02.982 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:06:02.986 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:06:02.990 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:06:02.992 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:06:02.996 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:06:02.996 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:06:02.998 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:13.581 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:06:13.581 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:13.586 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:06:13.591 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:06:13.592 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:06:13.598 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:06:13.606 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:06:13.606 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:06:13.610 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:06:13.613 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:06:13.618 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:06:13.621 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:06:13.622 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:13.645 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:06:13.646 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:13.646 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:06:13.646 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:06:13.647 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:06:13.647 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:13.647 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:06:13.647 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:13.647 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:06:13.647 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:06:13.652 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:13.958 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:06:13.958 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:13.961 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:06:13.964 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:06:13.966 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:06:13.969 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:06:13.976 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:06:13.976 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:06:13.981 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:06:13.984 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:06:13.990 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:06:14.000 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:06:14.002 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:25.118 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:06:25.118 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:25.121 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:06:25.125 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:06:25.125 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:06:25.129 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:06:25.135 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:06:25.135 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:06:25.138 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:06:25.140 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:06:25.144 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:06:25.146 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:06:25.148 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:25.292 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:06:25.293 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:25.294 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:06:25.296 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:06:25.296 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:06:25.300 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:06:25.307 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:06:25.308 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:06:25.312 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:06:25.314 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:06:25.317 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:06:25.321 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:06:25.323 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:25.399 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:06:25.400 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:25.400 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:06:25.400 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:06:25.401 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:06:25.401 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:25.401 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:06:25.402 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:25.402 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:06:25.402 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:06:25.403 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:37.172 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:06:37.172 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:37.175 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:06:37.179 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:06:37.179 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:06:37.182 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:06:37.188 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:06:37.188 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:06:37.193 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:06:37.197 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:06:37.199 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:06:37.202 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:06:37.204 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:37.220 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:06:37.221 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:06:37.221 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:37.221 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:37.221 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:06:37.222 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:06:37.222 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:06:37.222 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:37.222 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:06:37.222 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:06:37.223 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:06:37.223 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:06:37.224 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:06:37.226 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:06:37.229 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:06:37.229 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:06:37.233 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:06:37.241 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:06:37.241 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:06:37.245 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:06:37.249 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:06:37.253 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:06:37.257 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:06:37.258 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:07:15.779 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 17:07:15.782 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 17:07:26.708 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30512 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:07:26.710 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:07:26.710 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:07:26.751 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 17:07:26.751 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 17:07:27.282 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:07:27.285 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:07:27.305 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-17 17:07:27.929 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:07:27.936 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:07:27.937 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:07:28.006 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:07:28.007 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1256 ms
2025-10-17 17:07:28.082 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:07:28.413 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 17:07:28.658 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:07:28.991 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:07:28.992 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:07:28.993 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:07:28.994 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:07:28.994 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:07:28.994 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:07:28.994 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:07:28.994 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:07:28.994 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:07:28.994 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:07:28.996 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:07:28.996 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:07:28.996 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:07:28.996 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:07:28.996 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:07:28.996 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:07:28.997 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:07:28.997 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:07:28.997 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:07:28.997 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:07:29.002 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c6e1b2f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45aac3b8, org.springframework.security.web.context.SecurityContextPersistenceFilter@4ceea1df, org.springframework.security.web.header.HeaderWriterFilter@761f16d1, org.springframework.web.filter.CorsFilter@3f175716, org.springframework.security.web.authentication.logout.LogoutFilter@5a3cf672, com.yxly.security.JwtAuthenticationFilter@72a0c02c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@178d1c71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53989f27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44ed12de, org.springframework.security.web.session.SessionManagementFilter@2294579e, org.springframework.security.web.access.ExceptionTranslationFilter@697179ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56a9be34]
2025-10-17 17:07:29.568 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:07:29.616 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:07:29.625 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.221 seconds (JVM running for 3.52)
2025-10-17 17:07:35.635 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:07:35.636 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:07:35.637 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 17:07:35.645 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:07:35.647 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:07:35.685 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:07:35.685 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:07:35.688 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:07:35.688 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:07:35.783 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:07:35.783 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:07:35.784 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:07:35.784 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:07:35.803 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:07:35.808 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:07:35.808 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:07:35.866 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:07:35.866 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:07:35.870 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:07:35.871 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:07:35.879 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:07:35.879 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:07:35.885 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:07:35.885 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:07:35.893 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:07:35.893 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:07:35.898 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:07:35.898 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:07:35.898 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:07:35.942 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:07:35.942 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:07:35.975 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:07:35.975 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:07:35.975 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:07:35.975 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:07:35.976 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:07:35.977 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:07:35.978 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:07:35.978 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:07:35.979 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:07:35.980 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:07:35.980 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:07:35.980 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:07:35.980 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:07:35.983 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:07:35.983 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:07:35.987 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:07:35.996 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:07:35.997 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:07:35.998 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:07:36.003 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:07:36.006 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:07:36.010 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:07:36.013 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:07:36.015 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:07:37.148 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:07:37.149 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:07:37.151 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:07:37.158 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:07:37.159 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:07:37.161 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:07:37.161 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:07:37.175 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:07:37.175 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:07:37.179 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:07:37.184 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:07:37.191 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:07:37.197 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:07:37.198 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 4 条记录，共 4 条
2025-10-17 17:07:37.199 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:07:53.347 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:07:53.347 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:07:53.347 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:07:53.347 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:07:53.351 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:07:53.351 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:07:53.356 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:07:53.356 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:07:53.357 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:07:53.357 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:07:53.357 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:07:53.359 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:07:53.361 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:07:53.361 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:07:53.373 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:07:53.376 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:07:53.378 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:07:54.882 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 17:07:54.883 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:07:54.886 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:07:54.889 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 17:07:54.889 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 17:07:54.892 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 17:07:54.892 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 17:07:54.895 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:07.786 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 17:08:07.787 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:07.800 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:07.803 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 17:08:07.804 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 17:08:07.869 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 17:08:07.878 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:08:07.884 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 17:08:07.888 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:08:07.895 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:08:07.925 [http-nio-8080-exec-9] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建失败，但订单已创建成功: orderId=11, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 17:08:07.926 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=11, orderNo=YX2025101717080741812, 支付金额=98.00
2025-10-17 17:08:07.929 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:07.967 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:08:07.967 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:07.970 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:07.975 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:08:07.975 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:08:07.979 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:08:07.989 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:08:07.990 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:08:07.994 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:08:07.999 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:08:08.004 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:08:08.006 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:08:08.010 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:08:08.014 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:08.283 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:08:08.285 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:08.287 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:08.291 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:08:08.292 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:08:08.296 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:08:08.304 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:08:08.304 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:08:08.308 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:08:08.313 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:08:08.317 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:08:08.322 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:08:08.327 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:08:08.329 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:08.332 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:08:08.334 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:08.334 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:08:08.335 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:08:08.335 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:08:08.335 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:08.336 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:08:08.336 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:08.336 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:08:08.336 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:08:08.338 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:11.922 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:08:11.922 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:11.924 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:11.929 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:08:11.929 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:08:11.936 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:08:11.938 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:12.147 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:08:12.147 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:08:12.147 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:12.147 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:12.149 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:12.149 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:12.153 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:08:12.153 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:08:12.153 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:08:12.153 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:08:12.159 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:08:12.171 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:12.171 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:14.661 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:08:14.661 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:14.663 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:14.669 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:08:14.669 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:08:14.670 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:08:14.670 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:08:14.678 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:08:14.679 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:08:14.684 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:08:14.689 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:08:14.694 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:08:14.699 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:08:14.704 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:08:14.705 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 5 条记录，共 5 条
2025-10-17 17:08:14.706 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:17.659 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/11/cancel?reason=%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%96%E6%B6%88
2025-10-17 17:08:17.659 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:17.664 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:17.667 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/11/cancel?reason=%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%96%E6%B6%88] with attributes [permitAll]
2025-10-17 17:08:17.667 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/11/cancel?reason=%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%96%E6%B6%88
2025-10-17 17:08:17.669 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 管理员取消订单: id=11, reason=管理员取消
2025-10-17 17:08:17.669 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员取消订单: id=11, reason=管理员取消
2025-10-17 17:08:17.675 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:08:17.677 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员取消订单退款成功: userId=5, 退款金额=98.00, 原余额=802.00, 新余额=900.00
2025-10-17 17:08:17.678 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:08:17.682 [http-nio-8080-exec-7] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 退款交易记录创建失败，但退款已成功: orderId=11, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 17:08:17.686 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:08:17.689 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员取消订单成功: orderId=11, 状态设置为被取消(6)
2025-10-17 17:08:17.692 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:17.701 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:08:17.702 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:17.707 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:17.713 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:08:17.714 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:08:17.714 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:08:17.714 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:08:17.723 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:08:17.724 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:08:17.729 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:08:17.732 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:08:17.738 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:08:17.744 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:08:17.748 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:08:17.748 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 5 条记录，共 5 条
2025-10-17 17:08:17.750 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:27.704 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:08:27.704 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:27.706 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:27.712 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:08:27.712 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:08:27.717 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:08:27.726 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:08:27.726 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:08:27.732 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:08:27.738 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:08:27.743 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:08:27.747 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:08:27.751 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:08:27.754 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:27.772 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:08:27.772 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:08:27.772 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:27.772 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:27.773 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:08:27.774 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:08:27.774 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:08:27.774 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:27.775 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:08:27.775 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:08:27.775 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:08:27.775 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:08:27.777 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:08:27.777 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:08:27.781 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:08:27.781 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:08:27.786 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:08:27.793 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:08:27.795 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:08:27.799 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:08:27.806 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:08:27.811 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:08:27.816 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:08:27.821 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:08:27.823 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:10:15.935 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-17 17:10:15.936 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:10:15.938 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:10:15.951 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-17 17:10:15.951 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-17 17:10:15.961 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-17 17:10:15.961 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-17 17:10:15.966 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:10:16.099 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 17:10:16.099 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:10:16.101 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:10:16.104 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-17 17:10:16.104 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 17:10:16.105 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 17:10:16.105 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 17:10:16.112 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:10:16.972 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:10:16.973 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:10:16.975 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:10:16.977 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:10:16.978 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:10:16.979 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:10:16.980 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:10:16.991 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:10:16.991 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:10:16.995 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:10:16.998 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:10:17.001 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:10:17.003 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:10:17.005 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:10:17.006 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 5 条记录，共 5 条
2025-10-17 17:10:17.007 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:14:05.245 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:14:05.246 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:14:05.248 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:14:05.252 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:14:05.252 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:14:05.253 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:14:05.254 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:14:05.260 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:14:05.261 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:14:05.265 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:14:05.269 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:14:05.273 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:14:05.276 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:14:05.280 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:14:05.280 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 5 条记录，共 5 条
2025-10-17 17:14:05.281 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:14:34.698 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:14:34.716 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:14:34.717 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 17:14:34.728 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-536559013] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:14:34.729 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-536559013] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:14:34.740 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 17:14:34.745 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 17:14:34.807 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30512 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:14:34.807 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:14:34.808 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:14:34.977 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:14:34.977 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:14:34.984 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 17:14:35.091 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:14:35.092 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:14:35.100 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:14:35.120 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:14:35.120 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 311 ms
2025-10-17 17:14:35.149 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:14:35.230 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 17:14:35.303 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:14:35.459 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:14:35.460 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:14:35.460 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:14:35.460 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:14:35.460 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:14:35.460 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:14:35.460 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:14:35.460 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:14:35.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:14:35.464 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@706b0bf8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e8ff834, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a4e2789, org.springframework.security.web.header.HeaderWriterFilter@6b63a149, org.springframework.web.filter.CorsFilter@38d12f5d, org.springframework.security.web.authentication.logout.LogoutFilter@250ee41, com.yxly.security.JwtAuthenticationFilter@391b6cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cc9941, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72531978, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a6e3151, org.springframework.security.web.session.SessionManagementFilter@1434854, org.springframework.security.web.access.ExceptionTranslationFilter@179121a0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@115a74f2]
2025-10-17 17:14:35.656 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:14:35.688 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:14:35.691 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.91 seconds (JVM running for 429.587)
2025-10-17 17:14:35.693 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:14:48.410 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:14:48.423 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:14:48.425 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1456807123] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:14:48.425 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1456807123] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:14:48.429 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 17:14:48.430 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 17:14:48.485 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30512 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:14:48.486 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:14:48.486 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:14:48.607 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:14:48.608 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:14:48.614 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 17:14:48.698 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:14:48.698 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:14:48.699 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:14:48.716 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:14:48.716 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 229 ms
2025-10-17 17:14:48.748 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:14:48.832 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 17:14:48.903 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:14:49.022 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:14:49.022 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:14:49.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:14:49.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:14:49.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:14:49.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:14:49.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:14:49.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:14:49.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:14:49.024 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:14:49.025 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:14:49.027 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1009508a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d273281, org.springframework.security.web.context.SecurityContextPersistenceFilter@d677eaf, org.springframework.security.web.header.HeaderWriterFilter@7dfb5152, org.springframework.web.filter.CorsFilter@1a8920a6, org.springframework.security.web.authentication.logout.LogoutFilter@11c89455, com.yxly.security.JwtAuthenticationFilter@7aeec194, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28eb3826, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f3d9da8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ceca635, org.springframework.security.web.session.SessionManagementFilter@83409bf, org.springframework.security.web.access.ExceptionTranslationFilter@5c9f26db, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1977f694]
2025-10-17 17:14:49.194 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:14:49.215 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:14:49.218 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.755 seconds (JVM running for 443.114)
2025-10-17 17:14:49.219 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:14:56.530 [http-nio-8080-exec-2] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:14:56.530 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:14:56.531 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 17:14:56.532 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:14:56.532 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:14:56.534 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:14:56.546 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:14:56.546 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:14:56.548 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:14:56.551 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:14:56.557 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:14:56.563 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:14:56.570 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:14:56.573 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:14:56.577 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:14:56.579 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:14:56.582 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:14:56.582 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 5 条记录，共 5 条
2025-10-17 17:14:56.588 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:14:59.954 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:14:59.971 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:14:59.972 [Thread-11] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 17:14:59.975 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-853979042] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:14:59.976 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-853979042] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:14:59.980 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 17:14:59.983 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 17:15:00.073 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30512 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:15:00.073 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:15:00.074 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:15:00.308 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:15:00.308 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:15:00.321 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-17 17:15:00.465 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:15:00.466 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:15:00.467 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:15:00.500 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:15:00.500 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 425 ms
2025-10-17 17:15:00.556 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:15:00.682 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 17:15:00.786 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:15:00.968 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:15:00.968 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:15:00.968 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:15:00.968 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:15:00.968 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:15:00.969 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:15:00.969 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:15:00.969 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:15:00.969 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:15:00.969 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:15:00.971 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:15:00.971 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:15:00.971 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:15:00.972 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:15:00.972 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:15:00.972 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:15:00.972 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:15:00.972 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:15:00.973 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:15:00.976 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:15:00.980 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e5e8b41, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20c0e77b, org.springframework.security.web.context.SecurityContextPersistenceFilter@28d255e8, org.springframework.security.web.header.HeaderWriterFilter@37deb380, org.springframework.web.filter.CorsFilter@2c7fba79, org.springframework.security.web.authentication.logout.LogoutFilter@478136aa, com.yxly.security.JwtAuthenticationFilter@1e2a2fe6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@144a4f47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56caacfd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a94463d, org.springframework.security.web.session.SessionManagementFilter@33e3088b, org.springframework.security.web.access.ExceptionTranslationFilter@7e784b8e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d0b7ccf]
2025-10-17 17:15:01.268 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:15:01.323 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:15:01.327 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.289 seconds (JVM running for 455.224)
2025-10-17 17:15:01.329 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:15:08.434 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:15:08.434 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:15:08.435 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 17:15:08.436 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:15:08.436 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:15:08.440 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:15:08.447 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:15:08.447 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:15:08.454 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:15:08.457 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:15:08.465 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:15:08.474 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:15:08.481 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:15:08.486 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:15:08.489 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:15:08.489 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:15:08.492 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:15:08.492 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:15:08.496 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:15:08.497 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:15:08.497 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:15:08.503 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:15:08.503 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 5 条记录，共 5 条
2025-10-17 17:15:08.504 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:15:08.517 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:15:08.517 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:15:08.517 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:15:08.523 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:15:08.529 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:15:08.534 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:15:08.541 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:15:08.546 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:15:08.548 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:15:08.589 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:15:08.589 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:15:08.590 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:15:08.590 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:15:08.590 [http-nio-8080-exec-3] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:15:08.590 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:15:08.591 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:15:08.591 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:15:08.591 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:15:08.592 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:15:08.595 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:15:08.630 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:15:08.630 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:15:08.634 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:15:08.638 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:15:08.638 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:15:08.642 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:15:08.649 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:15:08.649 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:15:08.655 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:15:08.660 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:15:08.665 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:15:08.669 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:15:08.673 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:15:08.675 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:15:18.320 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:15:18.321 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:15:18.324 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:15:18.328 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:15:18.328 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:15:18.329 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:15:18.329 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:15:18.341 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:15:18.343 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:15:18.352 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:15:18.357 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:15:18.360 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:15:18.364 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:15:18.369 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:15:18.369 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 5 条记录，共 5 条
2025-10-17 17:15:18.372 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:15:42.835 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:15:42.835 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:15:42.837 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:15:42.840 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:15:42.841 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:15:42.841 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:15:42.841 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:15:42.848 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 5 条记录
2025-10-17 17:15:42.848 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:15:42.851 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:15:42.855 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:15:42.859 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:15:42.862 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:15:42.864 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:15:42.865 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 5 条记录，共 5 条
2025-10-17 17:15:42.866 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:17:05.906 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 17:17:05.909 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 17:17:15.837 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23428 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:17:15.840 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:17:15.841 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:17:15.879 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 17:17:15.879 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 17:17:16.384 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:17:16.386 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:17:16.405 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 17:17:17.015 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:17:17.024 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:17:17.024 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:17:17.087 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:17:17.087 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1208 ms
2025-10-17 17:17:17.153 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:17:17.476 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 17:17:17.721 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:17:18.053 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:17:18.054 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:17:18.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:17:18.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:17:18.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:17:18.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:17:18.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:17:18.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:17:18.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:17:18.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:17:18.055 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:17:18.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:17:18.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:17:18.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:17:18.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:17:18.056 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:17:18.057 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:17:18.057 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:17:18.057 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:17:18.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:17:18.064 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@264c0d23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e6b72ed, org.springframework.security.web.context.SecurityContextPersistenceFilter@303be796, org.springframework.security.web.header.HeaderWriterFilter@10f98fa, org.springframework.web.filter.CorsFilter@1dbe2ab0, org.springframework.security.web.authentication.logout.LogoutFilter@22273096, com.yxly.security.JwtAuthenticationFilter@3fb945c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74f599f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67c6aab8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@150790d6, org.springframework.security.web.session.SessionManagementFilter@5bb365d4, org.springframework.security.web.access.ExceptionTranslationFilter@6ed21d9f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@468584e3]
2025-10-17 17:17:18.630 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:17:18.674 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:17:18.683 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.148 seconds (JVM running for 3.426)
2025-10-17 17:17:25.392 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:17:25.393 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:17:25.393 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 17:17:25.402 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:17:25.402 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:17:25.405 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:17:25.405 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:17:25.452 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:17:25.452 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:17:25.550 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:17:25.550 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:17:25.550 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:17:25.550 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:17:25.562 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:17:25.570 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:17:25.574 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:17:25.574 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:17:25.634 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:17:25.634 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:17:25.640 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:17:26.543 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 17:17:26.544 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:17:26.547 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:17:26.551 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 17:17:26.552 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 17:17:26.555 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 17:17:26.556 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 17:17:26.560 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:17:52.030 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 17:17:52.031 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:17:52.037 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:17:52.043 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 17:17:52.045 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 17:17:52.116 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 17:17:52.127 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:17:52.134 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=900.00, 新余额=802.00
2025-10-17 17:17:52.139 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:17:52.146 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:17:52.183 [http-nio-8080-exec-8] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建失败，但订单已创建成功: orderId=12, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 17:17:52.185 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=12, orderNo=YX2025101717175280821, 支付金额=98.00
2025-10-17 17:17:52.190 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:17:52.294 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:17:52.295 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:17:52.296 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:17:52.301 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:17:52.301 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:17:52.307 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:17:52.325 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:17:52.332 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:17:52.338 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:17:52.345 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:17:52.350 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:17:52.355 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:17:52.360 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:17:52.364 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:17:52.370 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:17:52.545 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:17:52.546 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:17:52.546 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:17:52.546 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:17:52.547 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:17:52.547 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:17:52.548 [http-nio-8080-exec-6] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:17:52.549 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:17:52.549 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:17:52.551 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:17:52.551 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:17:52.551 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:17:52.551 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:17:52.553 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:17:52.553 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:17:52.558 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:17:52.568 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:17:52.571 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:17:52.571 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:17:52.578 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:17:52.582 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:17:52.586 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:17:52.594 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:17:52.599 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:17:52.604 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:17:52.605 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:25.143 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:18:25.143 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:18:25.143 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:25.143 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:25.146 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:25.147 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:25.152 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:18:25.152 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:18:25.156 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:18:25.156 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:18:25.164 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:18:25.164 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:18:25.165 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:25.176 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:25.446 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:18:25.447 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:25.449 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:25.454 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:18:25.454 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:18:25.472 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:28.621 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:18:28.622 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:28.625 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:28.631 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:18:28.632 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:18:28.641 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:18:28.641 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:18:28.658 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:18:28.658 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:18:28.664 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:18:28.672 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:18:28.683 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:18:28.689 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:18:28.695 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:18:28.709 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:18:28.709 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-17 17:18:28.716 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:32.986 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:18:32.987 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:32.989 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:32.993 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:18:32.993 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:18:32.994 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:18:32.994 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:18:33.004 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:18:33.005 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:18:33.009 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:18:33.014 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:18:33.019 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:18:33.025 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:18:33.030 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:18:33.036 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:18:33.036 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-17 17:18:33.037 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:44.047 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/12/confirm
2025-10-17 17:18:44.048 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:44.050 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:44.053 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/12/confirm] with attributes [permitAll]
2025-10-17 17:18:44.053 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/12/confirm
2025-10-17 17:18:44.055 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 管理员确认订单: id=12
2025-10-17 17:18:44.055 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单: id=12
2025-10-17 17:18:44.061 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:18:44.064 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单成功: orderId=12
2025-10-17 17:18:44.067 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:44.075 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:18:44.075 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:44.077 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:44.081 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:18:44.081 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:18:44.082 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:18:44.082 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:18:44.093 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:18:44.093 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:18:44.100 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:18:44.104 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:18:44.111 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:18:44.116 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:18:44.121 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:18:44.126 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:18:44.126 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-17 17:18:44.128 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:49.331 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:18:49.331 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:49.334 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:49.339 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:18:49.339 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:18:49.343 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:18:49.351 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:18:49.351 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:18:49.357 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:18:49.361 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:18:49.365 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:18:49.371 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:18:49.376 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:18:49.381 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:18:49.382 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:49.644 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:18:49.644 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:49.645 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:49.649 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:18:49.649 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:18:49.653 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:18:49.660 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:18:49.661 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:18:49.667 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:18:49.671 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:18:49.674 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:18:49.680 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:18:49.684 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:18:49.689 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:18:49.690 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:49.707 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:18:49.707 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:49.707 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:18:49.708 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:18:49.708 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:18:49.708 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:49.708 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:18:49.708 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:49.709 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:18:49.709 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:18:49.710 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:52.217 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:18:52.217 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:52.219 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:52.222 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:18:52.223 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:18:52.229 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:18:52.230 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:52.519 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:18:52.519 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:18:52.520 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:52.520 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:52.522 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:52.522 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:52.531 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:18:52.531 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:18:52.532 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:18:52.532 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:18:52.537 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:18:52.548 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:52.548 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:59.352 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:18:59.353 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:59.355 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:59.358 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:18:59.358 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:18:59.362 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:18:59.367 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:18:59.368 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:18:59.372 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:18:59.375 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:18:59.377 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:18:59.381 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:18:59.386 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:18:59.389 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:18:59.391 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:59.409 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:18:59.409 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:59.409 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:18:59.410 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:18:59.410 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:18:59.410 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:59.410 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:18:59.410 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:59.410 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:18:59.411 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:18:59.412 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:18:59.610 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:18:59.610 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:18:59.611 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:18:59.615 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:18:59.616 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:18:59.619 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:18:59.627 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:18:59.627 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:18:59.632 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:18:59.636 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:18:59.641 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:18:59.643 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:18:59.648 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:18:59.652 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:18:59.653 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:19:10.931 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:19:10.931 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:19:10.933 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:19:10.936 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:19:10.936 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:19:10.944 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:19:10.945 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:19:11.247 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:19:11.247 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:19:11.247 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:19:11.247 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:19:11.252 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:19:11.252 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:19:11.254 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:19:11.254 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:19:11.255 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:19:11.255 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:19:11.259 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:19:11.266 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:19:11.266 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:23:20.040 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:23:20.056 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:23:20.057 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 17:23:20.069 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-99668535] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:23:20.069 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-99668535] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:23:20.080 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 17:23:20.084 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 17:23:20.154 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23428 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:23:20.154 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:23:20.154 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:23:20.296 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:23:20.297 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:23:20.303 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 17:23:20.407 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:23:20.408 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:23:20.408 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:23:20.426 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:23:20.426 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 271 ms
2025-10-17 17:23:20.457 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:23:20.548 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 17:23:20.616 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:23:20.744 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:23:20.745 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:23:20.745 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:23:20.745 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:23:20.745 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:23:20.746 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:23:20.747 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:23:20.747 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:23:20.749 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19146469, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41ea177f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ede7013, org.springframework.security.web.header.HeaderWriterFilter@27946982, org.springframework.web.filter.CorsFilter@12a433de, org.springframework.security.web.authentication.logout.LogoutFilter@29bc214c, com.yxly.security.JwtAuthenticationFilter@655acfaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6cf062a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68acdec2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35be57e, org.springframework.security.web.session.SessionManagementFilter@4ae2ddb2, org.springframework.security.web.access.ExceptionTranslationFilter@3036434c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53b84ace]
2025-10-17 17:23:20.962 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:23:20.993 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:23:20.996 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.868 seconds (JVM running for 365.738)
2025-10-17 17:23:20.997 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:24:16.700 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 17:24:16.715 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:24:16.716 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-623616435] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:24:16.717 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-623616435] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:24:16.720 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 17:24:16.722 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 17:24:16.777 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23428 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:24:16.777 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:24:16.777 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:24:16.929 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:24:16.929 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:24:16.936 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 17:24:17.022 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:24:17.023 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:24:17.023 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:24:17.042 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:24:17.042 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 264 ms
2025-10-17 17:24:17.072 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:24:17.151 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 17:24:17.214 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:24:17.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:24:17.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:24:17.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:24:17.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:24:17.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:24:17.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:24:17.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:24:17.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:24:17.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:24:17.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:24:17.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:24:17.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:24:17.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:24:17.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:24:17.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:24:17.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:24:17.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:24:17.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:24:17.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:24:17.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:24:17.341 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2dbeafd4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bda3e5c, org.springframework.security.web.context.SecurityContextPersistenceFilter@d64ff3d, org.springframework.security.web.header.HeaderWriterFilter@186a38e1, org.springframework.web.filter.CorsFilter@1e676688, org.springframework.security.web.authentication.logout.LogoutFilter@20909f1c, com.yxly.security.JwtAuthenticationFilter@67d6861c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59cf087a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@102b8e92, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@905ec83, org.springframework.security.web.session.SessionManagementFilter@14a1c6fb, org.springframework.security.web.access.ExceptionTranslationFilter@70b49962, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32d4b42b]
2025-10-17 17:24:17.500 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:24:17.527 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:24:17.530 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.773 seconds (JVM running for 422.272)
2025-10-17 17:24:17.531 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:24:29.225 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 17:24:29.237 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:24:29.239 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-75157651] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:24:29.239 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-75157651] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:24:29.241 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 17:24:29.244 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 17:24:29.310 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23428 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:24:29.311 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:24:29.311 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:24:29.434 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:24:29.434 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:24:29.440 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 17:24:29.527 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:24:29.527 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:24:29.528 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:24:29.544 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:24:29.545 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 233 ms
2025-10-17 17:24:29.572 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:24:29.653 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 17:24:29.716 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:24:29.828 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:24:29.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:24:29.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:24:29.830 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:24:29.831 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:24:29.831 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:24:29.831 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:24:29.831 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:24:29.831 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:24:29.834 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ec63935, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cf84252, org.springframework.security.web.context.SecurityContextPersistenceFilter@3155e136, org.springframework.security.web.header.HeaderWriterFilter@57d96d51, org.springframework.web.filter.CorsFilter@556eb18, org.springframework.security.web.authentication.logout.LogoutFilter@11167689, com.yxly.security.JwtAuthenticationFilter@6cdc217d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e2fb86a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2280f91b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@726c22b5, org.springframework.security.web.session.SessionManagementFilter@4a4ce6a1, org.springframework.security.web.access.ExceptionTranslationFilter@35a75a4c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1bad8c13]
2025-10-17 17:24:30.003 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:24:30.027 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:24:30.030 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.748 seconds (JVM running for 434.772)
2025-10-17 17:24:30.031 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:24:41.704 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-10-17 17:24:41.718 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:24:41.719 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-396690139] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:24:41.720 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-396690139] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:24:41.722 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 17:24:41.724 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 17:24:41.786 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23428 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:24:41.787 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:24:41.787 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:24:41.900 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:24:41.901 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:24:41.906 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 17:24:41.994 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:24:41.995 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:24:41.995 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:24:42.011 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:24:42.011 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 223 ms
2025-10-17 17:24:42.040 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:24:42.122 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 17:24:42.210 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:24:42.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:24:42.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:24:42.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:24:42.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:24:42.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:24:42.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:24:42.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:24:42.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:24:42.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:24:42.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:24:42.327 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:24:42.329 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32e6f5c9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@710969ca, org.springframework.security.web.context.SecurityContextPersistenceFilter@47774a19, org.springframework.security.web.header.HeaderWriterFilter@705db093, org.springframework.web.filter.CorsFilter@250561de, org.springframework.security.web.authentication.logout.LogoutFilter@db4ac5d, com.yxly.security.JwtAuthenticationFilter@3ada9799, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6beaa982, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@762e4544, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@671a0498, org.springframework.security.web.session.SessionManagementFilter@26941a40, org.springframework.security.web.access.ExceptionTranslationFilter@2920b23f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d3ffc4a]
2025-10-17 17:24:42.476 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:24:42.501 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:24:42.503 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.737 seconds (JVM running for 447.246)
2025-10-17 17:24:42.504 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:25:06.469 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:25:06.470 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:25:06.470 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 17:25:06.471 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:25:06.471 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:25:06.474 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:25:06.481 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:25:06.482 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:25:06.491 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:25:06.494 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:25:06.544 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:25:06.544 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:25:06.546 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:25:06.549 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:25:06.549 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:25:06.555 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:25:06.565 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:25:06.639 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:25:06.639 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:25:06.641 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:25:06.645 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:25:06.645 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:25:06.660 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:25:28.915 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:25:28.916 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:25:28.916 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:25:28.916 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:25:28.916 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:25:28.916 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:25:28.917 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:25:28.918 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:25:28.919 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:25:28.921 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:25:28.921 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:25:28.921 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:25:28.921 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:25:28.921 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:25:28.921 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:25:28.925 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:25:28.928 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:25:28.930 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:25:28.933 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:25:28.933 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:25:29.221 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/financial-records/my?current=1&size=1000
2025-10-17 17:25:29.221 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:25:29.223 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:25:29.226 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/financial-records/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 17:25:29.226 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/financial-records/my?current=1&size=1000
2025-10-17 17:25:29.229 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:25:29.230 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=1000
2025-10-17 17:25:29.230 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:25:29.230 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:25:29.230 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=1000
2025-10-17 17:25:29.232 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:25:42.378 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:25:42.389 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:25:42.390 [Thread-19] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 17:25:42.391 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1310806886] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:25:42.392 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1310806886] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:25:42.395 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 17:25:42.397 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 17:25:42.467 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23428 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:25:42.468 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:25:42.468 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:25:42.614 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:25:42.614 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:25:42.620 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 17:25:42.709 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:25:42.710 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:25:42.710 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:25:42.728 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:25:42.728 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 258 ms
2025-10-17 17:25:42.757 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:25:42.861 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 17:25:42.932 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:25:43.077 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:25:43.078 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:25:43.078 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:25:43.078 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:25:43.078 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:25:43.079 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:25:43.079 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:25:43.079 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:25:43.079 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:25:43.079 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:25:43.079 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:25:43.079 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:25:43.079 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:25:43.079 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:25:43.080 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:25:43.080 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:25:43.080 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:25:43.080 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:25:43.080 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:25:43.080 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:25:43.083 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bf0f878, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d888888, org.springframework.security.web.context.SecurityContextPersistenceFilter@931be72, org.springframework.security.web.header.HeaderWriterFilter@7edbd1cc, org.springframework.web.filter.CorsFilter@15c5aea4, org.springframework.security.web.authentication.logout.LogoutFilter@1b4bfe9a, com.yxly.security.JwtAuthenticationFilter@6e6fcb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@352791be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15d26367, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ea7759a, org.springframework.security.web.session.SessionManagementFilter@703f5d5f, org.springframework.security.web.access.ExceptionTranslationFilter@7309f46e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@100f70c6]
2025-10-17 17:25:43.265 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:25:43.287 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:25:43.291 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.848 seconds (JVM running for 508.033)
2025-10-17 17:25:43.292 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:32:55.431 [http-nio-8080-exec-2] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:32:55.432 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:32:55.432 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 17:32:55.434 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:32:55.434 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:32:55.434 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:32:55.434 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:32:55.436 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:32:55.437 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:32:55.453 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:32:55.453 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:32:55.455 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:32:55.455 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:32:55.463 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:32:55.464 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:32:55.469 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:32:55.469 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:32:55.469 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:32:55.472 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:32:55.475 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:32:55.475 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:32:55.476 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:32:55.489 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:32:55.529 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/financial-records/my?current=1&size=1000
2025-10-17 17:32:55.529 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:32:55.531 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:32:55.534 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/financial-records/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 17:32:55.534 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/financial-records/my?current=1&size=1000
2025-10-17 17:32:55.535 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:32:55.536 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=1000
2025-10-17 17:32:55.536 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:32:55.536 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:32:55.536 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=1000
2025-10-17 17:32:55.538 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:32:59.150 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:32:59.150 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:32:59.151 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:32:59.157 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:32:59.157 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:32:59.161 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:32:59.164 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:32:59.174 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:32:59.180 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:32:59.187 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:32:59.202 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:32:59.209 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:32:59.215 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:32:59.222 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:32:59.229 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:32:59.229 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-17 17:32:59.232 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:03.664 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:34:03.664 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:34:03.664 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:03.664 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:34:03.664 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:03.664 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:03.664 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/financial-records/my?current=1&size=1000
2025-10-17 17:34:03.664 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:03.667 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:03.667 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:03.668 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:03.668 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:03.672 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/financial-records/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 17:34:03.672 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:34:03.672 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:34:03.672 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:34:03.672 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:34:03.672 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/financial-records/my?current=1&size=1000
2025-10-17 17:34:03.672 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:34:03.672 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:34:03.676 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:03.677 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:34:03.677 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=1000
2025-10-17 17:34:03.677 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:03.677 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:34:03.678 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=1000
2025-10-17 17:34:03.680 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:03.681 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:34:03.681 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:03.682 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:34:03.684 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:03.685 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:03.687 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:03.687 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:03.689 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:34:03.689 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:34:03.690 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:34:03.690 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:34:03.697 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:34:03.697 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:34:03.703 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:34:03.707 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:34:03.712 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:34:03.716 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:34:03.719 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:34:03.724 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:34:03.724 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-17 17:34:03.725 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:10.072 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:34:10.072 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:10.076 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:10.080 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:34:10.080 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:34:10.081 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:34:10.081 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:34:10.092 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:34:10.093 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:34:10.096 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:34:10.099 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:34:10.106 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:34:10.114 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:34:10.117 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:34:10.120 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:34:10.120 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-17 17:34:10.124 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:18.946 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:34:18.946 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:34:18.946 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:34:18.946 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:18.946 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/financial-records/my?current=1&size=1000
2025-10-17 17:34:18.946 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:18.946 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:18.947 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:18.949 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:18.950 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:18.950 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:18.950 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:34:18.954 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/financial-records/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 17:34:18.954 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:34:18.955 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/financial-records/my?current=1&size=1000
2025-10-17 17:34:18.955 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:34:18.955 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:34:18.955 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:34:18.955 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:34:18.955 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:34:18.958 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:18.960 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=1000
2025-10-17 17:34:18.960 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:34:18.960 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:34:18.961 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=1000
2025-10-17 17:34:18.962 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:34:18.963 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:18.967 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:34:18.969 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:18.974 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:34:18.975 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:35:29.808 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:35:29.828 [Thread-23] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:35:29.829 [Thread-23] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 17:35:29.830 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1542553342] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:35:29.831 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1542553342] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:35:29.835 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-17 17:35:29.841 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-17 17:35:29.987 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23428 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:35:29.990 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:35:29.991 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:35:30.295 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:35:30.295 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:35:30.306 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 17:35:30.475 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:35:30.476 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:35:30.476 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:35:30.510 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:35:30.511 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 512 ms
2025-10-17 17:35:30.569 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:35:30.698 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} inited
2025-10-17 17:35:30.817 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:35:31.029 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:35:31.029 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:35:31.029 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:35:31.030 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:35:31.030 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:35:31.030 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:35:31.031 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:35:31.031 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:35:31.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:35:31.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:35:31.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:35:31.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:35:31.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:35:31.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:35:31.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:35:31.032 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:35:31.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:35:31.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:35:31.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:35:31.033 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:35:31.037 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d983c44, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4316e5c1, org.springframework.security.web.context.SecurityContextPersistenceFilter@329e385e, org.springframework.security.web.header.HeaderWriterFilter@4c71f598, org.springframework.web.filter.CorsFilter@7cc52594, org.springframework.security.web.authentication.logout.LogoutFilter@1fbbf9b8, com.yxly.security.JwtAuthenticationFilter@7287c95d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1873828f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b6d792c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b8995e9, org.springframework.security.web.session.SessionManagementFilter@59dbd2b1, org.springframework.security.web.access.ExceptionTranslationFilter@4bdc3379, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6cbf6c81]
2025-10-17 17:35:31.384 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:35:31.426 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:35:31.431 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.525 seconds (JVM running for 1096.174)
2025-10-17 17:35:31.432 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:35:38.164 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:35:38.164 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:35:38.165 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 17:35:38.166 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:35:38.166 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:35:38.169 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:35:38.180 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:35:38.181 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:35:38.191 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:35:38.198 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:35:38.250 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:35:38.251 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:35:38.253 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:35:38.258 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:35:38.259 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:35:38.267 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:35:38.279 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:35:38.308 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:35:38.308 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:35:38.308 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:35:38.308 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:35:38.311 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:35:38.311 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:35:38.315 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:35:38.315 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 17:35:38.316 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:35:38.316 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:35:38.319 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:35:38.319 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=1000
2025-10-17 17:35:38.319 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:35:38.320 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:35:38.320 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=1000
2025-10-17 17:35:38.324 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:35:38.336 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:35:50.681 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:35:50.695 [Thread-27] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:35:50.695 [Thread-27] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 17:35:50.698 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1674424294] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:35:50.698 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1674424294] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:35:50.701 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closing ...
2025-10-17 17:35:50.703 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closed
2025-10-17 17:35:50.775 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23428 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:35:50.775 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:35:50.775 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:35:50.902 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:35:50.902 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:35:50.908 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 17:35:50.994 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:35:50.994 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:35:50.995 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:35:51.011 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:35:51.012 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 235 ms
2025-10-17 17:35:51.039 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:35:51.111 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} inited
2025-10-17 17:35:51.185 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:35:51.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:35:51.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:35:51.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:35:51.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:35:51.337 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:35:51.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:35:51.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:35:51.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:35:51.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:35:51.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:35:51.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:35:51.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:35:51.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:35:51.338 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:35:51.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:35:51.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:35:51.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:35:51.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:35:51.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:35:51.339 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:35:51.342 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@453cc4df, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@731654e1, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a5ce1b2, org.springframework.security.web.header.HeaderWriterFilter@6d632c, org.springframework.web.filter.CorsFilter@1e90fb2b, org.springframework.security.web.authentication.logout.LogoutFilter@45a5feba, com.yxly.security.JwtAuthenticationFilter@76ef614d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3efd5b52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55e22ba2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7998a4b5, org.springframework.security.web.session.SessionManagementFilter@78d6aa18, org.springframework.security.web.access.ExceptionTranslationFilter@20a49023, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45b45b6f]
2025-10-17 17:35:51.514 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:35:51.560 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:35:51.563 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.813 seconds (JVM running for 1116.306)
2025-10-17 17:35:51.565 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:37:11.467 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:37:11.467 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:37:11.468 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 17:37:11.469 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:37:11.469 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:37:11.469 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:37:11.469 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:37:11.471 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:37:11.471 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:37:11.479 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:37:11.479 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:37:11.479 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:37:11.479 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:37:11.500 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:37:11.500 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:37:11.505 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:37:11.509 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:37:11.510 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:37:11.517 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:37:11.521 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:37:11.526 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:37:11.526 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:37:11.545 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:37:11.569 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:37:11.570 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:37:11.573 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:37:11.576 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [authenticated]
2025-10-17 17:37:11.576 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:37:11.578 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:37:11.578 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error?current=1&size=1000
2025-10-17 17:37:11.578 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:37:11.579 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:37:11.579 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error?current=1&size=1000
2025-10-17 17:37:11.580 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:37:33.181 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closing ...
2025-10-17 17:37:33.184 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closed
2025-10-17 17:43:29.912 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 17484 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:43:29.914 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:43:29.914 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:43:29.954 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 17:43:29.955 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 17:43:30.473 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:43:30.474 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:43:30.496 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-17 17:43:31.161 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:43:31.171 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:43:31.172 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:43:31.237 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:43:31.237 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1282 ms
2025-10-17 17:43:31.312 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:43:31.718 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 17:43:31.989 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:43:32.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:43:32.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:43:32.327 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:43:32.327 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:43:32.327 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:43:32.328 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:43:32.328 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:43:32.328 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:43:32.328 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:43:32.329 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:43:32.329 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:43:32.329 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:43:32.329 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:43:32.329 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:43:32.329 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:43:32.330 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:43:32.330 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:43:32.330 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:43:32.330 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:43:32.331 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 17:43:32.331 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:43:32.336 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c498721, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49a536e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@52af80e, org.springframework.security.web.header.HeaderWriterFilter@178d1c71, org.springframework.web.filter.CorsFilter@74b91306, org.springframework.security.web.authentication.logout.LogoutFilter@4f6088fa, com.yxly.security.JwtAuthenticationFilter@5600c672, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54827c9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70f04680, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@400aaca6, org.springframework.security.web.session.SessionManagementFilter@57a22bc2, org.springframework.security.web.access.ExceptionTranslationFilter@4ceea1df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@271d257e]
2025-10-17 17:43:32.912 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:43:32.961 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:43:32.970 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.369 seconds (JVM running for 3.665)
2025-10-17 17:44:34.507 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:44:34.508 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:44:34.509 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 17:44:34.516 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:44:34.519 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:44:34.564 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:44:34.660 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:44:34.660 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:44:34.681 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:44:34.686 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:44:34.745 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-17 17:44:34.750 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:44:34.757 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:44:34.763 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:44:34.767 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:44:34.774 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:44:34.781 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:44:34.788 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:44:34.788 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-17 17:44:34.838 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:44:41.518 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:44:41.518 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:44:41.519 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:44:41.519 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:44:41.519 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:44:41.519 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:44:41.519 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:44:41.519 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:44:41.523 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:44:41.523 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:44:41.523 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:44:41.524 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:44:41.534 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:44:41.534 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:44:41.534 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:44:41.534 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:44:41.535 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:44:41.535 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:44:41.535 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:44:41.535 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:44:41.543 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:44:41.543 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:44:41.546 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:44:41.549 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:44:41.552 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:44:41.569 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:44:41.569 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:44:41.610 [http-nio-8080-exec-5] ERROR [com.yxly.controller.user.FinancialRecordController] - 获取财务记录失败
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT COUNT(*) AS total FROM financial_record WHERE deleted = 0 AND (operator_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:164)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy113.selectList(Unknown Source)
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectPage(BaseMapper.java:348)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy3/jdk.proxy3.$Proxy113.selectPage(Unknown Source)
	at com.yxly.service.impl.FinancialRecordServiceImpl.getUserFinancialRecords(FinancialRecordServiceImpl.java:41)
	at com.yxly.controller.user.FinancialRecordController.getMyFinancialRecords(FinancialRecordController.java:39)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor.willDoQuery(PaginationInnerInterceptor.java:135)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:75)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 114 common frames omitted
2025-10-17 17:44:41.614 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:45:15.776 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 17:45:15.792 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:45:15.793 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 17:45:15.803 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-542129057] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 17:45:15.803 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-542129057] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 17:45:15.824 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 17:45:15.830 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 17:45:15.891 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 17484 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:45:15.891 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:45:15.891 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:45:16.028 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:45:16.029 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:45:16.035 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 17:45:16.126 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:45:16.127 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:45:16.127 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:45:16.145 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:45:16.145 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 252 ms
2025-10-17 17:45:16.179 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:45:16.260 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 17:45:16.329 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:45:16.453 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:45:16.454 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:45:16.454 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:45:16.454 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:45:16.454 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:45:16.455 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:45:16.455 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:45:16.455 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:45:16.455 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:45:16.455 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:45:16.455 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:45:16.455 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:45:16.455 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:45:16.456 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:45:16.456 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:45:16.456 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:45:16.457 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:45:16.458 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:45:16.458 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:45:16.458 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 17:45:16.458 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:45:16.460 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1fd85906, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c26df01, org.springframework.security.web.context.SecurityContextPersistenceFilter@2cc3d03, org.springframework.security.web.header.HeaderWriterFilter@60d5c0a6, org.springframework.web.filter.CorsFilter@129fe25c, org.springframework.security.web.authentication.logout.LogoutFilter@56a660ab, com.yxly.security.JwtAuthenticationFilter@64d88ad3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6063480e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e7d6454, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74a1db63, org.springframework.security.web.session.SessionManagementFilter@6dcec92b, org.springframework.security.web.access.ExceptionTranslationFilter@140ec87c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62008b1f]
2025-10-17 17:45:16.661 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:45:16.697 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:45:16.701 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.834 seconds (JVM running for 107.396)
2025-10-17 17:45:16.703 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 17:45:50.794 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:45:50.795 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:45:50.795 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 17:45:50.796 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:45:50.797 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:45:50.797 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:45:50.797 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:45:50.799 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:45:50.799 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:45:50.805 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:45:50.805 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:45:50.805 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:45:50.805 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:45:50.813 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:45:50.813 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:45:50.818 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:45:50.828 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:45:50.942 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:45:50.943 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:45:50.944 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:45:50.949 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:45:50.949 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:45:50.969 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:45:50.989 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:45:50.990 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:45:50.992 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:45:50.994 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:45:50.994 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:45:50.998 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:45:50.998 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:45:51.007 [http-nio-8080-exec-4] ERROR [com.yxly.controller.user.FinancialRecordController] - 获取财务记录失败
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT COUNT(*) AS total FROM financial_record WHERE deleted = 0 AND (operator_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:164) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy5/jdk.proxy5.$Proxy146.selectList(Unknown Source) ~[na:na]
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectPage(BaseMapper.java:348) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732) ~[na:na]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy5/jdk.proxy5.$Proxy146.selectPage(Unknown Source) ~[na:na]
	at com.yxly.service.impl.FinancialRecordServiceImpl.getUserFinancialRecords(FinancialRecordServiceImpl.java:41) ~[classes/:na]
	at com.yxly.controller.user.FinancialRecordController.getMyFinancialRecords(FinancialRecordController.java:39) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor.willDoQuery(PaginationInnerInterceptor.java:135) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:75) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor44.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 114 common frames omitted
2025-10-17 17:45:51.011 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:46:01.034 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:46:01.035 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:46:01.037 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:46:01.037 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:46:01.037 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:46:01.037 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:46:01.037 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:46:01.037 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:46:01.038 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:46:01.041 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:46:01.041 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:46:01.041 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:46:01.043 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:46:01.043 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:46:01.045 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:46:01.045 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:46:01.046 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:46:01.046 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:46:01.047 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:46:01.047 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:46:01.054 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:46:01.057 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:46:01.057 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:46:01.057 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:46:01.059 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:46:01.066 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:46:01.066 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:46:01.065 [http-nio-8080-exec-8] ERROR [com.yxly.controller.user.FinancialRecordController] - 获取财务记录失败
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT COUNT(*) AS total FROM financial_record WHERE deleted = 0 AND (operator_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:164) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy5/jdk.proxy5.$Proxy146.selectList(Unknown Source) ~[na:na]
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectPage(BaseMapper.java:348) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732) ~[na:na]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy5/jdk.proxy5.$Proxy146.selectPage(Unknown Source) ~[na:na]
	at com.yxly.service.impl.FinancialRecordServiceImpl.getUserFinancialRecords(FinancialRecordServiceImpl.java:41) ~[classes/:na]
	at com.yxly.controller.user.FinancialRecordController.getMyFinancialRecords(FinancialRecordController.java:39) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor.willDoQuery(PaginationInnerInterceptor.java:135) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:75) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor44.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 114 common frames omitted
2025-10-17 17:46:01.068 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:46:20.852 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:46:20.852 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:46:20.853 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:46:20.853 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:46:20.855 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:46:20.856 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:46:20.860 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:46:20.860 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:46:20.860 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:46:20.860 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:46:20.866 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:46:20.869 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:46:20.871 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:46:20.876 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:46:20.992 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:46:20.992 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:46:20.994 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:46:20.999 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:46:20.999 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:46:21.012 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:46:21.054 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:46:21.054 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:46:21.056 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:46:21.059 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:46:21.059 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:46:21.063 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:46:21.063 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:46:21.070 [http-nio-8080-exec-6] ERROR [com.yxly.controller.user.FinancialRecordController] - 获取财务记录失败
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT COUNT(*) AS total FROM financial_record WHERE deleted = 0 AND (operator_id = ?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73) ~[spring-jdbc-5.3.31.jar:5.3.31]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at jdk.proxy2/jdk.proxy2.$Proxy95.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224) ~[mybatis-spring-2.1.2.jar:2.1.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.executeForMany(MybatisMapperMethod.java:164) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:77) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy5/jdk.proxy5.$Proxy146.selectList(Unknown Source) ~[na:na]
	at com.baomidou.mybatisplus.core.mapper.BaseMapper.selectPage(BaseMapper.java:348) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:732) ~[na:na]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$DefaultMethodInvoker.invoke(MybatisMapperProxy.java:166) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.5.5.jar:3.5.5]
	at jdk.proxy5/jdk.proxy5.$Proxy146.selectPage(Unknown Source) ~[na:na]
	at com.yxly.service.impl.FinancialRecordServiceImpl.getUserFinancialRecords(FinancialRecordServiceImpl.java:41) ~[classes/:na]
	at com.yxly.controller.user.FinancialRecordController.getMyFinancialRecords(FinancialRecordController.java:39) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114) ~[druid-1.2.20.jar:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.11.jar:5.7.11]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'deleted' in 'where clause'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483) ~[druid-1.2.20.jar:na]
	at jdk.internal.reflect.GeneratedMethodAccessor21.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.15.jar:3.5.15]
	at com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor.willDoQuery(PaginationInnerInterceptor.java:135) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:75) ~[mybatis-plus-extension-3.5.5.jar:3.5.5]
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.proxy2/jdk.proxy2.$Proxy131.query(Unknown Source) ~[na:na]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.15.jar:3.5.15]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.15.jar:3.5.15]
	at jdk.internal.reflect.GeneratedMethodAccessor44.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-2.1.2.jar:2.1.2]
	... 114 common frames omitted
2025-10-17 17:46:21.073 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:47:23.770 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 17:47:23.774 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 17:47:46.851 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 29304 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:47:46.853 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:47:46.853 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:47:46.894 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 17:47:46.894 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 17:47:47.426 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:47:47.428 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:47:47.449 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 17:47:48.086 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:47:48.094 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:47:48.094 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:47:48.167 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:47:48.168 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1274 ms
2025-10-17 17:47:48.237 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:47:48.580 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 17:47:48.871 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:47:49.241 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:47:49.242 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:47:49.242 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:47:49.242 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:47:49.242 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:47:49.242 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:47:49.243 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:47:49.243 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:47:49.243 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:47:49.243 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:47:49.243 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:47:49.244 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:47:49.244 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:47:49.244 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:47:49.244 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:47:49.244 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:47:49.245 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:47:49.245 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:47:49.245 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:47:49.245 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 17:47:49.245 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:47:49.251 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7c58ccf3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@646d6c0c, org.springframework.security.web.context.SecurityContextPersistenceFilter@6bfec618, org.springframework.security.web.header.HeaderWriterFilter@676b8270, org.springframework.web.filter.CorsFilter@2d3be3de, org.springframework.security.web.authentication.logout.LogoutFilter@5606c8c6, com.yxly.security.JwtAuthenticationFilter@63036e91, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d81a9d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79ebfcc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7107b548, org.springframework.security.web.session.SessionManagementFilter@305cdaf9, org.springframework.security.web.access.ExceptionTranslationFilter@55974308, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@588c0e28]
2025-10-17 17:47:49.845 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:47:49.894 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:47:49.903 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.362 seconds (JVM running for 3.659)
2025-10-17 17:47:55.331 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:47:55.332 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:47:55.332 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 17:47:55.342 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:47:55.342 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:47:55.342 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:47:55.342 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:47:55.344 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:47:55.344 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:47:55.344 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:47:55.344 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:47:55.389 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:47:55.389 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:47:55.389 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:47:55.389 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:47:55.482 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:47:55.482 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:47:55.482 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:47:55.482 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:47:55.482 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:47:55.482 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:47:55.482 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:47:55.482 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:47:55.506 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:47:55.506 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:47:55.506 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:47:55.511 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:47:55.554 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:47:55.561 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:47:55.565 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:47:55.572 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:47:55.572 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:00.157 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:48:00.157 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:48:00.157 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:00.157 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:00.160 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:00.160 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:00.168 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:48:00.169 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:48:00.172 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:48:00.172 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:48:00.173 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:48:00.173 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:48:00.175 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:48:00.175 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:48:00.189 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:48:00.192 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:00.192 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:04.196 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:48:04.196 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:48:04.196 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:48:04.197 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:48:04.197 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:04.197 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:04.197 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:04.197 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:04.199 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:04.200 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:04.200 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:04.201 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:04.209 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:48:04.209 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:48:04.209 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:48:04.210 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:48:04.210 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:48:04.210 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:48:04.214 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:48:04.214 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:48:04.218 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:48:04.219 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:48:04.219 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:48:04.223 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 802.00
2025-10-17 17:48:04.224 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:48:04.225 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:04.225 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:04.229 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:04.230 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:21.132 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:48:21.133 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:21.134 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:21.142 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:48:21.142 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:48:21.143 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:48:21.143 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:48:21.150 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:21.434 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:48:21.435 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:21.437 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:21.441 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:48:21.441 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:48:21.442 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:48:21.442 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:48:21.450 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:48:21.452 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:22.749 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 17:48:22.750 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:22.752 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:22.755 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 17:48:22.755 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 17:48:22.757 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 17:48:22.757 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 17:48:22.761 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:47.173 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 17:48:47.174 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:47.179 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:47.184 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 17:48:47.184 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 17:48:47.248 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 17:48:47.257 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:48:47.263 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=802.00, 新余额=704.00
2025-10-17 17:48:47.268 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:48:47.276 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:48:47.306 [http-nio-8080-exec-4] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建失败，但订单已创建成功: orderId=13, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 17:48:47.307 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=13, orderNo=YX2025101717484734680, 支付金额=98.00
2025-10-17 17:48:47.312 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:47.428 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:48:47.429 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:47.431 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:47.437 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:48:47.438 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:48:47.442 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:48:47.451 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:48:47.454 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:48:47.458 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:48:47.463 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:48:47.465 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:48:47.470 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:48:47.474 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:48:47.478 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:48:47.482 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:48:47.484 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:47.517 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:48:47.517 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:47.517 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:48:47.517 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:48:47.517 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:47.518 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:48:47.518 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:48:47.519 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:47.520 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:47.521 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:48:47.521 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:47.522 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:48:47.523 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:48:47.525 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:48:47.525 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:48:47.529 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:48:47.535 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:47.537 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:48:47.537 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:48:47.542 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:48:47.545 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:48:47.549 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:48:47.552 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:48:47.555 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:48:47.557 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:48:47.560 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:48:47.562 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:51.148 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:48:51.148 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:48:51.148 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:51.148 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:51.150 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:51.150 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:51.153 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:48:51.153 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:48:51.153 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:48:51.153 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:48:51.162 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:48:51.164 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 704.00
2025-10-17 17:48:51.166 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:51.172 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:51.455 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:48:51.455 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:48:51.457 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:51.457 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:51.459 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:51.459 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:51.463 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:48:51.464 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:48:51.464 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:48:51.464 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:48:51.469 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:48:51.470 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:48:51.473 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:48:51.474 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:51.478 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:53.490 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:48:53.490 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:53.493 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:53.496 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:48:53.496 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:48:53.499 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:48:53.507 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:48:53.507 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:48:53.516 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:48:53.519 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:48:53.522 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:48:53.525 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:48:53.529 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:48:53.532 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:48:53.535 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:48:53.538 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:53.798 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:48:53.798 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:53.800 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:53.803 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:48:53.803 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:48:53.806 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:48:53.814 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:48:53.814 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:48:53.817 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:48:53.821 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:48:53.825 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:48:53.829 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:48:53.833 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:48:53.836 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:48:53.840 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:48:53.841 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:53.856 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:48:53.856 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:53.857 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:48:53.857 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:48:53.857 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:48:53.857 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:53.857 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:48:53.857 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:53.857 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:48:53.857 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:48:53.859 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:48:56.954 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:48:56.954 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:48:56.957 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:48:56.961 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:48:56.961 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:48:56.968 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:48:56.968 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:48:56.980 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:48:56.980 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:48:56.985 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:48:56.988 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:48:56.992 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:48:56.996 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:48:56.999 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:48:57.003 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:48:57.006 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:48:57.006 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 7 条记录，共 7 条
2025-10-17 17:48:57.009 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:01.637 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/13/confirm
2025-10-17 17:49:01.637 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:01.640 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:01.643 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/13/confirm] with attributes [permitAll]
2025-10-17 17:49:01.644 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/13/confirm
2025-10-17 17:49:01.644 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员确认订单: id=13
2025-10-17 17:49:01.645 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单: id=13
2025-10-17 17:49:01.650 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:49:01.656 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:49:01.659 [http-nio-8080-exec-5] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 创建消费交易记录失败，但订单确认成功: orderId=13, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 17:49:01.659 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单成功: orderId=13
2025-10-17 17:49:01.662 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:01.669 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:49:01.669 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:01.671 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:01.675 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:49:01.675 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:49:01.676 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:49:01.676 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:49:01.682 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:49:01.682 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:49:01.687 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:49:01.692 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:49:01.696 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:49:01.700 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:49:01.704 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:49:01.707 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:49:01.710 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:49:01.710 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 7 条记录，共 7 条
2025-10-17 17:49:01.712 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:11.437 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:49:11.437 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:49:11.437 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:49:11.437 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:11.437 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:11.437 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:11.439 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:11.440 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:11.440 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:11.445 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:49:11.445 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:49:11.445 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:49:11.445 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:49:11.452 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 704.00
2025-10-17 17:49:11.452 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:49:11.452 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:49:11.453 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:11.457 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:49:11.459 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:11.471 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:11.743 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:49:11.743 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:11.744 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:11.748 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:49:11.748 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:49:11.752 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:49:11.752 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:49:11.756 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:49:11.756 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:16.263 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:49:16.263 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:16.270 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:16.275 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:49:16.275 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:49:16.281 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:49:16.287 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:49:16.288 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:49:16.291 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:49:16.295 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:49:16.297 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:49:16.300 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:49:16.303 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:49:16.306 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:49:16.308 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:49:16.310 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:16.571 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:49:16.572 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:16.573 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:16.576 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:49:16.576 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:49:16.579 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:49:16.585 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:49:16.586 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:49:16.588 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:49:16.591 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:49:16.593 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:49:16.596 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:49:16.599 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:49:16.601 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:49:16.604 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:49:16.606 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:16.632 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:49:16.632 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:16.632 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:49:16.632 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:49:16.632 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:49:16.632 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:16.632 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:49:16.632 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:16.632 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:49:16.634 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:49:16.635 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:18.285 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:49:18.286 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:18.287 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:18.290 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:49:18.292 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:49:18.299 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 704.00
2025-10-17 17:49:18.300 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:18.590 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:49:18.590 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:49:18.590 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:49:18.590 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:18.590 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:18.590 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:18.592 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:18.592 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:18.592 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:18.596 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:49:18.596 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:49:18.596 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:49:18.596 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:49:18.596 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:49:18.596 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:49:18.601 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:49:18.601 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:49:18.601 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:49:18.604 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:49:18.605 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:18.608 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:18.608 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:23.934 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:49:23.934 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:23.936 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:23.939 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:49:23.939 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:49:23.943 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:49:23.951 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:49:23.951 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:49:23.954 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:49:23.956 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:49:23.959 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:49:23.962 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:49:23.965 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:49:23.968 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:49:23.971 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:49:23.972 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:24.249 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:49:24.250 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:24.251 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:24.254 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:49:24.254 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:49:24.258 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:49:24.264 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:49:24.264 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:49:24.268 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:49:24.271 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:49:24.275 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:49:24.277 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:49:24.282 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:49:24.284 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:49:24.287 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:49:24.288 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:24.292 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:49:24.292 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:24.292 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:49:24.292 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:49:24.292 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:49:24.293 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:24.293 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:49:24.293 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:24.294 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:49:24.294 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:49:24.294 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:35.464 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:49:35.464 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:35.465 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:35.469 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:49:35.470 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:49:35.475 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 704.00
2025-10-17 17:49:35.476 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:35.770 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:49:35.770 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:49:35.770 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:35.770 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:49:35.770 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:35.770 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:49:35.772 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:35.772 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:35.772 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:49:35.775 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:49:35.775 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:49:35.775 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:49:35.775 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:49:35.775 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:49:35.775 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:49:35.779 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:49:35.779 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:49:35.780 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:49:35.783 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:49:35.784 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:35.786 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:49:35.788 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:50:15.541 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:50:15.541 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:50:15.542 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:50:15.542 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:50:15.543 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:50:15.543 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:50:15.548 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:50:15.548 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:50:15.549 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:50:15.549 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:50:15.549 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:50:15.549 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:50:15.549 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:50:15.549 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:50:15.556 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:50:15.558 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:50:15.559 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:50:17.643 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/400/300
2025-10-17 17:50:17.646 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:50:17.646 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:50:17.647 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/400/300] with attributes [authenticated]
2025-10-17 17:50:17.647 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:50:17.647 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:50:17.649 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:50:17.649 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:50:17.649 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:50:17.650 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:50:17.652 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:50:21.071 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:50:21.072 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:50:21.076 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:50:21.082 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:50:21.082 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:50:21.086 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:50:21.093 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:50:21.093 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:50:21.097 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:50:21.102 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:50:21.106 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:50:21.108 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:50:21.111 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:50:21.114 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:50:21.117 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:50:21.119 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:50:21.381 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:50:21.381 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:50:21.382 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:50:21.384 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:50:21.384 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:50:21.387 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:50:21.391 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:50:21.392 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:50:21.394 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:50:21.398 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:50:21.400 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:50:21.403 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:50:21.405 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:50:21.409 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:50:21.410 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:50:21.411 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:50:21.436 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:50:21.437 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:50:21.437 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:50:21.437 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:50:21.437 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:50:21.437 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:50:21.437 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:50:21.437 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:50:21.438 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:50:21.438 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:50:21.439 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:51:08.292 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 12672 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:51:08.293 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:51:08.293 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:51:08.337 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 17:51:08.337 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 17:51:08.936 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:51:08.938 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:51:08.959 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 17:51:09.662 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:51:09.670 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:51:09.670 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:51:09.750 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:51:09.751 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1414 ms
2025-10-17 17:51:09.830 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:51:10.200 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 17:51:10.462 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:51:10.831 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:51:10.832 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:51:10.833 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:51:10.833 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:51:10.833 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:51:10.833 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:51:10.833 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:51:10.833 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:51:10.833 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:51:10.834 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:51:10.834 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:51:10.834 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:51:10.834 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:51:10.834 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:51:10.834 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:51:10.834 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:51:10.834 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:51:10.834 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:51:10.835 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:51:10.835 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 17:51:10.836 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:51:10.842 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@408631c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b2a317d, org.springframework.security.web.context.SecurityContextPersistenceFilter@30728cc0, org.springframework.security.web.header.HeaderWriterFilter@5159cfc4, org.springframework.web.filter.CorsFilter@4e9dfa14, org.springframework.security.web.authentication.logout.LogoutFilter@7a990f79, com.yxly.security.JwtAuthenticationFilter@176015f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72061961, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b2f2e84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a961420, org.springframework.security.web.session.SessionManagementFilter@4cc7bc3, org.springframework.security.web.access.ExceptionTranslationFilter@595ac968, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e861e33]
2025-10-17 17:51:11.468 [restartedMain] WARN  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - Unable to start LiveReload server
2025-10-17 17:51:11.506 [restartedMain] WARN  [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2025-10-17 17:51:11.515 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 17:51:11.521 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 17:51:11.523 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:51:11.540 [restartedMain] INFO  [o.s.b.a.l.ConditionEvaluationReportLoggingListener] - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-17 17:51:11.555 [restartedMain] ERROR [o.s.b.diagnostics.LoggingFailureAnalysisReporter] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-10-17 17:52:30.130 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 28728 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:52:30.132 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:52:30.133 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:52:30.185 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 17:52:30.186 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 17:52:30.806 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:52:30.808 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:52:30.829 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-17 17:52:31.527 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:52:31.537 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:52:31.538 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:52:31.644 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:52:31.645 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1458 ms
2025-10-17 17:52:31.735 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:52:32.130 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 17:52:32.430 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:52:32.836 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:52:32.838 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:52:32.838 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:52:32.838 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:52:32.838 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:52:32.838 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:52:32.838 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:52:32.838 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:52:32.838 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:52:32.839 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:52:32.839 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:52:32.839 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:52:32.839 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:52:32.839 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:52:32.839 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:52:32.839 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:52:32.840 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:52:32.840 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:52:32.840 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:52:32.840 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 17:52:32.840 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:52:32.846 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a47a095, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ab42ad0, org.springframework.security.web.context.SecurityContextPersistenceFilter@2bf353dd, org.springframework.security.web.header.HeaderWriterFilter@5eff9e2a, org.springframework.web.filter.CorsFilter@66c93470, org.springframework.security.web.authentication.logout.LogoutFilter@6dfbdd5b, com.yxly.security.JwtAuthenticationFilter@d8c2a22, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f2b966f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@995b4d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e788727, org.springframework.security.web.session.SessionManagementFilter@27346489, org.springframework.security.web.access.ExceptionTranslationFilter@248efb76, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b89dc52]
2025-10-17 17:52:33.472 [restartedMain] WARN  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - Unable to start LiveReload server
2025-10-17 17:52:33.511 [restartedMain] WARN  [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2025-10-17 17:52:33.520 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 17:52:33.526 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 17:52:33.528 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 17:52:33.544 [restartedMain] INFO  [o.s.b.a.l.ConditionEvaluationReportLoggingListener] - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-17 17:52:33.559 [restartedMain] ERROR [o.s.b.diagnostics.LoggingFailureAnalysisReporter] - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-10-17 17:52:58.852 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7556 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 17:52:58.855 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 17:52:58.855 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 17:52:58.897 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 17:52:58.898 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 17:52:59.583 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 17:52:59.585 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 17:52:59.606 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 17:53:00.290 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 17:53:00.298 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 17:53:00.298 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 17:53:00.368 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 17:53:00.368 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1470 ms
2025-10-17 17:53:00.446 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 17:53:00.808 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 17:53:01.095 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 17:53:01.457 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 17:53:01.458 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 17:53:01.458 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 17:53:01.459 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 17:53:01.459 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 17:53:01.459 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 17:53:01.459 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 17:53:01.459 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 17:53:01.460 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 17:53:01.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 17:53:01.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 17:53:01.461 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 17:53:01.462 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 17:53:01.462 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 17:53:01.462 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 17:53:01.462 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 17:53:01.462 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 17:53:01.463 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 17:53:01.463 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 17:53:01.463 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 17:53:01.463 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 17:53:01.469 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@408631c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b2a317d, org.springframework.security.web.context.SecurityContextPersistenceFilter@30728cc0, org.springframework.security.web.header.HeaderWriterFilter@5159cfc4, org.springframework.web.filter.CorsFilter@4e9dfa14, org.springframework.security.web.authentication.logout.LogoutFilter@7a990f79, com.yxly.security.JwtAuthenticationFilter@176015f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72061961, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b2f2e84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a961420, org.springframework.security.web.session.SessionManagementFilter@4cc7bc3, org.springframework.security.web.access.ExceptionTranslationFilter@595ac968, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e861e33]
2025-10-17 17:53:02.112 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 17:53:02.164 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 17:53:02.173 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.656 seconds (JVM running for 3.981)
2025-10-17 17:53:48.370 [http-nio-8080-exec-2] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 17:53:48.371 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 17:53:48.372 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 17:53:48.380 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:53:48.380 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:53:48.383 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:53:48.383 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:53:48.430 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:53:48.430 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:53:48.520 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:53:48.520 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:53:48.521 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:53:48.521 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:53:48.544 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:53:48.550 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:53:48.550 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:53:48.617 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:53:48.619 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:53:48.624 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:53:48.624 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:53:48.632 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:53:48.632 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:53:48.638 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:53:48.638 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:53:48.647 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:53:48.647 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:53:48.651 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:53:48.651 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:53:48.657 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:53:48.657 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:53:48.661 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:53:48.661 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:53:48.666 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:53:48.666 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:53:48.667 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 7 条记录，共 7 条
2025-10-17 17:53:48.716 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:53:48.716 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:53:48.771 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:53:48.771 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:53:48.772 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:53:48.773 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:53:48.773 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:53:48.773 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:53:48.775 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:53:48.775 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:53:48.777 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:53:48.777 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:53:48.778 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:53:48.778 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:53:48.778 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:53:48.782 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:53:48.782 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:53:48.786 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:53:48.795 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:53:48.800 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 17:53:48.801 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:53:48.810 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:53:48.821 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:53:48.826 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:53:48.830 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:53:48.834 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:53:48.838 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:53:48.843 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:53:48.846 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:53:54.217 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:53:54.218 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:53:54.218 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:53:54.218 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:53:54.220 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:53:54.221 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:53:54.228 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:53:54.228 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:53:54.229 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:53:54.229 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:53:54.230 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:53:54.231 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:53:54.234 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:53:54.234 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:53:54.243 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:53:54.244 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:53:54.249 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:53:55.540 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 17:53:55.541 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:53:55.544 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:53:55.548 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 17:53:55.549 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 17:53:55.551 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 17:53:55.552 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 17:53:55.555 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:10.011 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:54:10.012 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:10.014 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:10.019 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:54:10.019 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:54:10.034 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 704.00
2025-10-17 17:54:10.035 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:10.132 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:54:10.134 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:54:10.134 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:54:10.134 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:10.134 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:10.134 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:10.136 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:10.136 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:10.137 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:10.141 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:54:10.141 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:10.141 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:54:10.141 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:54:10.146 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:54:10.146 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:54:10.152 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:10.152 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:54:10.153 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:54:10.154 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:10.159 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:54:10.160 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:10.168 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:12.856 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:54:12.856 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:54:12.857 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:12.857 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:12.859 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:12.859 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:12.864 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:54:12.864 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:54:12.866 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:54:12.866 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:54:12.868 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:54:12.868 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:54:12.869 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:54:12.869 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:54:12.876 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:12.880 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:54:12.883 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:13.941 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 17:54:13.941 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:13.943 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:13.947 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 17:54:13.947 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 17:54:13.947 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 17:54:13.948 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 17:54:13.952 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:36.790 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 17:54:36.791 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:36.796 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:36.800 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 17:54:36.800 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 17:54:36.859 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 17:54:36.868 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:54:36.874 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=704.00, 新余额=606.00
2025-10-17 17:54:36.878 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:54:36.884 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:54:36.915 [http-nio-8080-exec-5] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建失败，但订单已创建成功: orderId=14, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 17:54:36.917 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=14, orderNo=YX2025101717543620151, 支付金额=98.00
2025-10-17 17:54:36.921 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:37.105 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:54:37.106 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:37.112 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:37.119 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:37.120 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:54:37.123 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:54:37.131 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:37.131 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:37.136 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:37.139 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:37.142 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:37.147 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:37.149 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:37.153 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:37.156 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:37.159 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:37.160 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:37.245 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:54:37.246 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:37.248 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:37.251 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:54:37.251 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:54:37.255 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:54:37.262 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:37.262 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:37.265 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:37.269 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:37.272 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:37.276 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:37.279 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:37.282 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:37.286 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:37.293 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:37.295 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:37.367 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:54:37.367 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:37.367 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:54:37.367 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:54:37.367 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:54:37.368 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:37.368 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:54:37.368 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:37.368 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:54:37.368 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:54:37.370 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:39.229 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:54:39.229 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:54:39.229 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:54:39.229 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:54:39.229 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:39.229 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:39.229 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:39.229 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:39.232 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:39.232 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:39.232 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:39.232 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:39.241 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:54:39.242 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:54:39.243 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:39.243 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:54:39.243 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:39.243 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:54:39.243 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:54:39.243 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:54:39.250 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:54:39.253 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:54:39.253 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:54:39.253 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 606.00
2025-10-17 17:54:39.255 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:39.256 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:54:39.258 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:39.258 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:39.260 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:39.819 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:54:39.819 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:39.821 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:39.825 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:39.825 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:54:39.828 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:54:39.836 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:39.836 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:39.839 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:39.842 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:39.844 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:39.847 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:39.850 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:39.855 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:39.857 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:39.860 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:39.862 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:40.126 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:54:40.126 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:40.128 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:40.130 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:54:40.130 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:54:40.134 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:54:40.140 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:40.140 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:40.145 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:40.148 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:40.151 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:40.154 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:40.157 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:40.160 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:40.163 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:40.165 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:40.167 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:40.185 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:54:40.185 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:40.185 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:54:40.185 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:54:40.186 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:54:40.186 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:40.186 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:54:40.186 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:40.187 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:54:40.187 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:54:40.188 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:40.582 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:54:40.582 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:40.585 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:40.594 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:54:40.595 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:54:40.602 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 606.00
2025-10-17 17:54:40.604 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:40.899 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:54:40.899 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:54:40.899 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:54:40.899 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:40.899 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:40.899 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:40.902 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:40.902 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:40.902 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:40.906 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:40.906 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:54:40.906 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:40.906 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:54:40.906 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:54:40.906 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:54:40.910 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:54:40.910 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:54:40.910 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:54:40.914 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:54:40.915 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:40.918 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:40.918 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:41.743 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:54:41.744 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:41.747 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:41.751 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:41.751 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:54:41.754 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:54:41.760 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:41.760 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:41.764 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:41.767 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:41.771 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:41.774 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:41.777 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:41.780 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:41.784 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:41.788 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:41.789 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:42.058 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:54:42.059 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:42.061 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:42.064 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:54:42.064 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:54:42.068 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:54:42.074 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:42.074 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:42.078 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:42.082 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:42.086 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:42.089 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:42.093 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:42.097 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:42.101 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:42.105 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:42.106 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:42.110 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:54:42.110 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:42.110 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:54:42.111 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:54:42.111 [http-nio-8080-exec-3] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:54:42.111 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:42.112 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:54:42.112 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:42.112 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:54:42.112 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:54:42.114 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:47.791 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:54:47.791 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:47.793 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:47.795 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:54:47.795 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:54:47.796 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:54:47.796 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:54:47.804 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:47.805 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:47.809 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:47.815 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:47.820 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:47.825 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:47.827 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:47.831 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:47.836 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:47.839 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:47.839 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 8 条记录，共 8 条
2025-10-17 17:54:47.840 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:50.923 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/14/confirm
2025-10-17 17:54:50.923 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:50.925 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:50.929 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/14/confirm] with attributes [permitAll]
2025-10-17 17:54:50.929 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/14/confirm
2025-10-17 17:54:50.930 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 管理员确认订单: id=14
2025-10-17 17:54:50.931 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单: id=14
2025-10-17 17:54:50.937 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 17:54:50.942 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 17:54:50.945 [http-nio-8080-exec-9] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 创建消费交易记录失败，但订单确认成功: orderId=14, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 17:54:50.945 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单成功: orderId=14
2025-10-17 17:54:50.948 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:50.955 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:54:50.956 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:50.958 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:50.961 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:54:50.961 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:54:50.962 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:54:50.962 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:54:50.969 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:50.970 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:50.974 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:50.978 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:50.981 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:50.985 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:50.988 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:50.990 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:50.994 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:50.997 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:50.997 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 8 条记录，共 8 条
2025-10-17 17:54:50.999 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:59.365 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:54:59.365 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:59.366 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:59.370 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:54:59.370 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:54:59.373 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:54:59.380 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:59.380 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:59.385 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:59.390 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:59.394 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:59.397 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:59.400 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:59.403 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:59.406 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:59.409 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:59.410 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:59.432 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:54:59.432 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:54:59.432 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:59.432 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:59.432 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:54:59.434 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:54:59.434 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:54:59.434 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:59.435 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:54:59.435 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:54:59.435 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:54:59.435 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:54:59.437 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:54:59.437 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:54:59.440 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:54:59.440 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:54:59.444 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:54:59.451 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:54:59.451 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:54:59.455 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:54:59.460 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:54:59.463 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:54:59.467 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:54:59.471 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:54:59.475 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:54:59.478 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:54:59.480 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:54:59.481 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:00.487 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:55:00.487 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:55:00.487 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:55:00.487 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:00.487 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:00.487 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:00.491 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:00.491 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:00.492 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:00.495 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:55:00.495 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:55:00.495 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:55:00.495 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:55:00.495 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:55:00.495 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:55:00.499 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:55:00.501 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 606.00
2025-10-17 17:55:00.503 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:00.508 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:00.508 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:00.744 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:55:00.744 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:00.746 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:00.748 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:00.748 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:55:00.752 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:55:00.752 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:55:00.757 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:55:00.759 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:02.247 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:55:02.247 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:55:02.248 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:02.248 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:02.249 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:02.250 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:02.252 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:55:02.252 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:55:02.253 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:55:02.253 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:55:02.255 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:55:02.258 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 606.00
2025-10-17 17:55:02.259 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:02.263 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:02.429 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:55:02.430 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:02.430 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:55:02.430 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:02.432 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:02.432 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:02.434 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:02.434 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:55:02.435 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:55:02.435 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:55:02.438 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:55:02.438 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:55:02.442 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:55:02.443 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:02.446 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:07.180 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:55:07.180 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:07.182 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:07.185 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:55:07.185 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:55:07.189 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:55:07.195 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:07.196 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:07.197 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:07.200 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:07.203 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:07.206 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:07.208 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:07.211 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:07.213 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:07.215 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:07.218 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:07.235 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:55:07.235 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:07.235 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:07.236 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:55:07.236 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:55:07.236 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:07.236 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:55:07.236 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:07.237 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:07.237 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:55:07.238 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:07.450 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:07.450 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:07.451 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:07.456 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:07.456 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:07.459 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:07.463 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:07.463 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:07.467 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:07.469 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:07.472 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:07.474 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:07.477 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:07.480 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:07.484 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:07.487 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:07.488 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:09.969 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=6
2025-10-17 17:55:09.969 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:09.970 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:09.973 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=6] with attributes [permitAll]
2025-10-17 17:55:09.973 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=6
2025-10-17 17:55:09.976 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=6
2025-10-17 17:55:09.981 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 17:55:09.981 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:09.984 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:09.985 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:09.991 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:09.991 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:09.993 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:09.996 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:09.996 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:09.999 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:10.005 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:10.005 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:10.008 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:10.013 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:10.016 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:10.020 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:10.024 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:10.028 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:10.031 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:10.036 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:10.037 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:11.308 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=5
2025-10-17 17:55:11.308 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:11.309 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:11.313 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=5] with attributes [permitAll]
2025-10-17 17:55:11.313 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=5
2025-10-17 17:55:11.316 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=5
2025-10-17 17:55:11.321 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 4 条记录
2025-10-17 17:55:11.322 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:11.324 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:11.329 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:11.331 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:11.334 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:11.335 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:11.343 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:55:11.343 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:11.343 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:11.343 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:55:11.344 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:55:11.344 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:11.344 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:55:11.344 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:11.344 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:11.344 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:55:11.346 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:11.655 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:11.656 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:11.657 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:11.660 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:11.660 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:11.662 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:11.666 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:11.666 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:11.671 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:11.673 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:11.675 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:11.677 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:11.679 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:11.681 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:11.684 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:11.686 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:11.687 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:14.933 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:14.933 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:14.935 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:14.939 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:55:14.939 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:14.941 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:55:14.943 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:55:14.944 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:14.944 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:15.199 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:15.200 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:15.201 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:15.203 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:15.203 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:15.207 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:15.212 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:15.212 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:15.215 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:15.218 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:15.222 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:15.224 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:15.226 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:15.229 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:15.232 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:15.233 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:15.235 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:16.459 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:16.459 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:16.461 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:16.463 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 17:55:16.463 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:16.466 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 17:55:16.470 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 3 条记录
2025-10-17 17:55:16.471 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:16.473 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:16.475 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:16.477 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:16.478 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:16.795 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:55:16.795 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:16.796 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:16.796 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:16.796 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:16.796 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:55:16.796 [http-nio-8080-exec-6] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:55:16.796 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:16.796 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:55:16.797 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:16.797 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:16.797 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:55:16.798 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:16.799 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:16.803 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:16.803 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:16.806 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:16.813 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:16.813 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:16.815 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:16.818 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:16.821 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:16.823 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:16.825 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:16.828 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:16.830 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:16.833 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:16.834 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:27.391 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:27.391 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:27.394 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:27.396 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:55:27.396 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:27.399 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:55:27.402 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:55:27.402 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:27.403 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:27.722 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:27.723 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:27.724 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:27.727 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:27.727 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:27.729 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:27.732 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:27.732 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:27.734 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:27.736 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:27.738 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:27.740 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:27.741 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:27.743 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:27.746 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:27.748 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:27.748 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:28.339 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:28.340 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:28.341 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:28.343 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 17:55:28.343 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:28.346 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 17:55:28.351 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 3 条记录
2025-10-17 17:55:28.351 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:28.353 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:28.355 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:28.358 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:28.359 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:28.686 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:55:28.686 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:28.686 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:28.686 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:28.687 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:28.687 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:55:28.687 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:55:28.687 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:28.687 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:55:28.687 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:28.687 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:28.687 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:55:28.688 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:28.689 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:28.691 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:28.691 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:28.695 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:28.701 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:28.701 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:28.703 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:28.706 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:28.709 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:28.712 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:28.714 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:28.718 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:28.721 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:28.723 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:28.724 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:33.822 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:33.823 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:33.826 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:33.829 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:55:33.829 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:33.831 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:55:33.835 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:55:33.835 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:33.836 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:34.147 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:34.147 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:34.150 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:34.152 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:34.152 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:34.155 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:34.159 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:34.160 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:34.162 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:34.164 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:34.165 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:34.167 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:34.169 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:34.170 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:34.172 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:34.174 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:34.175 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:34.504 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:34.504 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:34.506 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:34.509 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 17:55:34.509 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:34.511 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 17:55:34.515 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 3 条记录
2025-10-17 17:55:34.515 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:34.517 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:34.519 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:34.521 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:34.522 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:34.843 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:34.843 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:55:34.843 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:34.843 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:34.843 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:34.843 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:55:34.845 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:55:34.845 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:34.845 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:55:34.845 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:34.845 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:34.845 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:55:34.845 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:34.846 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:34.849 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:34.849 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:34.852 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:34.858 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:34.859 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:34.862 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:34.865 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:34.869 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:34.873 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:34.875 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:34.877 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:34.880 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:34.881 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:34.882 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:35.107 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:35.107 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:35.109 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:35.111 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:55:35.111 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:35.114 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:55:35.117 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:55:35.117 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:35.118 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:35.327 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:35.328 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:35.329 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:35.333 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:35.333 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:35.336 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:35.342 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:35.343 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:35.348 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:35.352 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:35.354 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:35.358 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:35.362 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:35.364 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:35.367 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:35.370 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:35.370 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:35.717 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:35.717 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:35.719 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:35.721 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 17:55:35.721 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:35.723 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 17:55:35.728 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 3 条记录
2025-10-17 17:55:35.728 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:35.730 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:35.733 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:35.735 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:35.736 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:36.056 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:36.056 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:55:36.056 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:36.056 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:36.056 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:36.057 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:55:36.057 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:55:36.057 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:36.057 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:55:36.057 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:36.057 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:36.057 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:55:36.058 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:36.059 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:36.060 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:36.061 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:36.063 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:36.068 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:36.069 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:36.072 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:36.074 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:36.077 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:36.080 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:36.082 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:36.085 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:36.089 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:36.092 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:36.093 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:36.412 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:36.412 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:36.413 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:36.415 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:55:36.415 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:36.419 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:55:36.421 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:55:36.421 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:36.422 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:36.739 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:36.740 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:36.742 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:36.745 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:36.745 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:36.746 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:36.750 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:36.750 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:36.753 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:36.755 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:36.757 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:36.759 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:36.761 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:36.763 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:36.765 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:36.769 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:36.770 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:37.376 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:37.376 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:37.378 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:37.381 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 17:55:37.381 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:37.383 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 17:55:37.388 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 3 条记录
2025-10-17 17:55:37.388 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:37.390 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:37.393 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:37.396 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:37.397 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:37.721 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:37.721 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:55:37.722 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:37.722 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:37.722 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:37.722 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:55:37.722 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:55:37.722 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:37.723 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:55:37.723 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:37.723 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:37.723 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:55:37.723 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:37.726 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:37.728 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:37.728 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:37.731 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:37.735 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:37.736 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:37.738 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:37.741 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:37.743 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:37.745 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:37.747 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:37.749 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:37.751 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:37.752 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:37.754 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:37.974 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:37.974 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:37.975 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:37.977 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:55:37.978 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:37.980 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:55:37.984 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:55:37.984 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:37.984 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:38.222 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:38.223 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:38.225 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:38.229 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:38.229 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:38.231 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:38.235 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:38.235 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:38.237 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:38.239 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:38.241 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:38.243 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:38.244 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:38.246 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:38.247 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:38.249 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:38.250 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:40.273 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:40.274 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:40.275 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:40.277 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 17:55:40.278 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:55:40.280 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 17:55:40.285 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 3 条记录
2025-10-17 17:55:40.285 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:40.287 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:40.289 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:40.291 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:40.292 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:40.614 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:55:40.614 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:40.614 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:40.614 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:40.614 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:40.615 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:55:40.615 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:55:40.615 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:40.615 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:55:40.615 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:40.615 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:55:40.616 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:55:40.616 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:40.617 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:40.619 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:40.620 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:40.622 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:40.629 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:40.629 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:40.631 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:40.634 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:40.637 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:40.639 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:40.641 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:40.643 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:40.646 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:40.648 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:40.649 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:53.456 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:53.456 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:53.458 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:53.460 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:55:53.461 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:55:53.464 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:55:53.467 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:55:53.467 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:53.468 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:55:53.777 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:53.777 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:55:53.779 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:55:53.781 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:55:53.781 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:55:53.784 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:55:53.789 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:55:53.789 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:55:53.791 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:55:53.793 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:55:53.795 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:55:53.798 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:55:53.801 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:55:53.803 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:55:53.805 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:55:53.807 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:55:53.808 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:03.505 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=1
2025-10-17 17:56:03.506 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:03.508 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:03.510 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=1] with attributes [permitAll]
2025-10-17 17:56:03.510 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=1
2025-10-17 17:56:03.513 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=1
2025-10-17 17:56:03.516 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:56:03.516 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:03.517 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:03.837 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:03.838 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:03.839 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:03.842 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:56:03.842 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:03.844 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:56:03.848 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:56:03.848 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:03.853 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:03.855 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:03.857 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:56:03.859 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:56:03.861 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:56:03.862 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:56:03.865 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:56:03.867 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:03.868 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:04.794 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:56:04.794 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:04.795 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:04.798 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 17:56:04.798 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:56:04.800 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 17:56:04.804 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 3 条记录
2025-10-17 17:56:04.804 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:04.808 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:04.811 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:04.813 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:04.814 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:05.136 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:05.136 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:56:05.137 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:05.137 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:05.137 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:56:05.138 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:56:05.138 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:56:05.138 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:05.138 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:05.138 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:56:05.139 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:05.139 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:56:05.139 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:56:05.140 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:05.142 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:56:05.142 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:05.148 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:56:05.157 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:56:05.157 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:05.160 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:05.163 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:05.165 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:56:05.168 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:56:05.170 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:56:05.172 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:56:05.175 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:56:05.177 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:05.178 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:09.527 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:56:09.527 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:09.529 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:09.532 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:56:09.532 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:56:09.535 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:56:09.539 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:56:09.539 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:09.540 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:09.853 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:09.853 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:09.855 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:09.857 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:56:09.857 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:09.860 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:56:09.865 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:56:09.865 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:09.868 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:09.870 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:09.872 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:56:09.874 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:56:09.877 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:56:09.878 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:56:09.880 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:56:09.882 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:09.884 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:12.366 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:56:12.367 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:12.368 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:12.371 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 17:56:12.371 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:56:12.373 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 17:56:12.378 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 3 条记录
2025-10-17 17:56:12.378 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:12.380 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:12.382 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:12.385 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:12.386 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:12.708 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:56:12.708 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:12.708 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:12.709 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:12.709 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:56:12.709 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:56:12.709 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:56:12.709 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:12.709 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:56:12.710 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:12.710 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:56:12.710 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:56:12.710 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:12.711 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:12.713 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:56:12.713 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:12.715 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:56:12.720 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:56:12.720 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:12.723 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:12.725 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:12.727 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:56:12.729 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:56:12.730 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:56:12.732 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:56:12.733 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:56:12.735 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:12.736 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:13.345 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:56:13.345 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:13.346 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:13.350 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:56:13.350 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:56:13.352 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:56:13.354 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:56:13.354 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:13.355 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:13.669 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:13.669 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:13.671 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:13.673 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:56:13.673 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:13.676 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:56:13.681 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:56:13.681 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:13.684 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:13.687 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:13.690 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:56:13.692 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:56:13.695 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:56:13.698 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:56:13.701 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:56:13.703 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:13.704 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:14.487 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:56:14.488 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:14.489 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:14.492 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 17:56:14.492 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 17:56:14.493 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 17:56:14.498 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 3 条记录
2025-10-17 17:56:14.499 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:14.501 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:14.503 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:14.505 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:14.505 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:14.831 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:56:14.831 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:14.831 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:14.831 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:14.831 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:56:14.832 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:56:14.832 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:56:14.832 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:14.832 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:56:14.832 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:14.832 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:56:14.832 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:56:14.832 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:14.834 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:14.836 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:56:14.836 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:14.838 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:56:14.844 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:56:14.844 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:14.847 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:14.848 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:14.850 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:56:14.852 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:56:14.854 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:56:14.856 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:56:14.858 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:56:14.859 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:14.860 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:24.727 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:56:24.727 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:24.728 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:24.731 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=4] with attributes [permitAll]
2025-10-17 17:56:24.731 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=4
2025-10-17 17:56:24.734 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=4
2025-10-17 17:56:24.737 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 17:56:24.737 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:24.738 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:56:25.060 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:25.060 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:56:25.061 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:56:25.064 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:56:25.064 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:56:25.066 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:56:25.071 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:56:25.071 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:56:25.073 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:56:25.075 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:56:25.077 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:56:25.080 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:56:25.083 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:56:25.085 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:56:25.087 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:56:25.089 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:56:25.090 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:08.681 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 17:57:08.681 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:08.684 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:57:08.686 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 17:57:08.686 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 17:57:08.692 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 606.00
2025-10-17 17:57:08.693 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:08.994 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:57:08.994 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:57:08.994 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:57:08.994 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:08.994 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:08.994 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:08.997 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:57:08.997 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:57:08.997 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:57:09.000 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:57:09.000 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 17:57:09.000 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:57:09.000 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 17:57:09.000 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 17:57:09.000 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 17:57:09.004 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:57:09.004 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 17:57:09.004 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 17:57:09.009 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 17:57:09.010 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:09.012 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:09.014 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:12.615 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:57:12.615 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:12.616 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:57:12.619 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:57:12.619 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:57:12.623 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:57:12.628 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:57:12.629 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:57:12.631 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:57:12.633 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:57:12.636 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:57:12.639 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:57:12.641 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:57:12.644 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:57:12.647 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:57:12.649 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:57:12.650 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:12.923 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:57:12.923 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:12.925 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:57:12.928 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:57:12.928 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:57:12.931 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:57:12.937 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:57:12.937 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:57:12.939 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:57:12.941 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:57:12.944 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:57:12.947 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:57:12.950 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:57:12.952 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:57:12.953 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:57:12.956 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:57:12.957 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:12.973 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:57:12.973 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:12.973 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:57:12.974 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:57:12.974 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:57:12.974 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:12.974 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:57:12.974 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:12.975 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:57:12.975 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:57:12.976 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:17.767 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/400/300
2025-10-17 17:57:17.767 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:17.767 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:57:17.768 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/400/300] with attributes [authenticated]
2025-10-17 17:57:17.768 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:57:17.768 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:17.768 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:57:17.769 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:17.769 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:57:17.769 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:57:17.771 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:23.061 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 17:57:23.062 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:23.065 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:57:23.068 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 17:57:23.068 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 17:57:23.071 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 17:57:23.077 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:57:23.077 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:57:23.079 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:57:23.082 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:57:23.084 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:57:23.086 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:57:23.089 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:57:23.091 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:57:23.094 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:57:23.098 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:57:23.099 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:23.119 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 17:57:23.119 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:23.119 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:57:23.120 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 17:57:23.120 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 17:57:23.120 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:23.120 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 17:57:23.121 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:23.121 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 17:57:23.121 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 17:57:23.122 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:57:23.435 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 17:57:23.436 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:57:23.437 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:57:23.440 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 17:57:23.440 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 17:57:23.443 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 17:57:23.449 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:57:23.449 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:57:23.453 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:57:23.455 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:57:23.459 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:57:23.462 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:57:23.465 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:57:23.468 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:57:23.470 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:57:23.473 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:57:23.474 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:58:06.490 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:58:06.490 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:58:06.491 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:58:06.491 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:58:06.492 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:58:06.492 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:58:06.502 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:58:06.502 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:58:06.502 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:58:06.502 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:58:06.503 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:58:06.503 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:58:06.503 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:58:06.503 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:58:06.511 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:58:06.513 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:58:06.516 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:59:03.275 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 17:59:03.275 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 17:59:03.275 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:59:03.275 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:59:03.277 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:59:03.277 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:59:03.281 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 17:59:03.281 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 17:59:03.281 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 17:59:03.281 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 17:59:03.282 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 17:59:03.282 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 17:59:03.282 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:59:03.282 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 17:59:03.285 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:59:03.288 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 17:59:03.290 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 17:59:53.157 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:59:53.157 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 17:59:53.158 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 17:59:53.161 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 17:59:53.162 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 17:59:53.162 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:59:53.163 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 17:59:53.174 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 17:59:53.174 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 17:59:53.177 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 17:59:53.180 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 17:59:53.182 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 17:59:53.186 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 17:59:53.188 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 17:59:53.190 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 17:59:53.192 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 17:59:53.194 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 17:59:53.194 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 8 条记录，共 8 条
2025-10-17 17:59:53.196 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:01:38.399 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 18:01:38.399 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:01:38.403 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:01:38.406 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 18:01:38.406 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 18:01:38.409 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 18:01:38.409 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 18:01:38.411 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:01:48.366 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:01:48.366 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:01:48.368 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:01:48.373 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:01:48.373 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:01:48.376 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:01:48.381 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 18:01:48.384 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:01:48.387 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:01:48.391 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:01:48.393 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:01:48.397 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:01:48.399 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:01:48.402 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:01:48.405 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:01:48.408 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:01:48.409 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:01:48.671 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:01:48.671 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:01:48.672 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:01:48.675 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:01:48.675 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:01:48.677 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:01:48.683 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 8 条记录
2025-10-17 18:01:48.683 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:01:48.685 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:01:48.688 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:01:48.690 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:01:48.693 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:01:48.696 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:01:48.698 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:01:48.701 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:01:48.704 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:01:48.706 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:01:48.730 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:01:48.731 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:01:48.731 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:01:48.731 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:01:48.731 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:01:48.731 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:01:48.732 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:01:48.732 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:01:48.732 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:01:48.732 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:01:48.734 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:03:34.096 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:03:34.096 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:03:34.096 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:03:34.096 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:03:34.097 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:03:34.097 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:03:34.097 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:03:34.097 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:03:34.099 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:03:34.100 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:03:34.100 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:03:34.100 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:03:34.104 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:03:34.104 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:03:34.104 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:03:34.104 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:03:34.104 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:03:34.104 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:03:34.104 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:03:34.104 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:03:34.107 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:03:34.107 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:03:34.107 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:03:34.109 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 606.00
2025-10-17 18:03:34.111 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:03:34.112 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 18:03:34.114 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:03:34.116 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:03:34.116 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:10:17.921 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:10:17.935 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:10:17.936 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 18:10:17.949 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1522444873] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:10:17.950 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1522444873] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:10:17.961 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 18:10:17.965 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 18:10:18.035 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7556 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:10:18.036 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:10:18.036 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:10:18.181 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:10:18.182 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:10:18.188 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 18:10:18.290 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:10:18.291 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:10:18.291 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:10:18.310 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:10:18.310 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 273 ms
2025-10-17 18:10:18.342 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:10:18.462 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 18:10:18.546 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:10:18.690 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:10:18.690 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:10:18.690 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:10:18.691 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:10:18.691 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:10:18.691 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:10:18.691 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:10:18.691 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:10:18.692 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:10:18.692 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:10:18.692 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:10:18.692 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:10:18.692 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:10:18.692 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:10:18.692 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:10:18.692 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:10:18.692 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:10:18.693 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:10:18.693 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:10:18.693 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:10:18.693 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:10:18.695 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61c11720, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4758c161, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e5b455d, org.springframework.security.web.header.HeaderWriterFilter@7d457d20, org.springframework.web.filter.CorsFilter@91078fb, org.springframework.security.web.authentication.logout.LogoutFilter@57564137, com.yxly.security.JwtAuthenticationFilter@3bbd59ea, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79804a72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ffa941f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@204ebb1e, org.springframework.security.web.session.SessionManagementFilter@291ea770, org.springframework.security.web.access.ExceptionTranslationFilter@6f3d1c38, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4cdcb562]
2025-10-17 18:10:18.877 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:10:18.911 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:10:18.914 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.908 seconds (JVM running for 1040.723)
2025-10-17 18:10:18.916 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:10:26.468 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:10:26.482 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:10:26.484 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1759484255] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:10:26.485 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1759484255] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:10:26.488 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 18:10:26.490 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 18:10:26.548 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7556 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:10:26.548 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:10:26.548 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:10:26.675 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:10:26.675 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:10:26.681 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 18:10:26.788 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:10:26.789 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:10:26.789 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:10:26.817 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:10:26.817 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 267 ms
2025-10-17 18:10:26.853 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:10:26.938 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 18:10:27.002 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:10:27.126 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:10:27.126 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:10:27.127 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:10:27.128 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:10:27.128 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:10:27.128 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:10:27.128 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:10:27.128 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:10:27.128 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:10:27.128 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:10:27.128 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:10:27.130 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65ef5e2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53171bd4, org.springframework.security.web.context.SecurityContextPersistenceFilter@50afa75, org.springframework.security.web.header.HeaderWriterFilter@522a94f0, org.springframework.web.filter.CorsFilter@54bc4d09, org.springframework.security.web.authentication.logout.LogoutFilter@1da49792, com.yxly.security.JwtAuthenticationFilter@344f6b78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b72468d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7df9c007, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ae3e675, org.springframework.security.web.session.SessionManagementFilter@6168e46, org.springframework.security.web.access.ExceptionTranslationFilter@779132f3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78f2d86b]
2025-10-17 18:10:27.280 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:10:27.303 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:10:27.306 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.78 seconds (JVM running for 1049.114)
2025-10-17 18:10:27.308 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:10:44.135 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:10:44.147 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:10:44.149 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-694519067] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:10:44.150 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-694519067] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:10:44.153 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 18:10:44.156 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 18:10:44.214 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7556 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:10:44.216 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:10:44.216 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:10:44.332 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:10:44.332 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:10:44.339 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 18:10:44.444 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:10:44.446 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:10:44.446 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:10:44.475 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:10:44.475 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 258 ms
2025-10-17 18:10:44.512 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:10:44.590 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 18:10:44.646 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:10:44.772 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:10:44.773 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:10:44.773 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:10:44.774 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:10:44.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:10:44.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:10:44.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:10:44.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:10:44.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:10:44.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:10:44.775 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:10:44.777 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@440ae3a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bb69aed, org.springframework.security.web.context.SecurityContextPersistenceFilter@74b2847a, org.springframework.security.web.header.HeaderWriterFilter@24aca76, org.springframework.web.filter.CorsFilter@73a41ff1, org.springframework.security.web.authentication.logout.LogoutFilter@13705b49, com.yxly.security.JwtAuthenticationFilter@35dae7d2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c456135, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@588803b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5616e905, org.springframework.security.web.session.SessionManagementFilter@3d32c20d, org.springframework.security.web.access.ExceptionTranslationFilter@2cea8cbd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@652817ef]
2025-10-17 18:10:44.941 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:10:44.966 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:10:44.969 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.773 seconds (JVM running for 1066.777)
2025-10-17 18:10:44.971 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:11:06.775 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 18:11:06.775 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 18:11:06.776 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 18:11:06.776 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:11:06.776 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:11:06.778 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:11:06.785 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:11:06.786 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:11:06.792 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 606.00
2025-10-17 18:11:06.798 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:11:06.862 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:11:06.862 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:11:06.864 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:11:06.867 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:11:06.867 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:11:06.872 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:11:06.881 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:11:06.940 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:11:06.941 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:11:06.941 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:11:06.941 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:11:06.943 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:11:06.946 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:11:06.949 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:11:06.949 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:11:06.949 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:11:06.949 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:11:06.952 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:11:06.952 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:11:06.957 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 18:11:06.958 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:11:06.962 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:11:25.363 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:11:25.375 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:11:25.376 [Thread-15] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 18:11:25.378 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1740057838] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:11:25.378 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1740057838] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:11:25.381 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 18:11:25.383 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 18:11:25.461 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7556 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:11:25.461 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:11:25.462 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:11:25.615 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:11:25.616 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:11:25.622 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 18:11:25.708 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:11:25.708 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:11:25.708 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:11:25.724 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:11:25.724 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 261 ms
2025-10-17 18:11:25.755 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:11:25.834 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 18:11:25.894 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:11:25.998 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:11:25.998 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:11:25.999 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:11:26.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:11:26.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:11:26.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:11:26.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:11:26.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:11:26.000 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:11:26.002 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23b88533, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ff558cf, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d30002e, org.springframework.security.web.header.HeaderWriterFilter@2a4faf46, org.springframework.web.filter.CorsFilter@1c809fd7, org.springframework.security.web.authentication.logout.LogoutFilter@5f453541, com.yxly.security.JwtAuthenticationFilter@74acf5fa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ef7d223, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59156924, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7eab01a5, org.springframework.security.web.session.SessionManagementFilter@3b1a1fbd, org.springframework.security.web.access.ExceptionTranslationFilter@10fe7b50, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25e8f426]
2025-10-17 18:11:26.154 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:11:26.176 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:11:26.179 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.747 seconds (JVM running for 1107.986)
2025-10-17 18:11:26.180 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:12:41.248 [http-nio-8080-exec-2] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 18:12:41.249 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 18:12:41.249 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-17 18:12:41.250 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:12:41.250 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:12:41.250 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:12:41.250 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:12:41.252 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:12:41.252 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:12:41.257 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:12:41.257 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:12:41.258 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:12:41.258 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:12:41.258 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:12:41.259 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:12:41.261 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:12:41.261 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:12:41.268 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:12:41.273 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:12:41.273 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:12:42.122 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 18:12:42.123 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:12:42.125 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:12:42.128 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 18:12:42.129 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 18:12:42.130 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 18:12:42.130 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 18:12:42.134 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:11.793 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 18:13:11.793 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:11.795 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:11.797 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 18:13:11.797 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 18:13:11.809 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 18:13:11.813 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:13:11.816 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=606.00, 新余额=508.00
2025-10-17 18:13:11.818 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:13:11.823 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:13:11.826 [http-nio-8080-exec-4] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建失败，但订单已创建成功: orderId=15, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 18:13:11.827 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=15, orderNo=YX2025101718131130538, 支付金额=98.00
2025-10-17 18:13:11.829 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:12.057 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:13:12.058 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:12.059 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:12.061 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:12.062 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:13:12.065 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:13:12.072 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 9 条记录
2025-10-17 18:13:12.076 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:13:12.080 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:13:12.084 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:13:12.088 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:13:12.090 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:13:12.093 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:13:12.096 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:13:12.099 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:13:12.103 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:13:12.106 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:13:12.108 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:12.183 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:13:12.183 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:12.183 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:13:12.183 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:12.183 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:13:12.184 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:13:12.184 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:13:12.184 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:12.184 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:12.184 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:13:12.184 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:12.185 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:13:12.185 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:13:12.187 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:13:12.187 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:13:12.187 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:12.189 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:13:12.198 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 9 条记录
2025-10-17 18:13:12.198 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:13:12.202 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:13:12.205 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:13:12.207 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:13:12.211 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:13:12.213 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:13:12.219 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:13:12.223 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:13:12.227 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:13:12.230 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:13:12.233 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:14.615 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:13:14.615 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:13:14.615 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:14.616 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:14.617 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:14.617 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:14.621 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:14.622 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:13:14.622 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:13:14.622 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:13:14.630 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 508.00
2025-10-17 18:13:14.630 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:13:14.631 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:14.641 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:14.932 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:13:14.932 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:13:14.932 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:14.932 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:14.934 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:14.934 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:14.937 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:14.937 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:13:14.937 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:13:14.937 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:13:14.939 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:13:14.939 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:13:14.942 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 18:13:14.944 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:14.948 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:16.959 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:13:16.960 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:16.962 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:16.966 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:16.966 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:13:16.968 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:13:16.973 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 9 条记录
2025-10-17 18:13:16.974 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:13:16.976 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:13:16.979 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:13:16.982 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:13:16.986 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:13:16.988 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:13:16.991 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:13:16.993 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:13:16.997 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:13:16.999 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:13:17.000 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:17.273 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:13:17.274 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:17.275 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:17.278 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:13:17.278 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:13:17.281 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:13:17.287 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 9 条记录
2025-10-17 18:13:17.288 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:13:17.291 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:13:17.295 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:13:17.298 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:13:17.303 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:13:17.307 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:13:17.322 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:13:17.322 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:17.322 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:13:17.322 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:13:17.323 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:13:17.323 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:13:17.325 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:17.325 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:13:17.325 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:17.326 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:13:17.326 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:13:17.328 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:17.331 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:13:17.337 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:13:17.347 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:13:17.351 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:20.872 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:13:20.873 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:20.874 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:20.877 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:13:20.878 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:13:20.881 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:13:20.882 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:13:20.890 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 9 条记录
2025-10-17 18:13:20.890 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:13:20.893 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:13:20.897 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:13:20.901 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:13:20.903 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:13:20.907 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:13:20.910 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:13:20.914 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:13:20.917 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:13:20.921 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:13:20.921 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 9 条记录，共 9 条
2025-10-17 18:13:20.921 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:22.839 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/15/confirm
2025-10-17 18:13:22.840 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:22.841 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:22.843 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/15/confirm] with attributes [permitAll]
2025-10-17 18:13:22.843 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/15/confirm
2025-10-17 18:13:22.844 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 管理员确认订单: id=15
2025-10-17 18:13:22.844 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单: id=15
2025-10-17 18:13:22.847 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:13:22.852 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:13:22.853 [http-nio-8080-exec-8] ERROR [com.yxly.service.impl.BookingOrderServiceImpl] - 创建消费交易记录失败，但订单确认成功: orderId=15, error=
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
### The error may exist in com/yxly/mapper/FinancialRecordMapper.java (best guess)
### The error may involve com.yxly.mapper.FinancialRecordMapper.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO financial_record  ( record_no, type, category, amount, related_order_id, remark, operator_id, operator_name, record_time, create_time, update_time )  VALUES (  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?  )
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'remark' in 'field list'
2025-10-17 18:13:22.854 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单成功: orderId=15
2025-10-17 18:13:22.856 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:22.864 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:13:22.864 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:22.866 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:22.870 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:13:22.870 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:13:22.871 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:13:22.871 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:13:22.876 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 9 条记录
2025-10-17 18:13:22.877 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:13:22.879 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:13:22.884 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:13:22.887 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:13:22.891 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:13:22.894 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:13:22.897 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:13:22.902 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:13:22.904 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:13:22.907 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:13:22.907 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 9 条记录，共 9 条
2025-10-17 18:13:22.909 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:24.809 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:13:24.809 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:13:24.809 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:13:24.809 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:24.809 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:24.809 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:24.810 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:24.811 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:24.812 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:24.814 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:13:24.814 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:13:24.816 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:24.816 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:13:24.817 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:24.818 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:13:24.824 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:13:24.826 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 508.00
2025-10-17 18:13:24.828 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:24.832 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:24.834 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:25.120 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:13:25.120 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:25.122 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:25.124 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:13:25.125 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:13:25.126 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:13:25.126 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:13:25.129 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 18:13:25.130 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:26.953 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:13:26.953 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:26.955 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:26.958 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:26.958 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:13:26.962 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:13:26.969 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 9 条记录
2025-10-17 18:13:26.969 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:13:26.973 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:13:26.976 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:13:26.979 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:13:26.981 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:13:26.985 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:13:26.988 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:13:26.992 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:13:26.994 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:13:26.997 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:13:26.998 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:27.267 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:13:27.267 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:27.268 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:27.271 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:13:27.271 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:13:27.273 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:13:27.278 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 9 条记录
2025-10-17 18:13:27.278 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:13:27.282 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:13:27.285 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:13:27.288 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:13:27.290 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:13:27.292 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:13:27.296 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:13:27.299 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:13:27.302 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:13:27.304 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:13:27.305 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:27.326 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:13:27.326 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:27.326 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:13:27.326 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:13:27.326 [http-nio-8080-exec-3] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:13:27.326 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:27.327 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:13:27.327 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:27.327 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:13:27.327 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:13:27.327 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:29.170 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:13:29.170 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:29.172 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:29.174 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:13:29.174 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:13:29.180 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 508.00
2025-10-17 18:13:29.181 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:29.471 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:13:29.471 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:13:29.471 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:13:29.472 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:29.472 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:29.472 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:29.473 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:29.473 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:29.473 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:29.476 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:13:29.476 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:29.476 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:13:29.476 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:13:29.476 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:29.476 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:13:29.479 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:13:29.479 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:13:29.480 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:13:29.482 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 18:13:29.484 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:29.486 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:29.486 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:45.411 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:13:45.411 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:13:45.411 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:45.411 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:45.412 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:45.413 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:45.416 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:45.416 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:13:45.416 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:13:45.416 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:13:45.419 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:13:45.421 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 508.00
2025-10-17 18:13:45.423 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:45.427 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:45.460 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:13:45.460 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:45.461 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:45.463 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:13:45.463 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:13:45.471 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:13:45.521 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:13:45.521 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:13:45.523 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:13:45.525 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:13:45.525 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:13:45.527 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:13:45.527 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:13:45.528 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 18:13:45.530 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:14:51.228 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 18:14:51.229 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 18:17:56.172 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30064 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:17:56.174 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:17:56.175 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:17:56.216 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 18:17:56.217 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 18:17:56.721 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:17:56.723 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:17:56.746 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-17 18:17:57.371 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:17:57.378 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:17:57.378 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:17:57.448 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:17:57.449 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1232 ms
2025-10-17 18:17:57.530 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:17:57.882 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 18:17:58.137 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:17:58.468 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:17:58.469 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:17:58.469 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:17:58.470 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:17:58.470 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:17:58.470 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:17:58.470 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:17:58.470 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:17:58.470 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:17:58.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:17:58.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:17:58.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:17:58.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:17:58.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:17:58.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:17:58.471 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:17:58.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:17:58.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:17:58.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:17:58.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:17:58.472 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:17:58.477 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71ebfaf1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4da91aee, org.springframework.security.web.context.SecurityContextPersistenceFilter@fc6ef55, org.springframework.security.web.header.HeaderWriterFilter@7d0776d4, org.springframework.web.filter.CorsFilter@39f49f82, org.springframework.security.web.authentication.logout.LogoutFilter@7af02939, com.yxly.security.JwtAuthenticationFilter@774a0f8d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f5fba1d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64f1e678, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f13ed0b, org.springframework.security.web.session.SessionManagementFilter@1278428a, org.springframework.security.web.access.ExceptionTranslationFilter@2faa00df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6fad798]
2025-10-17 18:17:59.065 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:17:59.112 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:17:59.120 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.25 seconds (JVM running for 3.545)
2025-10-17 18:18:05.428 [http-nio-8080-exec-4] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 18:18:05.429 [http-nio-8080-exec-4] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 18:18:05.430 [http-nio-8080-exec-4] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 18:18:05.442 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:18:05.442 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:18:05.442 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:18:05.442 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:18:05.442 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:18:05.445 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:05.445 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:05.445 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:05.445 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:05.445 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:05.489 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:05.489 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:05.489 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:05.489 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:05.489 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:05.588 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:18:05.588 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:18:05.588 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:18:05.588 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:18:05.588 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:18:05.589 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:18:05.589 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:18:05.589 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:18:05.589 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:18:05.589 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:18:05.613 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:18:05.613 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 508.00
2025-10-17 18:18:05.614 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:18:05.614 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:18:05.620 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:18:05.621 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:18:05.677 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:05.678 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 18:18:05.684 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:05.696 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:05.696 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:05.700 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 9 条记录
2025-10-17 18:18:05.706 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:18:05.717 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:18:05.723 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:18:05.729 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:18:05.736 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:18:05.743 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:18:05.748 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:18:05.754 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:18:05.759 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:18:05.765 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:18:05.766 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 9 条记录，共 9 条
2025-10-17 18:18:05.772 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:11.707 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:18:11.707 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:18:11.707 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:18:11.707 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:18:11.708 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:11.708 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:11.708 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:11.708 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:11.711 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:11.712 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:11.712 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:11.712 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:11.717 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:18:11.717 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:18:11.717 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:18:11.718 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:18:11.718 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:18:11.718 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:18:11.721 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:18:11.722 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:18:11.724 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:18:11.725 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:18:11.725 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:18:11.727 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 508.00
2025-10-17 18:18:11.731 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:11.735 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 18:18:11.737 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:11.742 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:11.744 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:14.921 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:18:14.921 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:18:14.922 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:14.922 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:14.924 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:14.924 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:14.930 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:18:14.930 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:18:14.930 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:18:14.930 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:18:14.936 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:18:14.939 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 508.00
2025-10-17 18:18:14.942 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:14.947 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:15.119 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:18:15.119 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:18:15.119 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:15.119 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:15.123 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:15.123 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:15.128 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:18:15.128 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:18:15.128 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:18:15.128 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:18:15.134 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:18:15.134 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:18:15.139 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 18:18:15.141 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:15.143 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:17.053 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:18:17.053 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:18:17.054 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:17.054 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:17.057 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:17.057 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:17.062 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:18:17.062 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:18:17.062 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:18:17.062 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:18:17.063 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:18:17.065 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:18:17.067 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:18:17.067 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:18:17.081 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:18:17.084 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:17.086 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:22.645 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/4
2025-10-17 18:18:22.646 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:22.650 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:22.653 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/4] with attributes [permitAll]
2025-10-17 18:18:22.654 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/4
2025-10-17 18:18:22.656 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=4
2025-10-17 18:18:22.657 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=4
2025-10-17 18:18:22.662 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:49.020 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 18:18:49.020 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:49.028 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:49.033 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 18:18:49.033 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 18:18:49.099 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=4
2025-10-17 18:18:49.107 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:18:49.113 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=258.00, 原余额=508.00, 新余额=250.00
2025-10-17 18:18:49.116 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:18:49.124 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:18:49.128 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建成功: recordNo=TX1760696329122
2025-10-17 18:18:49.128 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=16, orderNo=YX2025101718184983359, 支付金额=258.00
2025-10-17 18:18:49.130 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:49.555 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:18:49.556 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:49.559 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:49.565 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:18:49.565 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:18:49.570 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:18:49.579 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:18:49.580 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:18:49.585 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:18:49.589 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:18:49.592 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:18:49.596 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:18:49.599 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:18:49.606 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:18:49.610 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:18:49.614 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:18:49.618 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:18:49.622 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:18:49.626 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:49.715 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:18:49.715 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:49.718 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:49.721 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:18:49.722 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:18:49.725 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:18:49.734 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:18:49.734 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:18:49.737 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:18:49.741 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:18:49.746 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:18:49.749 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:18:49.754 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:18:49.757 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:18:49.761 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:18:49.765 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:18:49.767 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:18:49.771 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:18:49.774 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:49.804 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:18:49.805 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:49.805 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:18:49.806 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:18:49.806 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:18:49.806 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:49.808 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:18:49.808 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:49.808 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:18:49.808 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:18:49.818 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:51.977 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:18:51.977 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:18:51.977 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:18:51.977 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:51.977 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:18:51.977 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:51.977 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:51.978 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:18:51.979 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:51.980 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:51.980 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:51.980 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:18:51.987 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:18:51.987 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:18:51.987 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:18:51.988 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:18:51.988 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:18:51.989 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:18:51.989 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:18:51.990 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:18:51.994 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:18:51.994 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:18:51.994 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:18:51.998 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 250.00
2025-10-17 18:18:51.999 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:52.001 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共1条
2025-10-17 18:18:52.003 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:52.003 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:18:52.004 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:04.464 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:19:04.464 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:04.466 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:04.470 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:19:04.470 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:19:04.473 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:19:04.480 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:19:04.480 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:19:04.484 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:19:04.488 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:19:04.491 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:19:04.494 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:19:04.497 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:19:04.501 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:19:04.503 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:19:04.506 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:19:04.509 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:19:04.516 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:19:04.518 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:04.537 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:19:04.538 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:04.539 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:19:04.539 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:19:04.539 [http-nio-8080-exec-7] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:19:04.539 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:04.540 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:19:04.540 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:04.540 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:19:04.540 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:19:04.545 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:04.723 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:19:04.723 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:04.725 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:04.728 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:19:04.728 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:19:04.731 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:19:04.738 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:19:04.739 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:19:04.742 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:19:04.744 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:19:04.749 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:19:04.753 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:19:04.756 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:19:04.760 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:19:04.762 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:19:04.766 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:19:04.769 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:19:04.773 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:19:04.774 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:10.119 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings/16/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88
2025-10-17 18:19:10.120 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:10.122 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:10.124 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings/16/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88] with attributes [permitAll]
2025-10-17 18:19:10.124 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings/16/cancel?reason=%E7%94%A8%E6%88%B7%E4%B8%BB%E5%8A%A8%E5%8F%96%E6%B6%88
2025-10-17 18:19:10.128 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 取消订单: id=16, userId=5, reason=用户主动取消
2025-10-17 18:19:10.131 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:19:10.132 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单退款成功: userId=5, 退款金额=258.00, 原余额=250.00, 新余额=508.00
2025-10-17 18:19:10.134 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:19:10.136 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 退款交易记录创建成功
2025-10-17 18:19:10.138 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:19:10.141 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单取消成功: orderId=16
2025-10-17 18:19:10.144 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:10.466 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:19:10.466 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:10.468 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:10.470 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:19:10.471 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:19:10.474 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:19:10.481 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:19:10.481 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:19:10.485 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:19:10.488 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:19:10.492 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:19:10.495 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:19:10.499 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:19:10.501 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:19:10.504 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:19:10.507 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:19:10.511 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:19:10.514 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:19:10.515 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:10.715 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:19:10.715 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:10.716 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:10.718 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:19:10.719 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:19:10.722 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:19:10.728 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:19:10.728 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:19:10.731 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:19:10.734 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:19:10.737 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:19:10.740 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:19:10.743 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:19:10.747 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:19:10.751 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:19:10.755 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:19:10.759 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:19:10.762 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:19:10.764 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:11.296 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:19:11.296 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:11.298 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:11.301 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:19:11.301 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:19:11.310 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 508.00
2025-10-17 18:19:11.312 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:11.599 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:19:11.599 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:19:11.599 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:11.599 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:19:11.599 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:11.600 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:11.602 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:11.602 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:11.602 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:11.605 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:19:11.605 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:19:11.606 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:19:11.606 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:19:11.606 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:19:11.606 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:19:11.610 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:19:11.610 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:19:11.610 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:19:11.615 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共2条
2025-10-17 18:19:11.617 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:11.617 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:11.617 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:27.488 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:19:27.488 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:19:27.489 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:27.489 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:27.492 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:27.492 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:27.495 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:19:27.495 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:19:27.495 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:19:27.495 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:19:27.496 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:19:27.496 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:19:27.496 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:19:27.497 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:19:27.501 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:27.502 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:19:27.504 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:28.495 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 18:19:28.496 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:28.500 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:28.505 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 18:19:28.505 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 18:19:28.505 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 18:19:28.506 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 18:19:28.510 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:41.549 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 18:19:41.550 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:41.552 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:41.554 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 18:19:41.554 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 18:19:41.558 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 18:19:41.560 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:19:41.562 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=508.00, 新余额=410.00
2025-10-17 18:19:41.563 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:19:41.566 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:19:41.567 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建成功: recordNo=TX1760696381566
2025-10-17 18:19:41.568 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=17, orderNo=YX2025101718194114722, 支付金额=98.00
2025-10-17 18:19:41.570 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:41.800 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:19:41.800 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:41.802 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:41.804 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:19:41.804 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:19:41.808 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:19:41.814 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:19:41.814 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:19:41.817 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:19:41.821 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:19:41.823 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:19:41.826 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:19:41.828 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:19:41.831 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:19:41.834 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:19:41.838 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:19:41.841 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:19:41.844 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:19:41.846 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:41.925 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:19:41.925 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:41.928 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:19:41.929 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:41.929 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:19:41.929 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:41.929 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:19:41.929 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:19:41.930 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:41.930 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:19:41.930 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:41.930 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:19:41.930 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:19:41.933 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:19:41.933 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:41.933 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:19:41.936 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:19:41.942 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 11 条记录
2025-10-17 18:19:41.943 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:19:41.945 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:19:41.948 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:19:41.950 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:19:41.952 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:19:41.956 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:19:41.957 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:19:41.959 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:19:41.962 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:19:41.965 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:19:41.968 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:19:41.971 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:19:41.972 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:43.364 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:19:43.364 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:19:43.366 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:43.366 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:43.367 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:43.367 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:43.370 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:19:43.370 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:19:43.370 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:19:43.370 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:19:43.374 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:19:43.378 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 410.00
2025-10-17 18:19:43.379 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:43.382 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:43.682 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:19:43.682 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:19:43.682 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:43.682 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:43.688 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:43.688 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:43.692 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:19:43.692 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:19:43.692 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:19:43.692 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:19:43.697 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:19:43.698 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:19:43.706 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共3条
2025-10-17 18:19:43.708 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:43.712 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:46.956 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 18:19:46.957 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:46.958 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:46.962 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 18:19:46.962 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 18:19:46.965 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 18:19:46.978 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:47.570 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:19:47.570 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:47.572 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:47.575 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:19:47.575 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:19:47.576 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:19:47.576 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:19:47.585 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:19:47.585 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:19:47.589 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:19:47.592 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:19:47.596 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:19:47.599 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:19:47.602 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:19:47.604 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:19:47.609 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:19:47.610 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:19:47.614 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:19:47.617 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:19:47.617 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 11 条
2025-10-17 18:19:47.619 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:52.404 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/17/confirm
2025-10-17 18:19:52.404 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:52.406 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:52.409 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/17/confirm] with attributes [permitAll]
2025-10-17 18:19:52.409 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/17/confirm
2025-10-17 18:19:52.410 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员确认订单: id=17
2025-10-17 18:19:52.411 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单: id=17
2025-10-17 18:19:52.413 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:19:52.418 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:19:52.420 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单确认成功，已创建消费交易记录: orderId=17, amount=98.00
2025-10-17 18:19:52.420 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单成功: orderId=17
2025-10-17 18:19:52.422 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:52.429 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:19:52.429 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:52.430 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:52.432 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:19:52.432 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:19:52.434 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:19:52.434 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:19:52.440 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:19:52.440 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:19:52.444 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:19:52.446 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:19:52.449 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:19:52.452 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:19:52.453 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:19:52.456 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:19:52.462 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:19:52.465 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:19:52.468 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:19:52.470 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:19:52.470 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 11 条
2025-10-17 18:19:52.471 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:57.738 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:19:57.738 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:19:57.739 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:57.739 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:19:57.741 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:57.741 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:19:57.749 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:19:57.749 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:19:57.749 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:19:57.749 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:19:57.750 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:19:57.751 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:19:57.751 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:19:57.751 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:19:57.761 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:19:57.763 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:19:57.764 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:00.275 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:20:00.275 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:00.277 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:00.282 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:20:00.282 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:20:00.287 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:20:00.294 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:20:00.294 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:20:00.298 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:20:00.300 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:20:00.302 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:20:00.305 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:20:00.308 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:20:00.311 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:20:00.313 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:20:00.316 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:20:00.317 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:20:00.319 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:20:00.321 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:00.590 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:20:00.590 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:00.593 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:00.596 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:20:00.597 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:20:00.599 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:20:00.606 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 11 条记录
2025-10-17 18:20:00.606 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:20:00.610 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:20:00.614 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:20:00.617 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:20:00.621 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:20:00.625 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:20:00.628 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:20:00.632 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:20:00.635 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:20:00.639 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:20:00.642 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:20:00.645 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:20:00.646 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:00.651 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:20:00.651 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:00.651 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:20:00.652 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:20:00.652 [http-nio-8080-exec-3] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:20:00.652 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:00.652 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:20:00.652 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:00.652 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:20:00.652 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:20:00.655 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:07.694 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:20:07.694 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:07.696 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:07.699 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:20:07.699 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:20:07.705 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 410.00
2025-10-17 18:20:07.706 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:08.003 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:20:08.003 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:20:08.003 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:20:08.003 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:08.003 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:08.003 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:08.006 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:08.006 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:08.007 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:08.009 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:20:08.009 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:20:08.009 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:20:08.009 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:20:08.009 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:20:08.009 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:20:08.012 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:20:08.013 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:20:08.013 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:20:08.019 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共4条
2025-10-17 18:20:08.020 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:08.021 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:08.023 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:08.333 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:20:08.333 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:08.336 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:08.339 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:20:08.339 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:20:08.342 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:20:08.348 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:20:08.348 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:20:08.351 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:20:08.353 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:20:08.355 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:20:08.358 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:20:08.360 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:20:08.362 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:20:08.365 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:20:08.367 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:20:08.370 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:20:08.372 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:20:08.373 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:08.639 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:20:08.640 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:08.642 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:08.645 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:20:08.645 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:20:08.646 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:20:08.652 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 11 条记录
2025-10-17 18:20:08.652 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:20:08.655 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:20:08.657 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:20:08.659 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:20:08.662 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:20:08.665 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:20:08.668 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:20:08.671 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:20:08.675 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:20:08.677 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:20:08.680 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:20:08.682 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:20:08.684 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:08.698 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:20:08.699 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:08.699 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:20:08.700 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:20:08.700 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:20:08.700 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:08.700 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:20:08.700 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:08.700 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:20:08.700 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:20:08.702 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:08.995 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:20:08.995 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:08.997 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:08.999 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:20:08.999 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:20:09.004 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 410.00
2025-10-17 18:20:09.005 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:09.301 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:20:09.302 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:09.302 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:20:09.302 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:20:09.302 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:09.303 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:20:09.304 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:09.304 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:09.305 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:20:09.307 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:20:09.307 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:20:09.307 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:20:09.307 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:20:09.307 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:20:09.307 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:20:09.311 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:20:09.311 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:20:09.311 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:20:09.317 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:09.317 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:20:09.318 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共4条
2025-10-17 18:20:09.320 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:23.860 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:25:23.860 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:25:23.860 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:23.860 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:23.862 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:23.862 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:23.873 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:25:23.873 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:25:23.873 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:25:23.873 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:25:23.874 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:25:23.874 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:25:23.874 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:25:23.874 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:25:23.878 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:23.879 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:25:23.880 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:25.800 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 18:25:25.800 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:25.804 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:25.810 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 18:25:25.810 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 18:25:25.811 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 18:25:25.811 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 18:25:25.816 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:56.884 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 18:25:56.884 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:56.886 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:56.890 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 18:25:56.890 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 18:25:56.896 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 18:25:56.901 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:25:56.903 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=410.00, 新余额=312.00
2025-10-17 18:25:56.904 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:25:56.907 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:25:56.909 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 交易记录创建成功: recordNo=TX1760696756907
2025-10-17 18:25:56.909 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=18, orderNo=YX2025101718255620553, 支付金额=98.00
2025-10-17 18:25:56.912 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:57.149 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:25:57.150 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:57.151 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:57.155 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:25:57.155 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:25:57.159 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:25:57.165 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:25:57.166 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:25:57.169 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:25:57.171 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:25:57.174 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:25:57.176 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:25:57.180 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:25:57.184 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:25:57.188 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:25:57.191 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:25:57.194 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:25:57.197 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:25:57.198 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:57.260 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:25:57.261 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:57.262 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:25:57.262 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:57.262 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:25:57.262 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:57.262 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:25:57.262 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:25:57.262 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:57.263 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:25:57.263 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:57.263 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:25:57.263 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:25:57.264 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:57.265 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:25:57.265 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:25:57.269 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:25:57.275 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 12 条记录
2025-10-17 18:25:57.275 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:25:57.278 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:25:57.280 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:25:57.284 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:25:57.287 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:25:57.290 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:25:57.293 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:25:57.296 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:25:57.299 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:25:57.302 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:25:57.306 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:25:57.309 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:25:57.311 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:25:57.312 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:59.171 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:25:59.171 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:25:59.171 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:59.171 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:59.178 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:59.178 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:59.182 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:25:59.182 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:25:59.182 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:25:59.184 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:25:59.189 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:25:59.191 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 312.00
2025-10-17 18:25:59.193 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:59.196 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:59.478 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:25:59.478 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:25:59.478 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:59.478 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:25:59.479 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:59.480 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:25:59.484 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:25:59.484 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:25:59.485 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:25:59.485 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:25:59.488 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:25:59.488 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:25:59.493 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共5条
2025-10-17 18:25:59.493 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:25:59.495 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:26:24.180 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:26:24.181 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:26:24.182 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:26:24.186 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:26:24.186 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:26:24.187 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:26:24.187 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:26:24.196 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:26:24.197 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:26:24.200 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:26:24.203 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:26:24.206 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:26:24.208 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:26:24.211 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:26:24.213 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:26:24.217 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:26:24.219 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:26:24.222 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:26:24.224 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:26:24.224 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 12 条
2025-10-17 18:26:24.225 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:26:31.655 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/18/confirm
2025-10-17 18:26:31.655 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:26:31.658 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:26:31.660 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/18/confirm] with attributes [permitAll]
2025-10-17 18:26:31.660 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/18/confirm
2025-10-17 18:26:31.661 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 管理员确认订单: id=18
2025-10-17 18:26:31.662 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单: id=18
2025-10-17 18:26:31.664 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:26:31.668 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:26:31.671 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单确认成功，已创建消费交易记录: orderId=18, amount=98.00
2025-10-17 18:26:31.671 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单成功: orderId=18
2025-10-17 18:26:31.672 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:26:31.680 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:26:31.680 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:26:31.681 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:26:31.685 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:26:31.685 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:26:31.685 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:26:31.685 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:26:31.699 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:26:31.700 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:26:31.705 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:26:31.709 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:26:31.714 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:26:31.719 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:26:31.723 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:26:31.728 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:26:31.732 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:26:31.737 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:26:31.740 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:26:31.743 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:26:31.743 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 12 条
2025-10-17 18:26:31.745 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:26:42.112 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:26:42.112 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:26:42.113 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:26:42.113 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:26:42.114 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:26:42.115 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:26:42.119 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:26:42.119 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:26:42.119 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:26:42.119 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:26:42.123 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:26:42.126 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 312.00
2025-10-17 18:26:42.127 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:26:42.131 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:26:42.214 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:26:42.214 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:26:42.214 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:26:42.214 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:26:42.217 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:26:42.217 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:26:42.219 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:26:42.219 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:26:42.219 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:26:42.219 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:26:42.223 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:26:42.223 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:26:42.228 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共6条
2025-10-17 18:26:42.229 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:26:42.229 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:31:48.765 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:31:48.781 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:31:48.782 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 18:31:48.795 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-446038930] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:31:48.796 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-446038930] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:31:48.807 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 18:31:48.811 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 18:31:48.881 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30064 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:31:48.882 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:31:48.882 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:31:49.034 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:31:49.034 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:31:49.040 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 18:31:49.143 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:31:49.143 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:31:49.144 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:31:49.162 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:31:49.162 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 279 ms
2025-10-17 18:31:49.192 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:31:49.288 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 18:31:49.353 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:31:49.484 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:31:49.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:31:49.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:31:49.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:31:49.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:31:49.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:31:49.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:31:49.485 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:31:49.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:31:49.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:31:49.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:31:49.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:31:49.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:31:49.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:31:49.486 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:31:49.487 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:31:49.487 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:31:49.487 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:31:49.487 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:31:49.487 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:31:49.487 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:31:49.491 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5dcee0ce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3eed7afc, org.springframework.security.web.context.SecurityContextPersistenceFilter@4fc56ac7, org.springframework.security.web.header.HeaderWriterFilter@596dadc2, org.springframework.web.filter.CorsFilter@5f58dc5c, org.springframework.security.web.authentication.logout.LogoutFilter@6d065688, com.yxly.security.JwtAuthenticationFilter@427081f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ae6183b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ed1bf18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6eadc395, org.springframework.security.web.session.SessionManagementFilter@285be190, org.springframework.security.web.access.ExceptionTranslationFilter@650c0549, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f47c072]
2025-10-17 18:31:49.681 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:31:49.713 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:31:49.716 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.864 seconds (JVM running for 834.141)
2025-10-17 18:31:49.717 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:32:03.440 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:32:03.452 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:32:03.453 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1284093641] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:32:03.455 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1284093641] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:32:03.458 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 18:32:03.460 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 18:32:03.517 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30064 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:32:03.518 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:32:03.518 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:32:03.638 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:32:03.638 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:32:03.643 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 18:32:03.765 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:32:03.765 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:32:03.765 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:32:03.781 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:32:03.782 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 263 ms
2025-10-17 18:32:03.808 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:32:03.886 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 18:32:03.960 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:32:04.085 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:32:04.085 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:32:04.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:32:04.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:32:04.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:32:04.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:32:04.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:32:04.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:32:04.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:32:04.086 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:32:04.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:32:04.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:32:04.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:32:04.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:32:04.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:32:04.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:32:04.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:32:04.087 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:32:04.088 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:32:04.088 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:32:04.088 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:32:04.090 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a4a5b04, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bca89f6, org.springframework.security.web.context.SecurityContextPersistenceFilter@1744144f, org.springframework.security.web.header.HeaderWriterFilter@75fbf620, org.springframework.web.filter.CorsFilter@6b94dcc8, org.springframework.security.web.authentication.logout.LogoutFilter@39b9801, com.yxly.security.JwtAuthenticationFilter@4f434d65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16404245, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c20ec5b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e8d6b4e, org.springframework.security.web.session.SessionManagementFilter@664dc5e9, org.springframework.security.web.access.ExceptionTranslationFilter@43c859a3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@702ea642]
2025-10-17 18:32:04.254 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:32:04.280 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:32:04.282 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.786 seconds (JVM running for 848.708)
2025-10-17 18:32:04.285 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:32:15.965 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:32:15.980 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:32:15.982 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1126008252] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:32:15.983 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1126008252] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:32:15.986 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 18:32:15.989 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 18:32:16.056 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30064 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:32:16.057 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:32:16.057 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:32:16.187 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:32:16.188 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:32:16.193 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 18:32:16.281 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:32:16.282 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:32:16.282 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:32:16.308 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:32:16.308 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 250 ms
2025-10-17 18:32:16.336 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:32:16.414 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 18:32:16.477 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:32:16.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:32:16.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:32:16.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:32:16.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:32:16.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:32:16.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:32:16.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:32:16.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:32:16.595 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:32:16.595 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:32:16.595 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:32:16.597 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54961053, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b68aef3, org.springframework.security.web.context.SecurityContextPersistenceFilter@2456a6d8, org.springframework.security.web.header.HeaderWriterFilter@1b545384, org.springframework.web.filter.CorsFilter@70adaf85, org.springframework.security.web.authentication.logout.LogoutFilter@2b98e099, com.yxly.security.JwtAuthenticationFilter@2fb3a8c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2116f7d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18e75806, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@de822a2, org.springframework.security.web.session.SessionManagementFilter@7b9b36f6, org.springframework.security.web.access.ExceptionTranslationFilter@2d051811, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7aa0e319]
2025-10-17 18:32:16.759 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:32:16.785 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:32:16.788 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.756 seconds (JVM running for 861.213)
2025-10-17 18:32:16.790 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:32:34.631 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:32:34.644 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:32:34.646 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1883194799] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:32:34.646 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1883194799] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:32:34.649 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 18:32:34.651 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 18:32:34.710 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30064 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:32:34.711 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:32:34.711 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:32:34.838 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:32:34.838 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:32:34.844 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 18:32:34.949 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:32:34.949 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:32:34.949 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:32:34.966 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:32:34.966 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 254 ms
2025-10-17 18:32:34.993 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:32:35.070 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-17 18:32:35.127 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:32:35.255 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:32:35.255 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:32:35.256 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:32:35.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:32:35.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:32:35.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:32:35.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:32:35.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:32:35.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:32:35.257 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:32:35.258 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@76c4af74, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e398394, org.springframework.security.web.context.SecurityContextPersistenceFilter@56b3c32f, org.springframework.security.web.header.HeaderWriterFilter@31f6c15, org.springframework.web.filter.CorsFilter@736cb5d8, org.springframework.security.web.authentication.logout.LogoutFilter@7afa6be6, com.yxly.security.JwtAuthenticationFilter@21e7a4c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@147f7815, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cf8d14b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3dce14cf, org.springframework.security.web.session.SessionManagementFilter@308dd66b, org.springframework.security.web.access.ExceptionTranslationFilter@433037c3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42b19ba9]
2025-10-17 18:32:35.416 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:32:35.438 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:32:35.440 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.75 seconds (JVM running for 879.865)
2025-10-17 18:32:35.441 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:32:50.200 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:32:50.214 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:32:50.215 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1425014941] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:32:50.216 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1425014941] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:32:50.220 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-17 18:32:50.221 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-17 18:32:50.284 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 30064 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:32:50.284 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:32:50.284 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:32:50.407 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:32:50.407 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:32:50.413 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 18:32:50.495 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:32:50.496 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:32:50.496 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:32:50.513 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:32:50.513 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 228 ms
2025-10-17 18:32:50.543 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:32:50.615 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-17 18:32:50.675 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:32:50.779 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:32:50.779 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:32:50.780 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:32:50.781 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:32:50.781 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:32:50.781 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:32:50.781 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:32:50.781 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:32:50.781 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:32:50.782 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:32:50.782 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:32:50.782 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:32:50.784 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@327a4bcc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e09ef6e, org.springframework.security.web.context.SecurityContextPersistenceFilter@11d3d44e, org.springframework.security.web.header.HeaderWriterFilter@7168de9, org.springframework.web.filter.CorsFilter@5e10a23a, org.springframework.security.web.authentication.logout.LogoutFilter@3dcd8763, com.yxly.security.JwtAuthenticationFilter@6a5b9e6a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33613cdd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b969d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cc04bf3, org.springframework.security.web.session.SessionManagementFilter@6a2b102f, org.springframework.security.web.access.ExceptionTranslationFilter@110672c3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2022580b]
2025-10-17 18:32:50.938 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:32:50.959 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:32:50.962 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.696 seconds (JVM running for 895.386)
2025-10-17 18:32:50.962 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:34:09.342 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-17 18:34:09.344 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-17 18:34:20.205 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 20952 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:34:20.207 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:34:20.207 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:34:20.251 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 18:34:20.251 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 18:34:20.790 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:34:20.791 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:34:20.812 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-17 18:34:21.482 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:34:21.490 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:34:21.491 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:34:21.568 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:34:21.568 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1317 ms
2025-10-17 18:34:21.647 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:34:22.020 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 18:34:22.304 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:34:22.668 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:34:22.668 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:34:22.669 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:34:22.669 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:34:22.669 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:34:22.669 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:34:22.669 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:34:22.669 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:34:22.669 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:34:22.669 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:34:22.669 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:34:22.670 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:34:22.670 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:34:22.670 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:34:22.670 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:34:22.670 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:34:22.671 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:34:22.671 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:34:22.671 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:34:22.672 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:34:22.672 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:34:22.677 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c6e1b2f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45aac3b8, org.springframework.security.web.context.SecurityContextPersistenceFilter@57126877, org.springframework.security.web.header.HeaderWriterFilter@59ef582f, org.springframework.web.filter.CorsFilter@3f175716, org.springframework.security.web.authentication.logout.LogoutFilter@74bd902c, com.yxly.security.JwtAuthenticationFilter@3028caed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cc6377b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@178d1c71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44ed12de, org.springframework.security.web.session.SessionManagementFilter@3dc4c47e, org.springframework.security.web.access.ExceptionTranslationFilter@1e174067, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56a9be34]
2025-10-17 18:34:23.279 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:34:23.325 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:34:23.334 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.449 seconds (JVM running for 3.762)
2025-10-17 18:34:59.794 [http-nio-8080-exec-3] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 18:34:59.795 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 18:34:59.796 [http-nio-8080-exec-3] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 18:34:59.808 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:34:59.808 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:34:59.811 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:34:59.811 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:34:59.875 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:34:59.875 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:34:59.975 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:34:59.975 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:34:59.976 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:34:59.976 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:34:59.990 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:34:59.996 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:34:59.998 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:34:59.998 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:35:00.065 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:35:00.068 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:00.069 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:05.049 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:35:05.049 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:35:05.049 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:05.049 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:05.050 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:35:05.050 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:35:05.050 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:05.050 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:05.053 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:05.053 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:05.053 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:05.053 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:05.059 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:35:05.059 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:35:05.059 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:35:05.061 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:35:05.061 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:35:05.061 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:35:05.062 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:35:05.062 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:35:05.071 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:35:05.071 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:35:05.076 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 312.00
2025-10-17 18:35:05.076 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:35:05.079 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:05.093 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:05.095 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共6条
2025-10-17 18:35:05.097 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:05.101 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:14.760 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:35:14.761 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:14.766 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:14.774 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:35:14.776 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:35:14.776 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:35:14.777 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:35:14.783 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:15.064 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:35:15.066 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:15.069 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:15.076 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:35:15.077 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:35:15.078 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:35:15.078 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:35:15.088 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:35:15.091 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:16.270 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 18:35:16.270 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:16.273 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:16.276 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 18:35:16.277 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 18:35:16.279 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 18:35:16.279 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 18:35:16.283 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:34.441 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 18:35:34.442 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:34.447 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:34.451 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 18:35:34.452 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 18:35:34.526 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 18:35:34.536 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:35:34.542 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=312.00, 新余额=214.00
2025-10-17 18:35:34.547 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:35:34.551 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=19, orderNo=YX2025101718353417883, 支付金额=98.00，等待管理员确认后创建消费记录
2025-10-17 18:35:34.556 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:34.724 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:35:34.725 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:34.729 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:34.736 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:35:34.736 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:35:34.741 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:35:34.749 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:35:34.754 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:35:34.758 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:35:34.763 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:35:34.766 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:35:34.772 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:35:34.776 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:35:34.781 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:35:34.784 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:35:34.788 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:35:34.792 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:35:34.796 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:35:34.799 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:34.832 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:35:34.832 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:35:34.833 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:34.833 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:34.833 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:35:34.833 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:35:34.834 [http-nio-8080-exec-3] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:35:34.834 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:34.835 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:34.836 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:35:34.836 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:34.836 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:35:34.837 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:35:34.845 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:35:34.846 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:35:34.852 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:35:34.856 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:34.862 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 13 条记录
2025-10-17 18:35:34.862 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:35:34.868 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:35:34.872 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:35:34.876 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:35:34.881 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:35:34.889 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:35:34.894 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:35:34.899 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:35:34.910 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:35:34.918 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:35:34.926 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:35:34.933 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:35:34.940 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:35:34.946 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:35:34.953 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:37.781 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:35:37.781 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:35:37.782 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:37.782 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:37.784 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:37.784 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:37.788 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:35:37.788 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:35:37.788 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:35:37.788 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:35:37.793 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:35:37.796 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 214.00
2025-10-17 18:35:37.798 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:37.802 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:38.087 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:35:38.087 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:35:38.087 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:38.087 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:38.090 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:38.090 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:38.093 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:35:38.093 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:35:38.093 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:35:38.095 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:35:38.100 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:35:38.101 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:35:38.110 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共6条
2025-10-17 18:35:38.111 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:38.114 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:45.509 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:35:45.509 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:35:45.509 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:45.509 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:45.511 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:45.511 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:45.516 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:35:45.516 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:35:45.516 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:35:45.516 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:35:45.521 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:35:45.524 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 214.00
2025-10-17 18:35:45.526 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:45.530 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:45.637 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:35:45.637 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:45.638 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:45.642 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:35:45.642 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:35:45.654 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:35:45.699 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:35:45.699 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:35:45.702 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:35:45.705 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:35:45.705 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:35:45.709 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:35:45.709 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:35:45.717 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共6条
2025-10-17 18:35:45.719 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:02.236 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:36:02.236 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:02.239 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:02.245 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:36:02.245 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:36:02.251 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:36:02.251 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:36:02.262 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:36:02.263 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:36:02.268 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:36:02.273 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:36:02.278 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:36:02.283 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:36:02.287 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:36:02.292 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:36:02.297 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:36:02.301 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:36:02.305 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:36:02.310 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:36:02.310 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 13 条
2025-10-17 18:36:02.311 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:08.493 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/19/cancel?reason=%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%96%E6%B6%88
2025-10-17 18:36:08.493 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:08.497 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:08.503 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/19/cancel?reason=%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%96%E6%B6%88] with attributes [permitAll]
2025-10-17 18:36:08.503 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/19/cancel?reason=%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%96%E6%B6%88
2025-10-17 18:36:08.505 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员取消订单: id=19, reason=管理员取消
2025-10-17 18:36:08.506 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员取消订单: id=19, reason=管理员取消
2025-10-17 18:36:08.510 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:36:08.512 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员取消订单退款成功: userId=5, 退款金额=98.00, 原余额=214.00, 新余额=312.00
2025-10-17 18:36:08.513 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:36:08.514 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 退款交易记录创建成功: recordNo=YX2025101718353417883-R
2025-10-17 18:36:08.518 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:36:08.520 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员取消订单成功: orderId=19, 状态设置为被取消(6)
2025-10-17 18:36:08.524 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:08.532 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:36:08.532 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:08.536 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:08.540 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:36:08.540 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:36:08.540 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:36:08.540 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:36:08.547 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:36:08.547 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:36:08.552 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:36:08.556 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:36:08.560 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:36:08.564 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:36:08.567 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:36:08.570 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:36:08.573 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:36:08.577 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:36:08.584 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:36:08.587 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:36:08.587 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 13 条
2025-10-17 18:36:08.589 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:11.638 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:36:11.638 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:36:11.638 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:11.638 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:11.641 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:11.641 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:11.645 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:36:11.645 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:36:11.645 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:36:11.645 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:36:11.648 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:36:11.650 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 312.00
2025-10-17 18:36:11.653 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:11.657 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:11.837 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:36:11.837 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:36:11.837 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:11.837 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:11.838 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:11.838 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:11.841 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:36:11.841 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:36:11.841 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:36:11.841 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:36:11.845 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:36:11.845 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:36:11.852 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共7条
2025-10-17 18:36:11.852 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:11.853 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:18.923 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:36:18.923 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:36:18.923 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:18.923 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:18.926 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:18.926 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:18.932 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:36:18.932 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:36:18.932 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:36:18.932 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:36:18.933 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:36:18.933 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:36:18.933 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:36:18.934 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:36:18.946 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:18.946 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:36:18.951 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:20.771 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 18:36:20.771 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:20.774 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:20.777 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 18:36:20.777 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 18:36:20.777 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 18:36:20.778 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 18:36:20.782 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:40.843 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 18:36:40.844 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:40.845 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:40.848 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 18:36:40.848 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 18:36:40.851 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 18:36:40.855 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:36:40.856 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=312.00, 新余额=214.00
2025-10-17 18:36:40.856 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:36:40.861 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=20, orderNo=YX2025101718364050840, 支付金额=98.00，等待管理员确认后创建消费记录
2025-10-17 18:36:40.864 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:41.146 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:36:41.147 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:41.153 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:41.158 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:36:41.158 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:36:41.162 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:36:41.170 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:36:41.170 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:36:41.172 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:36:41.176 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:36:41.181 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:36:41.184 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:36:41.187 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:36:41.189 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:36:41.193 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:36:41.195 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:36:41.199 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:36:41.203 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:36:41.203 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:41.222 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:36:41.223 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:41.223 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:36:41.223 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:36:41.223 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:36:41.223 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:41.224 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:36:41.224 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:41.224 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:36:41.224 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:36:41.225 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:41.418 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:36:41.418 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:41.420 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:41.424 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:36:41.424 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:36:41.428 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:36:41.437 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 14 条记录
2025-10-17 18:36:41.437 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:36:41.442 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:36:41.447 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:36:41.452 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:36:41.457 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:36:41.463 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:36:41.468 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:36:41.474 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:36:41.478 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:36:41.482 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:36:41.487 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:36:41.491 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:36:41.495 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:36:41.498 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:36:41.502 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:36:41.503 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:45.781 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:36:45.781 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:45.783 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:45.789 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:36:45.789 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:36:45.790 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:36:45.790 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:36:45.800 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:36:45.800 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:36:45.805 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:36:45.810 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:36:45.814 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:36:45.819 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:36:45.823 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:36:45.826 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:36:45.831 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:36:45.833 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:36:45.837 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:36:45.841 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:36:45.841 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 14 条
2025-10-17 18:36:45.842 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:48.676 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/20/confirm
2025-10-17 18:36:48.676 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:48.678 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:48.680 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/20/confirm] with attributes [permitAll]
2025-10-17 18:36:48.680 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/20/confirm
2025-10-17 18:36:48.681 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 管理员确认订单: id=20
2025-10-17 18:36:48.681 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单: id=20
2025-10-17 18:36:48.684 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:36:48.689 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:36:48.691 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单确认成功，已创建消费交易记录: orderId=20, amount=98.00
2025-10-17 18:36:48.691 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单成功: orderId=20
2025-10-17 18:36:48.693 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:48.701 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:36:48.701 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:48.702 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:48.705 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:36:48.705 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:36:48.706 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:36:48.707 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:36:48.713 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:36:48.713 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:36:48.717 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:36:48.721 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:36:48.724 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:36:48.728 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:36:48.732 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:36:48.735 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:36:48.740 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:36:48.743 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:36:48.746 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:36:48.748 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:36:48.749 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 14 条
2025-10-17 18:36:48.750 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:54.126 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:36:54.127 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:54.127 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:36:54.127 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:54.129 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:54.129 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:54.132 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:36:54.132 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:36:54.132 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:36:54.132 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:36:54.141 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:36:54.144 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 214.00
2025-10-17 18:36:54.146 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:54.149 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:54.431 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:36:54.431 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:36:54.431 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:54.431 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:54.433 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:54.433 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:54.436 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:36:54.436 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:36:54.436 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:36:54.436 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:36:54.439 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:36:54.440 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:36:54.447 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共8条
2025-10-17 18:36:54.447 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:54.448 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:56.608 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:36:56.608 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:56.610 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:56.613 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:36:56.613 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:36:56.617 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 214.00
2025-10-17 18:36:56.619 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:56.776 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:36:56.776 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:56.778 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:56.781 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:36:56.781 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:36:56.784 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:36:56.790 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:56.795 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:36:56.795 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:36:56.795 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:56.795 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:36:56.797 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:56.797 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:36:56.800 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:36:56.800 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:36:56.800 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:36:56.800 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:36:56.802 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:36:56.802 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:36:56.810 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共8条
2025-10-17 18:36:56.811 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:36:56.813 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:37:27.990 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:37:27.991 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:37:27.993 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:37:27.996 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:37:27.997 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:37:28.000 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:37:28.005 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:37:28.006 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:37:28.009 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:37:28.012 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:37:28.014 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:37:28.017 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:37:28.020 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:37:28.025 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:37:28.027 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:37:28.031 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:37:28.033 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:37:28.036 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:37:28.037 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:37:28.059 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:37:28.059 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:37:28.060 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:37:28.060 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:37:28.060 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:37:28.060 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:37:28.061 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:37:28.061 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:37:28.061 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:37:28.061 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:37:28.063 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:37:28.260 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:37:28.261 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:37:28.262 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:37:28.265 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:37:28.265 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:37:28.268 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:37:28.275 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 14 条记录
2025-10-17 18:37:28.276 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:37:28.280 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:37:28.284 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:37:28.287 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:37:28.291 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:37:28.295 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:37:28.298 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:37:28.302 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:37:28.305 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:37:28.309 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:37:28.312 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:37:28.316 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:37:28.320 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:37:28.323 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:37:28.327 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:37:28.328 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:37:31.197 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 18:37:31.197 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:37:31.199 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:37:31.201 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10&status=2] with attributes [permitAll]
2025-10-17 18:37:31.201 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10&status=2
2025-10-17 18:37:31.204 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=2
2025-10-17 18:37:31.208 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 7 条记录
2025-10-17 18:37:31.209 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:37:31.212 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:37:31.214 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:37:31.218 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:37:31.220 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:37:31.222 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:37:31.225 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:37:31.227 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:37:31.229 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:37:31.237 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:37:31.237 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:37:31.239 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:37:31.241 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:37:31.241 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:37:31.243 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:37:31.250 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 14 条记录
2025-10-17 18:37:31.250 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:37:31.253 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:37:31.254 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:37:31.257 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:37:31.260 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:37:31.262 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:37:31.264 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:37:31.266 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:37:31.268 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:37:31.271 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:37:31.274 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:37:31.276 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:37:31.278 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:37:31.280 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:37:31.282 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:37:31.284 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:40:33.315 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:40:33.329 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:40:33.331 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-17 18:40:33.341 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-29615701] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:40:33.342 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-29615701] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:40:33.356 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 18:40:33.360 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 18:40:33.452 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 20952 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:40:33.452 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:40:33.452 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:40:33.655 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:40:33.655 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:40:33.662 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 18:40:33.779 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:40:33.780 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:40:33.780 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:40:33.806 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:40:33.806 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 352 ms
2025-10-17 18:40:33.843 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:40:33.954 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-17 18:40:34.035 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:40:34.284 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:40:34.284 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:40:34.284 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:40:34.285 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:40:34.285 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:40:34.285 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:40:34.285 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:40:34.285 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:40:34.285 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:40:34.285 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:40:34.286 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:40:34.286 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:40:34.286 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:40:34.286 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:40:34.286 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:40:34.286 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:40:34.286 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:40:34.287 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:40:34.287 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:40:34.287 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:40:34.287 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:40:34.289 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6244e342, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e5c50e, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a2bfe5c, org.springframework.security.web.header.HeaderWriterFilter@35aab60c, org.springframework.web.filter.CorsFilter@312ce66c, org.springframework.security.web.authentication.logout.LogoutFilter@591b5c11, com.yxly.security.JwtAuthenticationFilter@740cee36, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@562c04eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36d6c2f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dd45d5c, org.springframework.security.web.session.SessionManagementFilter@14567ca, org.springframework.security.web.access.ExceptionTranslationFilter@21dda2d0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22d9d9ac]
2025-10-17 18:40:34.525 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:40:34.561 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:40:34.564 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 1.156 seconds (JVM running for 374.992)
2025-10-17 18:40:34.565 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:40:55.534 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:40:55.546 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:40:55.549 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1563290980] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:40:55.549 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1563290980] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:40:55.553 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-17 18:40:55.556 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-17 18:40:55.608 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 20952 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:40:55.609 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:40:55.609 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:40:55.729 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:40:55.729 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:40:55.736 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-17 18:40:55.821 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:40:55.822 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:40:55.822 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:40:55.840 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:40:55.841 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 231 ms
2025-10-17 18:40:55.867 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:40:55.944 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-17 18:40:56.006 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:40:56.138 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:40:56.138 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:40:56.139 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:40:56.140 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:40:56.140 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:40:56.140 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:40:56.140 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:40:56.140 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:40:56.140 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:40:56.140 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:40:56.140 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:40:56.140 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:40:56.142 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7962a2ac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d40fadf, org.springframework.security.web.context.SecurityContextPersistenceFilter@32664221, org.springframework.security.web.header.HeaderWriterFilter@45466469, org.springframework.web.filter.CorsFilter@277b2777, org.springframework.security.web.authentication.logout.LogoutFilter@5b669df8, com.yxly.security.JwtAuthenticationFilter@3cf19095, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21072e73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57147316, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@592b6c29, org.springframework.security.web.session.SessionManagementFilter@15533b4e, org.springframework.security.web.access.ExceptionTranslationFilter@26b6a886, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7da071c0]
2025-10-17 18:40:56.313 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:40:56.345 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:40:56.351 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.762 seconds (JVM running for 396.779)
2025-10-17 18:40:56.353 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:41:21.317 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-17 18:41:21.331 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-17 18:41:21.332 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1325229165] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-17 18:41:21.333 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1325229165] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-17 18:41:21.336 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-17 18:41:21.338 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-17 18:41:21.396 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 20952 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:41:21.396 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:41:21.396 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:41:21.517 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:41:21.517 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:41:21.522 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-10-17 18:41:21.618 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:41:21.619 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:41:21.619 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:41:21.635 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:41:21.635 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 238 ms
2025-10-17 18:41:21.669 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:41:21.757 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-17 18:41:21.821 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:41:21.935 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:41:21.936 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:41:21.936 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:41:21.936 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:41:21.936 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:41:21.936 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:41:21.937 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:41:21.938 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:41:21.938 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:41:21.938 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:41:21.938 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:41:21.940 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3dc4b21e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d183d02, org.springframework.security.web.context.SecurityContextPersistenceFilter@2cde2d34, org.springframework.security.web.header.HeaderWriterFilter@6145efd3, org.springframework.web.filter.CorsFilter@44cb0936, org.springframework.security.web.authentication.logout.LogoutFilter@799de23, com.yxly.security.JwtAuthenticationFilter@76cee935, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5feda8f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1198efac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1868a3d9, org.springframework.security.web.session.SessionManagementFilter@74f7eae9, org.springframework.security.web.access.ExceptionTranslationFilter@73c0000a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@485285ab]
2025-10-17 18:41:22.101 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:41:22.130 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:41:22.133 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.757 seconds (JVM running for 422.561)
2025-10-17 18:41:22.135 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-17 18:42:06.279 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 18:42:06.280 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 18:42:06.281 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 18:42:06.281 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:42:06.282 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:42:06.283 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:42:06.292 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:42:06.292 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:42:06.299 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:42:06.306 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:42:06.311 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:42:06.315 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:42:06.318 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:42:06.323 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:42:06.325 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:42:06.328 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:42:06.332 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:42:06.334 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:42:06.337 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:42:06.341 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:42:06.341 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:42:06.342 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:42:06.343 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:42:06.344 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:42:06.345 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:42:06.345 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:42:06.347 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:42:06.347 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:42:06.351 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:42:06.356 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:42:06.356 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:42:06.360 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:42:06.363 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:42:06.365 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:42:06.368 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:42:06.373 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:42:06.379 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:42:06.382 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:42:06.386 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:42:06.389 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:42:06.392 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:42:06.392 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 14 条
2025-10-17 18:42:06.394 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:42:06.446 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:42:06.447 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:42:06.448 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:42:06.452 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:42:06.452 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:42:06.454 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:42:06.460 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 14 条记录
2025-10-17 18:42:06.460 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:42:06.463 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:42:06.464 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:42:06.465 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:42:06.469 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:42:06.470 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:42:06.473 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:42:06.476 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:42:06.477 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:42:06.479 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:42:06.481 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:42:06.483 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:42:06.484 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:42:06.487 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:42:06.490 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:42:06.491 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:42:06.508 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:42:06.508 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:42:06.508 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:42:06.509 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:42:06.509 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:42:06.509 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:42:06.509 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:42:06.509 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:42:06.509 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:42:06.509 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:42:06.512 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:42:51.402 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:42:51.403 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:42:51.404 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:42:51.407 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:42:51.407 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:42:51.408 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:42:51.408 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:42:51.414 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:42:51.414 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:42:51.417 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:42:51.421 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:42:51.424 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:42:51.428 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:42:51.430 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:42:51.434 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:42:51.435 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:42:51.439 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:42:51.442 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:42:51.445 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:42:51.445 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 14 条
2025-10-17 18:42:51.446 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:43:05.255 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:43:05.255 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:43:05.257 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:43:05.262 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:43:05.262 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:43:05.263 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:43:05.263 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:43:05.271 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:43:05.271 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:43:05.275 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:43:05.278 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:43:05.281 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:43:05.284 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:43:05.286 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:43:05.288 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:43:05.290 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:43:05.293 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:43:05.296 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:43:05.299 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:43:05.300 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 14 条
2025-10-17 18:43:05.301 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:43:46.929 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-17 18:43:46.932 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-17 18:43:57.938 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 23092 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:43:57.940 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:43:57.941 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:43:57.980 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 18:43:57.981 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 18:43:58.490 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:43:58.492 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:43:58.511 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-17 18:43:59.154 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:43:59.161 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:43:59.162 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:43:59.225 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:43:59.225 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1244 ms
2025-10-17 18:43:59.296 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:43:59.628 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 18:43:59.876 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:44:00.225 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:44:00.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:44:00.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:44:00.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:44:00.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:44:00.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:44:00.226 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:44:00.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:44:00.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:44:00.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:44:00.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:44:00.227 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:44:00.228 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:44:00.228 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:44:00.228 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:44:00.228 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:44:00.228 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:44:00.228 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:44:00.229 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:44:00.229 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:44:00.229 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:44:00.234 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@12908c23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71ebfaf1, org.springframework.security.web.context.SecurityContextPersistenceFilter@8f3fd43, org.springframework.security.web.header.HeaderWriterFilter@28e86563, org.springframework.web.filter.CorsFilter@4da91aee, org.springframework.security.web.authentication.logout.LogoutFilter@6cc8ef68, com.yxly.security.JwtAuthenticationFilter@5f650848, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f7a8035, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f5fba1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39f49f82, org.springframework.security.web.session.SessionManagementFilter@63fb5889, org.springframework.security.web.access.ExceptionTranslationFilter@1c8bc76e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47a83af3]
2025-10-17 18:44:00.819 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:44:00.867 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:44:00.877 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.243 seconds (JVM running for 3.536)
2025-10-17 18:44:06.988 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 18:44:06.988 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 18:44:06.989 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 18:44:06.996 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:44:06.999 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:07.040 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:44:07.135 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:44:07.136 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:44:07.155 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:44:07.159 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:44:07.217 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:44:07.222 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:44:07.231 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:44:07.236 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:44:07.241 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:44:07.248 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:44:07.252 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:44:07.256 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:44:07.264 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:44:07.269 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:44:07.272 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:44:07.276 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:44:07.276 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 14 条
2025-10-17 18:44:07.319 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:09.838 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:44:09.839 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:09.841 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:44:09.848 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:44:09.848 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:44:09.849 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:44:09.849 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:44:09.864 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:44:09.864 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:44:09.871 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:44:09.875 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:44:09.879 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:44:09.885 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:44:09.893 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:44:09.901 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:44:09.906 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:44:09.909 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:44:09.914 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:44:09.919 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:44:09.919 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 14 条
2025-10-17 18:44:09.924 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:23.619 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:44:23.619 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:44:23.620 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:23.620 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:23.626 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:44:23.628 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:44:23.634 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:44:23.634 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:44:23.635 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:44:23.635 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:44:23.636 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:44:23.636 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:44:23.639 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:44:23.639 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:44:23.651 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:44:23.653 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:23.656 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:25.863 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:44:25.863 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:25.866 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:44:25.872 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:44:25.873 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:44:25.878 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:44:25.889 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:44:25.889 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:44:25.893 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:44:25.898 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:44:25.902 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:44:25.906 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:44:25.910 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:44:25.914 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:44:25.918 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:44:25.922 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:44:25.926 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:44:25.930 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:44:25.931 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:25.970 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:44:25.970 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:44:25.970 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:25.970 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:25.971 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:44:25.971 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:44:25.973 [http-nio-8080-exec-6] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:44:25.973 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:25.975 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:44:25.978 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:44:25.978 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:25.978 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:44:25.979 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:44:25.981 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:44:25.981 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:44:25.986 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:44:25.993 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:25.997 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 14 条记录
2025-10-17 18:44:25.998 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:44:26.002 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:44:26.006 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:44:26.010 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:44:26.013 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:44:26.016 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:44:26.020 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:44:26.024 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:44:26.028 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:44:26.032 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:44:26.035 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:44:26.039 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:44:26.041 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:44:26.045 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:44:26.051 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:44:26.053 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:29.040 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/20/check-in
2025-10-17 18:44:29.041 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:29.049 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:44:29.054 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/20/check-in] with attributes [permitAll]
2025-10-17 18:44:29.054 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/20/check-in
2025-10-17 18:44:29.056 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=20
2025-10-17 18:44:29.060 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=20
2025-10-17 18:44:29.069 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:44:29.077 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住成功: orderId=20
2025-10-17 18:44:29.082 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:31.641 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/20/check-in
2025-10-17 18:44:31.642 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:31.646 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:44:31.649 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/20/check-in] with attributes [permitAll]
2025-10-17 18:44:31.650 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/20/check-in
2025-10-17 18:44:31.650 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=20
2025-10-17 18:44:31.651 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=20
2025-10-17 18:44:31.663 [http-nio-8080-exec-9] ERROR [com.yxly.controller.admin.BookingController] - 办理入住失败
com.yxly.exception.BusinessException: 只有已确认的订单可以办理入住
	at com.yxly.service.impl.BookingOrderServiceImpl.checkIn(BookingOrderServiceImpl.java:521)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$a3dbff09.checkIn(<generated>)
	at com.yxly.controller.admin.BookingController.checkIn(BookingController.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-10-17 18:44:31.665 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:44:37.748 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/20/check-in
2025-10-17 18:44:37.748 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:44:37.750 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:44:37.753 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/20/check-in] with attributes [permitAll]
2025-10-17 18:44:37.753 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/20/check-in
2025-10-17 18:44:37.754 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=20
2025-10-17 18:44:37.754 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=20
2025-10-17 18:44:37.759 [http-nio-8080-exec-10] ERROR [com.yxly.controller.admin.BookingController] - 办理入住失败
com.yxly.exception.BusinessException: 只有已确认的订单可以办理入住
	at com.yxly.service.impl.BookingOrderServiceImpl.checkIn(BookingOrderServiceImpl.java:521)
	at com.yxly.service.impl.BookingOrderServiceImpl$$FastClassBySpringCGLIB$$e81bef00.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)
	at com.yxly.service.impl.BookingOrderServiceImpl$$EnhancerBySpringCGLIB$$a3dbff09.checkIn(<generated>)
	at com.yxly.controller.admin.BookingController.checkIn(BookingController.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-10-17 18:44:37.761 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:48:57.098 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 18:48:57.101 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 18:49:02.664 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24068 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 18:49:02.666 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 18:49:02.666 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 18:49:02.710 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 18:49:02.710 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 18:49:03.251 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 18:49:03.253 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 18:49:03.273 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-17 18:49:03.937 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 18:49:03.944 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 18:49:03.945 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 18:49:04.014 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 18:49:04.014 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1303 ms
2025-10-17 18:49:04.092 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 18:49:04.451 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 18:49:04.718 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 18:49:05.058 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 18:49:05.059 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 18:49:05.059 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 18:49:05.059 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 18:49:05.059 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 18:49:05.059 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 18:49:05.060 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 18:49:05.060 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 18:49:05.060 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 18:49:05.060 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 18:49:05.060 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 18:49:05.060 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 18:49:05.060 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 18:49:05.061 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 18:49:05.061 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 18:49:05.061 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 18:49:05.061 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 18:49:05.061 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 18:49:05.062 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 18:49:05.062 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 18:49:05.062 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 18:49:05.068 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@76a7935, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4126d56f, org.springframework.security.web.context.SecurityContextPersistenceFilter@21aa3896, org.springframework.security.web.header.HeaderWriterFilter@7456f32b, org.springframework.web.filter.CorsFilter@25c332a, org.springframework.security.web.authentication.logout.LogoutFilter@18428f5, com.yxly.security.JwtAuthenticationFilter@54b9ebe1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a8599c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7305b466, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e2def66, org.springframework.security.web.session.SessionManagementFilter@d7544c7, org.springframework.security.web.access.ExceptionTranslationFilter@52e7e906, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@779b3262]
2025-10-17 18:49:05.660 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 18:49:05.708 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 18:49:05.717 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.448 seconds (JVM running for 3.766)
2025-10-17 18:49:23.324 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 18:49:23.324 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 18:49:23.326 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-17 18:49:23.334 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-17 18:49:23.334 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 18:49:23.336 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:23.336 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:23.380 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:23.380 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:23.478 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-17 18:49:23.478 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-17 18:49:23.479 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-17 18:49:23.479 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 18:49:23.526 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-17 18:49:23.526 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 18:49:23.528 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-17 18:49:23.528 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 18:49:23.596 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:23.596 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:25.593 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:49:25.594 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:25.595 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:25.601 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:49:25.601 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:49:25.604 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:49:25.607 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:49:25.621 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:49:25.627 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:49:25.633 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:49:25.638 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:49:25.642 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:49:25.649 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:49:25.656 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:49:25.660 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:49:25.665 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:49:25.669 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:49:25.674 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:49:25.680 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:49:25.680 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 14 条
2025-10-17 18:49:25.685 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:33.590 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:49:33.591 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:33.595 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:33.602 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:49:33.602 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:49:33.604 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:49:33.605 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:49:33.611 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:33.639 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:49:33.639 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:33.642 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:33.645 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:49:33.646 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:49:33.648 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:49:33.648 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:49:33.658 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:49:33.660 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:35.181 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:49:35.181 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:35.185 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:35.193 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:49:35.193 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:49:35.197 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:49:35.209 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:49:35.210 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:49:35.214 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:49:35.218 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:49:35.221 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:49:35.225 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:49:35.231 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:49:35.237 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:49:35.242 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:49:35.245 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:49:35.248 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:49:35.251 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:49:35.255 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:35.296 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:49:35.296 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:49:35.297 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:35.297 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:35.297 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:49:35.298 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:49:35.299 [http-nio-8080-exec-7] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:49:35.299 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:35.300 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:35.302 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:49:35.303 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:35.304 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:49:35.304 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:49:35.307 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:49:35.307 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:49:35.311 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:49:35.320 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:35.321 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 14 条记录
2025-10-17 18:49:35.321 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:49:35.326 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:49:35.330 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:49:35.334 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:49:35.339 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:49:35.342 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:49:35.345 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:49:35.348 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:49:35.352 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:49:35.354 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:49:35.358 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:49:35.360 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:49:35.364 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:49:35.367 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:49:35.370 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:49:35.372 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:38.222 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/20/check-out
2025-10-17 18:49:38.223 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:38.229 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:38.232 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/20/check-out] with attributes [permitAll]
2025-10-17 18:49:38.233 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/20/check-out
2025-10-17 18:49:38.234 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 办理退房: id=20
2025-10-17 18:49:38.238 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房: id=20
2025-10-17 18:49:38.247 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:49:38.253 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房成功: orderId=20，订单已完成
2025-10-17 18:49:38.257 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:43.463 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/18/check-in
2025-10-17 18:49:43.464 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:43.466 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:43.469 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/18/check-in] with attributes [permitAll]
2025-10-17 18:49:43.469 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/18/check-in
2025-10-17 18:49:43.470 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=18
2025-10-17 18:49:43.471 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=18
2025-10-17 18:49:43.473 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:49:43.475 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住成功: orderId=18
2025-10-17 18:49:43.478 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:46.744 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/17/check-in
2025-10-17 18:49:46.745 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:46.747 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:46.750 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/17/check-in] with attributes [permitAll]
2025-10-17 18:49:46.750 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/17/check-in
2025-10-17 18:49:46.750 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=17
2025-10-17 18:49:46.751 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=17
2025-10-17 18:49:46.753 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:49:46.755 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住成功: orderId=17
2025-10-17 18:49:46.758 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:48.880 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/15/check-in
2025-10-17 18:49:48.880 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:48.882 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:48.887 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/15/check-in] with attributes [permitAll]
2025-10-17 18:49:48.887 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/15/check-in
2025-10-17 18:49:48.888 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=15
2025-10-17 18:49:48.889 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=15
2025-10-17 18:49:48.892 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:49:48.894 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住成功: orderId=15
2025-10-17 18:49:48.896 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:51.342 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/13/check-in
2025-10-17 18:49:51.343 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:51.345 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:51.347 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/13/check-in] with attributes [permitAll]
2025-10-17 18:49:51.348 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/13/check-in
2025-10-17 18:49:51.348 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=13
2025-10-17 18:49:51.349 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=13
2025-10-17 18:49:51.351 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:49:51.354 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住成功: orderId=13
2025-10-17 18:49:51.358 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:49:54.328 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/12/check-in
2025-10-17 18:49:54.328 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:49:54.331 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:49:54.335 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/12/check-in] with attributes [permitAll]
2025-10-17 18:49:54.335 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/12/check-in
2025-10-17 18:49:54.336 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=12
2025-10-17 18:49:54.336 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=12
2025-10-17 18:49:54.339 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:49:54.342 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住成功: orderId=12
2025-10-17 18:49:54.346 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:10.437 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:50:10.437 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:10.439 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:10.448 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:50:10.448 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:50:10.449 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:50:10.450 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:50:10.459 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:10.740 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:50:10.740 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:10.742 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:10.746 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:50:10.746 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:50:10.747 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:50:10.747 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:50:10.755 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:50:10.757 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:12.051 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 18:50:12.051 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:12.054 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:12.059 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 18:50:12.059 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 18:50:12.060 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 18:50:12.060 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 18:50:12.066 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:14.293 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:50:14.293 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:50:14.293 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:14.294 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:14.297 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:14.297 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:14.303 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:50:14.303 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:50:14.303 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:50:14.303 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:50:14.303 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:50:14.303 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:50:14.303 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:50:14.303 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:50:14.309 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:14.309 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:50:14.311 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:17.288 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:50:17.288 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:50:17.289 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:17.289 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:17.292 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:17.292 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:17.298 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:50:17.298 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:50:17.298 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:50:17.298 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:50:17.308 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:50:17.308 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 214.00
2025-10-17 18:50:17.310 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:17.322 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:17.509 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:50:17.509 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:50:17.509 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:17.509 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:17.511 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:17.512 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:17.515 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:50:17.515 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:50:17.516 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:50:17.516 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:50:17.520 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:50:17.520 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:50:17.530 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共8条
2025-10-17 18:50:17.534 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:17.534 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:20.535 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 18:50:20.535 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 18:50:20.536 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:20.536 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:20.539 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:20.539 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:20.548 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 18:50:20.548 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 18:50:20.549 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 18:50:20.549 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 18:50:20.550 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 18:50:20.550 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 18:50:20.550 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:50:20.550 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 18:50:20.559 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:20.561 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 18:50:20.563 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:21.843 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 18:50:21.844 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:21.847 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:21.852 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 18:50:21.852 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 18:50:21.853 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 18:50:21.853 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 18:50:21.856 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:40.869 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 18:50:40.870 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:40.872 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:40.876 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 18:50:40.876 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 18:50:40.918 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=5, roomId=1
2025-10-17 18:50:40.924 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:50:40.927 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=5, 扣款金额=98.00, 原余额=214.00, 新余额=116.00
2025-10-17 18:50:40.932 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:50:40.938 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=21, orderNo=YX17606982409277104, 支付金额=98.00，等待管理员确认后创建消费记录
2025-10-17 18:50:40.942 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:41.119 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:50:41.119 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:41.122 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:41.125 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:50:41.125 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:50:41.128 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:50:41.138 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:50:41.138 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:50:41.142 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:50:41.147 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:50:41.151 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:50:41.155 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:50:41.159 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:50:41.163 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:50:41.168 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:50:41.172 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:50:41.176 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:50:41.180 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:50:41.182 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:41.303 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:50:41.303 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:41.304 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:50:41.304 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:41.304 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:50:41.304 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:50:41.304 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:50:41.304 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:41.304 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:50:41.304 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:50:41.306 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:50:41.306 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:50:41.306 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:50:41.308 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:50:41.309 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:50:41.309 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:50:41.313 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:50:41.321 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 15 条记录
2025-10-17 18:50:41.321 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:50:41.325 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:50:41.329 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:50:41.332 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:50:41.337 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:50:41.340 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:50:41.343 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:50:41.348 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:50:41.357 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:50:41.360 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:50:41.365 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:50:41.369 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:50:41.373 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:50:41.377 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:50:41.382 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:50:41.387 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:50:41.389 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:04.197 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:04.197 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:04.199 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:04.206 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:51:04.206 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:04.207 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:04.207 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:04.217 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:51:04.218 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:51:04.224 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:51:04.227 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:51:04.232 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:51:04.237 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:51:04.242 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:51:04.248 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:51:04.253 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:51:04.258 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:51:04.263 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:51:04.269 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:51:04.270 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:51:04.272 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:11.101 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/21/confirm
2025-10-17 18:51:11.101 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:11.103 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:11.105 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/21/confirm] with attributes [permitAll]
2025-10-17 18:51:11.105 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/21/confirm
2025-10-17 18:51:11.106 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 管理员确认订单: id=21
2025-10-17 18:51:11.106 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单: id=21
2025-10-17 18:51:11.110 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:51:11.116 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 18:51:11.118 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单确认成功，已创建消费交易记录: orderId=21, amount=98.00
2025-10-17 18:51:11.119 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单成功: orderId=21
2025-10-17 18:51:11.120 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:11.128 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:11.128 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:11.132 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:11.135 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:51:11.135 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:11.136 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:11.136 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:11.146 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:51:11.146 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:51:11.152 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:51:11.156 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:51:11.161 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:51:11.166 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:51:11.171 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:51:11.176 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:51:11.181 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:51:11.186 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:51:11.189 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:51:11.193 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:51:11.193 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:51:11.195 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:16.950 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:51:16.950 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:16.954 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:16.959 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:51:16.959 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:51:16.964 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:51:16.974 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:51:16.974 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:51:16.978 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:51:16.986 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:51:16.990 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:51:16.995 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:51:17.001 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:51:17.006 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:51:17.011 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:51:17.015 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:51:17.020 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:51:17.025 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:51:17.027 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:17.053 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:51:17.053 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:17.053 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:51:17.054 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:51:17.054 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:51:17.055 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:17.055 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:51:17.055 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:17.055 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:51:17.055 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:51:17.061 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:17.123 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:51:17.124 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:17.128 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:17.132 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:51:17.132 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:51:17.136 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:51:17.147 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 15 条记录
2025-10-17 18:51:17.147 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:51:17.153 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:51:17.159 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:51:17.166 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:51:17.171 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:51:17.175 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:51:17.180 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:51:17.185 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:51:17.189 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:51:17.193 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:51:17.198 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:51:17.202 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:51:17.207 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:51:17.212 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:51:17.217 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:51:17.220 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:51:17.223 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:31.322 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/21/check-in
2025-10-17 18:51:31.322 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:31.324 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:31.327 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/21/check-in] with attributes [permitAll]
2025-10-17 18:51:31.327 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/21/check-in
2025-10-17 18:51:31.328 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=21
2025-10-17 18:51:31.328 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=21
2025-10-17 18:51:31.331 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:51:31.333 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住成功: orderId=21
2025-10-17 18:51:31.336 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:35.498 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:51:35.498 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:35.501 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:35.504 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:51:35.504 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:51:35.506 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:51:35.513 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:51:35.513 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:51:35.515 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:51:35.517 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:51:35.520 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:51:35.523 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:51:35.526 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:51:35.528 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:51:35.532 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:51:35.536 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:51:35.539 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:51:35.541 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:51:35.543 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:35.567 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:51:35.567 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:51:35.567 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:35.567 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:35.568 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:51:35.568 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:51:35.568 [http-nio-8080-exec-10] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:51:35.568 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:35.569 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:51:35.569 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:35.569 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:51:35.569 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:51:35.570 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:35.571 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:35.575 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:51:35.575 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:51:35.579 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:51:35.587 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 15 条记录
2025-10-17 18:51:35.588 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:51:35.591 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:51:35.594 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:51:35.599 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:51:35.601 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:51:35.606 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:51:35.608 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:51:35.611 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:51:35.614 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:51:35.617 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:51:35.620 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:51:35.624 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:51:35.627 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:51:35.631 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:51:35.634 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:51:35.638 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:51:35.640 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:41.808 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:41.808 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:41.811 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:41.815 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:51:41.815 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:41.817 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:41.817 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:41.826 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:51:41.826 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:51:41.831 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:51:41.837 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:51:41.842 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:51:41.847 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:51:41.852 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:51:41.856 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:51:41.861 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:51:41.867 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:51:41.871 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:51:41.876 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:51:41.876 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:51:41.879 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:43.889 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/21/check-out
2025-10-17 18:51:43.889 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:43.891 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:43.893 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/21/check-out] with attributes [permitAll]
2025-10-17 18:51:43.893 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/21/check-out
2025-10-17 18:51:43.895 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 办理退房: id=21
2025-10-17 18:51:43.895 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房: id=21
2025-10-17 18:51:43.898 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:51:43.900 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房成功: orderId=21，订单已完成
2025-10-17 18:51:43.903 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:45.707 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:45.708 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:45.709 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:45.714 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:51:45.714 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:45.715 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:45.716 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:45.723 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:51:45.724 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:51:45.727 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:51:45.730 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:51:45.734 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:51:45.738 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:51:45.741 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:51:45.745 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:51:45.751 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:51:45.754 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:51:45.758 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:51:45.762 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:51:45.762 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:51:45.764 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:54.152 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/14/check-in
2025-10-17 18:51:54.152 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:54.155 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:54.156 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/14/check-in] with attributes [permitAll]
2025-10-17 18:51:54.157 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/14/check-in
2025-10-17 18:51:54.157 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.BookingController] - 办理入住: id=14
2025-10-17 18:51:54.158 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住: id=14
2025-10-17 18:51:54.159 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:51:54.161 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理入住成功: orderId=14
2025-10-17 18:51:54.165 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:51:56.692 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:56.693 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:51:56.694 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:51:56.697 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:51:56.697 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:51:56.698 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:56.698 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:51:56.706 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:51:56.706 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:51:56.710 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:51:56.715 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:51:56.719 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:51:56.723 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:51:56.727 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:51:56.729 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:51:56.733 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:51:56.735 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:51:56.739 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:51:56.743 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:51:56.743 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:51:56.745 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:01.134 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/18/check-out
2025-10-17 18:52:01.134 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:01.137 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:01.140 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/18/check-out] with attributes [permitAll]
2025-10-17 18:52:01.140 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/18/check-out
2025-10-17 18:52:01.141 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 办理退房: id=18
2025-10-17 18:52:01.142 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房: id=18
2025-10-17 18:52:01.144 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:52:01.145 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房成功: orderId=18，订单已完成
2025-10-17 18:52:01.149 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:09.985 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:09.985 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:09.987 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:09.990 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:52:09.990 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:09.991 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:09.991 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:09.998 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:52:09.999 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:52:10.002 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:52:10.005 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:52:10.008 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:52:10.012 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:52:10.016 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:52:10.019 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:52:10.024 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:52:10.028 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:52:10.032 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:52:10.036 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:52:10.036 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:52:10.039 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:12.455 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/17/check-out
2025-10-17 18:52:12.455 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:12.457 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:12.460 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/17/check-out] with attributes [permitAll]
2025-10-17 18:52:12.460 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/17/check-out
2025-10-17 18:52:12.461 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 办理退房: id=17
2025-10-17 18:52:12.462 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房: id=17
2025-10-17 18:52:12.464 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:52:12.466 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房成功: orderId=17，订单已完成
2025-10-17 18:52:12.470 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:13.953 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:13.953 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:13.956 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:13.961 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:52:13.961 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:13.962 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:13.963 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:13.971 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:52:13.972 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:52:13.977 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:52:13.982 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:52:13.986 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:52:13.989 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:52:13.995 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:52:14.001 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:52:14.006 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:52:14.010 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:52:14.015 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:52:14.019 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:52:14.021 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:52:14.023 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:17.411 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/15/check-out
2025-10-17 18:52:17.411 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:17.413 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:17.416 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/15/check-out] with attributes [permitAll]
2025-10-17 18:52:17.416 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/15/check-out
2025-10-17 18:52:17.417 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 办理退房: id=15
2025-10-17 18:52:17.418 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房: id=15
2025-10-17 18:52:17.420 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:52:17.422 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房成功: orderId=15，订单已完成
2025-10-17 18:52:17.425 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:18.907 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:18.907 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:18.910 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:18.914 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:52:18.914 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:18.915 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:18.915 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:18.924 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:52:18.925 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:52:18.929 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:52:18.932 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:52:18.937 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:52:18.941 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:52:18.945 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:52:18.949 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:52:18.953 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:52:18.958 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:52:18.962 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:52:18.966 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:52:18.966 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:52:18.967 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:21.197 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/14/check-out
2025-10-17 18:52:21.197 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:21.199 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:21.201 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/14/check-out] with attributes [permitAll]
2025-10-17 18:52:21.202 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/14/check-out
2025-10-17 18:52:21.202 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 办理退房: id=14
2025-10-17 18:52:21.203 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房: id=14
2025-10-17 18:52:21.205 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:52:21.207 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房成功: orderId=14，订单已完成
2025-10-17 18:52:21.209 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:22.700 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:22.700 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:22.702 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:22.706 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:52:22.706 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:22.707 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:22.707 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:22.718 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:52:22.719 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:52:22.723 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:52:22.726 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:52:22.730 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:52:22.733 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:52:22.738 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:52:22.741 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:52:22.744 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:52:22.747 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:52:22.751 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:52:22.753 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:52:22.753 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:52:22.755 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:24.976 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/13/check-out
2025-10-17 18:52:24.976 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:24.978 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:24.981 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/13/check-out] with attributes [permitAll]
2025-10-17 18:52:24.981 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/13/check-out
2025-10-17 18:52:24.981 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.BookingController] - 办理退房: id=13
2025-10-17 18:52:24.982 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房: id=13
2025-10-17 18:52:24.985 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:52:24.986 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房成功: orderId=13，订单已完成
2025-10-17 18:52:24.989 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:52:26.553 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:26.553 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:52:26.556 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:52:26.561 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:52:26.561 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:52:26.562 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:26.562 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:52:26.570 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:52:26.570 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:52:26.573 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:52:26.577 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:52:26.582 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:52:26.586 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:52:26.590 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:52:26.593 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:52:26.598 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:52:26.602 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:52:26.606 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:52:26.610 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:52:26.610 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:52:26.611 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:18.885 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:18.885 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:18.887 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:53:18.890 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:53:18.891 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:18.892 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:18.892 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:18.898 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:53:18.899 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:53:18.901 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:53:18.904 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:53:18.907 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:53:18.909 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:53:18.912 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:53:18.914 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:53:18.916 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:53:18.919 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:53:18.922 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:53:18.924 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:53:18.925 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:53:18.926 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:21.022 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:21.023 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:21.024 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:53:21.029 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:53:21.030 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:21.031 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:21.031 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:21.039 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:53:21.039 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:53:21.042 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:53:21.046 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:53:21.050 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:53:21.053 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:53:21.056 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:53:21.060 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:53:21.063 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:53:21.066 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:53:21.069 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:53:21.071 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:53:21.071 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:53:21.072 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:23.102 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/12/check-out
2025-10-17 18:53:23.102 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:23.105 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:53:23.108 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/12/check-out] with attributes [permitAll]
2025-10-17 18:53:23.108 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/12/check-out
2025-10-17 18:53:23.108 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.BookingController] - 办理退房: id=12
2025-10-17 18:53:23.109 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房: id=12
2025-10-17 18:53:23.112 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 18:53:23.114 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 办理退房成功: orderId=12，订单已完成
2025-10-17 18:53:23.117 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:24.612 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:24.612 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:24.614 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:53:24.619 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:53:24.619 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:24.620 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:24.621 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:24.630 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:53:24.630 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:53:24.634 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:53:24.637 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:53:24.640 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:53:24.643 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:53:24.647 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:53:24.650 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:53:24.653 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:53:24.658 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:53:24.661 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:53:24.664 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:53:24.664 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:53:24.666 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:29.334 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:53:29.334 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:29.339 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:53:29.344 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:53:29.345 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:53:29.348 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:53:29.357 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:53:29.357 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:53:29.361 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:53:29.366 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:53:29.369 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:53:29.374 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:53:29.377 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:53:29.381 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:53:29.386 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:53:29.389 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:53:29.392 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:53:29.396 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:53:29.397 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:29.425 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:53:29.425 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:53:29.425 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:29.425 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:29.425 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:53:29.426 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:53:29.427 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:53:29.428 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:29.428 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:53:29.429 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:29.429 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:53:29.429 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:53:29.429 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:53:29.432 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:29.434 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:53:29.434 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:53:29.439 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:53:29.448 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 15 条记录
2025-10-17 18:53:29.448 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:53:29.452 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:53:29.457 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:53:29.461 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:53:29.465 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:53:29.468 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:53:29.472 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:53:29.477 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:53:29.480 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:53:29.485 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:53:29.489 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=11, orderNo=YX2025101717080741812, roomId=1
2025-10-17 18:53:29.492 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=10, orderNo=YX2025101716351997793, roomId=1
2025-10-17 18:53:29.496 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=9, orderNo=YX2025101716295188666, roomId=1
2025-10-17 18:53:29.500 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=2, orderNo=YX2025101714412163096, roomId=1
2025-10-17 18:53:29.503 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:53:29.507 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:53:29.509 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:45.838 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:45.839 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:45.842 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:53:45.847 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:53:45.848 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:45.849 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:45.849 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:45.857 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:53:45.858 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:53:45.861 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:53:45.865 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:53:45.867 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:53:45.870 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:53:45.873 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:53:45.877 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:53:45.881 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:53:45.885 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:53:45.889 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:53:45.892 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:53:45.892 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:53:45.894 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:53:57.005 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:57.005 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:53:57.008 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:53:57.013 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 18:53:57.013 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 18:53:57.014 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:57.014 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 18:53:57.023 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 10 条记录
2025-10-17 18:53:57.023 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=21, orderNo=YX17606982409277104, roomId=1
2025-10-17 18:53:57.028 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=20, orderNo=YX2025101718364050840, roomId=1
2025-10-17 18:53:57.031 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=19, orderNo=YX2025101718353417883, roomId=1
2025-10-17 18:53:57.034 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=18, orderNo=YX2025101718255620553, roomId=1
2025-10-17 18:53:57.037 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=17, orderNo=YX2025101718194114722, roomId=1
2025-10-17 18:53:57.040 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=16, orderNo=YX2025101718184983359, roomId=4
2025-10-17 18:53:57.045 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=15, orderNo=YX2025101718131130538, roomId=1
2025-10-17 18:53:57.048 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=14, orderNo=YX2025101717543620151, roomId=1
2025-10-17 18:53:57.052 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=13, orderNo=YX2025101717484734680, roomId=1
2025-10-17 18:53:57.055 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=12, orderNo=YX2025101717175280821, roomId=1
2025-10-17 18:53:57.060 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:53:57.060 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 10 条记录，共 15 条
2025-10-17 18:53:57.062 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:56:11.452 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:56:11.453 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:56:11.455 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:56:11.464 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:56:11.466 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:56:11.470 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 116.00
2025-10-17 18:56:11.471 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:56:11.618 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:56:11.618 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:56:11.620 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:56:11.623 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:56:11.623 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:56:11.628 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:56:11.634 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:56:11.678 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:56:11.678 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:56:11.678 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:56:11.678 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:56:11.681 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:56:11.681 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:56:11.683 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:56:11.683 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:56:11.683 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:56:11.683 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:56:11.687 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:56:11.687 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:56:11.693 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:56:11.693 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共9条
2025-10-17 18:56:11.696 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:09.663 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:58:09.663 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:58:09.663 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:09.663 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:09.664 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:09.664 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:09.672 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:58:09.672 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:58:09.672 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:58:09.672 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:58:09.675 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:58:09.677 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 116.00
2025-10-17 18:58:09.678 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:09.682 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:09.786 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:58:09.787 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:09.789 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:09.791 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:58:09.791 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:58:09.798 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:09.848 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:58:09.848 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:09.850 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:09.851 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:58:09.851 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:58:09.853 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:58:09.853 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:58:09.857 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共9条
2025-10-17 18:58:09.858 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:13.437 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:58:13.437 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 18:58:13.438 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:13.438 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:13.439 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:13.439 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:13.442 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:58:13.442 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 18:58:13.442 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 18:58:13.442 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 18:58:13.446 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 18:58:13.448 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 116.00
2025-10-17 18:58:13.450 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:13.452 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:13.632 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:58:13.632 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:58:13.633 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:13.633 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:13.634 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:13.634 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:13.637 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:58:13.637 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 18:58:13.637 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 18:58:13.637 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 18:58:13.639 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:58:13.639 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 18:58:13.645 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共9条
2025-10-17 18:58:13.645 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:13.646 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:15.552 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:58:15.552 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:15.559 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:15.562 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:58:15.562 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:58:15.564 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:58:15.568 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 18:58:15.573 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:58:15.576 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:58:15.578 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:15.591 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:58:15.591 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:15.591 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:58:15.592 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:58:15.592 [http-nio-8080-exec-8] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:58:15.592 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:15.592 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:58:15.592 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:15.592 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:58:15.593 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:58:15.594 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:15.835 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:58:15.835 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:15.837 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:15.840 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:58:15.840 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:58:15.842 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:58:15.846 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 18:58:15.846 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:58:15.850 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:58:15.851 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:17.125 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 18:58:17.125 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:17.127 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:17.134 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 18:58:17.134 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 18:58:17.138 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 18:58:17.143 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 18:58:17.143 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:58:17.146 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:58:17.147 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:17.164 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 18:58:17.164 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 18:58:17.164 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:17.164 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:17.164 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:58:17.166 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 18:58:17.166 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 18:58:17.166 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:17.166 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 18:58:17.166 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 18:58:17.166 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 18:58:17.167 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 18:58:17.167 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 18:58:17.168 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 18:58:17.170 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 18:58:17.170 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 18:58:17.174 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 18:58:17.179 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 18:58:17.179 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 18:58:17.184 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 18:58:17.185 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:04:32.365 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 19:04:32.365 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:04:32.369 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:04:32.375 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 19:04:32.375 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 19:04:32.383 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 116.00
2025-10-17 19:04:32.384 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:04:32.550 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:04:32.550 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:04:32.553 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:04:32.555 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:04:32.555 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:04:32.558 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 19:04:32.564 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:04:32.613 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:04:32.613 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:04:32.613 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:04:32.613 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:04:32.614 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:04:32.614 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:04:32.617 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:04:32.617 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:04:32.617 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:04:32.617 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:04:32.619 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 19:04:32.619 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 19:04:32.625 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共9条
2025-10-17 19:04:32.625 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:04:32.626 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:05:09.168 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 19:05:09.169 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:05:09.171 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:05:09.175 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 19:05:09.180 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 19:05:09.180 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 19:05:09.181 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 19:05:09.192 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:05:09.416 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 19:05:09.416 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:05:09.417 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:05:09.419 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 19:05:09.419 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 19:05:09.420 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:05:09.421 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:05:09.425 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 19:05:09.426 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:05:11.185 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 19:05:11.185 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:05:11.192 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:05:11.197 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 19:05:11.197 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 19:05:11.200 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 19:05:11.205 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 19:05:11.208 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 19:05:11.212 [http-nio-8080-exec-10] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:05:11.213 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:05:11.225 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 19:05:11.225 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 19:05:11.225 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:05:11.225 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:05:11.225 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:05:11.226 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 19:05:11.226 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 19:05:11.226 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:05:11.226 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 19:05:11.226 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:05:11.227 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:05:11.227 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 19:05:11.227 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:05:11.229 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:05:11.231 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:05:11.231 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 19:05:11.234 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 19:05:11.239 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 19:05:11.239 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=1, orderNo=YX2025101714302612049, roomId=1
2025-10-17 19:05:11.242 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:05:11.243 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:10:43.985 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:10:43.985 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:10:43.986 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:10:43.992 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 19:10:43.992 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:10:43.994 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:10:43.995 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:10:43.999 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 19:10:44.000 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:10:44.000 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 0 条记录，共 0 条
2025-10-17 19:10:44.001 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:10:49.302 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 19:10:49.302 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:10:49.304 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:10:49.307 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 19:10:49.307 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 19:10:49.312 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 19:10:49.316 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 19:10:49.316 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:10:49.317 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:10:49.322 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 19:10:49.322 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:10:49.323 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:10:49.326 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:10:49.326 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 19:10:49.331 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 19:10:49.337 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 19:10:49.337 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:10:49.338 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:16:03.930 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 19:16:03.930 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:16:03.933 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:16:03.936 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 19:16:03.937 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 19:16:03.941 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=10, status=null
2025-10-17 19:16:03.945 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 19:16:03.945 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:16:03.946 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:16:03.952 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 19:16:03.952 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:16:03.953 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:16:03.956 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:16:03.956 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 19:16:03.959 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=5, current=1, size=1000, status=null
2025-10-17 19:16:03.963 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 19:16:03.963 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:16:03.964 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:16:04.537 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 19:16:04.537 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 19:16:04.537 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:16:04.537 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:16:04.539 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:16:04.539 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:16:04.546 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 19:16:04.546 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 19:16:04.546 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 19:16:04.546 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 19:16:04.546 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 19:16:04.547 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 19:16:04.547 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:16:04.548 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:16:04.556 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 19:16:04.558 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:16:04.561 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:16:08.286 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 19:16:08.287 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:16:08.289 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:16:08.292 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 19:16:08.292 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 19:16:08.293 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 19:16:08.293 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 19:16:08.295 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:16:31.360 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-17 19:16:31.360 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:16:31.362 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:16:31.364 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-17 19:16:31.364 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-17 19:16:31.368 [http-nio-8080-exec-9] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-17 19:16:31.369 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:16:42.384 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 19:16:42.385 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:16:42.385 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:16:42.386 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 19:16:42.386 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 19:16:42.393 [http-nio-8080-exec-1] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=LLL1, userType=user
2025-10-17 19:16:42.395 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: LLL1, 登录类型: user
2025-10-17 19:16:42.480 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: false
2025-10-17 19:16:42.482 [http-nio-8080-exec-1] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：用户名或密码错误
2025-10-17 19:16:42.484 [http-nio-8080-exec-1] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10107, message=用户名或密码错误)]
2025-10-17 19:16:42.484 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:17:03.059 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 19:17:03.059 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:17:03.059 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:17:03.060 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 19:17:03.060 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 19:17:03.061 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=LLL1, userType=user
2025-10-17 19:17:03.061 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: LLL1, 登录类型: user
2025-10-17 19:17:03.133 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: false
2025-10-17 19:17:03.134 [http-nio-8080-exec-3] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：用户名或密码错误
2025-10-17 19:17:03.134 [http-nio-8080-exec-3] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10107, message=用户名或密码错误)]
2025-10-17 19:17:03.135 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:17:06.204 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 19:17:06.204 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:17:06.205 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:17:06.205 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 19:17:06.205 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 19:17:06.206 [http-nio-8080-exec-5] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=LLL1, userType=user
2025-10-17 19:17:06.206 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: LLL1, 登录类型: user
2025-10-17 19:17:06.277 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: false
2025-10-17 19:17:06.277 [http-nio-8080-exec-5] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：用户名或密码错误
2025-10-17 19:17:06.278 [http-nio-8080-exec-5] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10107, message=用户名或密码错误)]
2025-10-17 19:17:06.278 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:17:53.157 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/reset-password
2025-10-17 19:17:53.157 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:17:53.157 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:17:53.158 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/reset-password] with attributes [permitAll]
2025-10-17 19:17:53.158 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/reset-password
2025-10-17 19:17:53.162 [http-nio-8080-exec-4] INFO  [com.yxly.controller.auth.AuthController] - 重置密码请求: phone=19566283651, email=3493448687@qq.com
2025-10-17 19:17:53.163 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.AuthServiceImpl] - 重置密码请求: phone=19566283651, email=3493448687@qq.com
2025-10-17 19:17:53.239 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 19:17:53.241 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户重置密码成功: username=LLL, phone=19566283651
2025-10-17 19:17:53.243 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:00.282 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 19:18:00.282 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:00.284 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:18:00.284 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 19:18:00.284 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 19:18:00.285 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=LLL, userType=user
2025-10-17 19:18:00.285 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: LLL, 登录类型: user
2025-10-17 19:18:00.358 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-17 19:18:00.368 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 19:18:00.372 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: LLL
2025-10-17 19:18:00.374 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:02.921 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 19:18:02.921 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 19:18:02.921 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:02.922 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:02.925 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:18:02.925 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:18:02.930 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 19:18:02.930 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 19:18:02.930 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:18:02.931 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 19:18:02.931 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:18:02.931 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 19:18:02.932 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 19:18:02.932 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 19:18:02.937 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 19:18:02.937 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:02.939 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:05.272 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 19:18:05.273 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:05.276 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:18:05.279 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 19:18:05.280 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 19:18:05.280 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 19:18:05.280 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 19:18:05.283 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:31.393 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 19:18:31.394 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:31.395 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:18:31.398 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 19:18:31.398 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 19:18:31.402 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=1, roomId=1
2025-10-17 19:18:31.409 [http-nio-8080-exec-10] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：余额不足，当前余额：￥0.00，需要支付：￥98.00
2025-10-17 19:18:31.410 [http-nio-8080-exec-10] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10702, message=余额不足，当前余额：￥0.00，需要支付：￥98.00)]
2025-10-17 19:18:31.411 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:37.219 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 19:18:37.219 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:37.222 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:18:37.227 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 19:18:37.227 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 19:18:37.235 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 1, 余额: 0.00
2025-10-17 19:18:37.236 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:37.449 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:18:37.449 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:37.449 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:18:37.449 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:37.449 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:18:37.450 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:37.451 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:18:37.451 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:18:37.451 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:18:37.454 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:18:37.454 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:18:37.454 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:18:37.455 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:18:37.455 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:18:37.456 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:18:37.459 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:18:37.460 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:18:37.460 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=1
2025-10-17 19:18:37.463 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 19:18:37.463 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:37.464 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:37.465 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:47.178 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/files/upload/payment-proof
2025-10-17 19:18:47.178 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:18:47.181 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:18:47.185 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/files/upload/payment-proof] with attributes [permitAll]
2025-10-17 19:18:47.185 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/files/upload/payment-proof
2025-10-17 19:18:47.208 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.FileController] - 上传支付凭证: fileName=3.jpg, size=14008
2025-10-17 19:18:49.342 [http-nio-8080-exec-4] ERROR [com.yxly.service.impl.MinioServiceImpl] - 检查存储桶是否存在失败: Failed to connect to /10.102.33.227:9000
java.net.ConnectException: Failed to connect to /10.102.33.227:9000
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 18 common frames omitted
2025-10-17 19:18:51.393 [http-nio-8080-exec-4] ERROR [com.yxly.service.impl.MinioServiceImpl] - 存储桶创建失败: Failed to connect to /10.102.33.227:9000
java.net.ConnectException: Failed to connect to /10.102.33.227:9000
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 18 common frames omitted
2025-10-17 19:18:53.443 [http-nio-8080-exec-4] ERROR [com.yxly.service.impl.MinioServiceImpl] - 文件上传失败: Failed to connect to /10.102.33.227:9000
java.net.ConnectException: Failed to connect to /10.102.33.227:9000
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207)
	at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)
	at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)
	at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)
	at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:128)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295)
	... 18 common frames omitted
2025-10-17 19:18:53.444 [http-nio-8080-exec-4] ERROR [com.yxly.controller.admin.FileController] - 支付凭证上传失败: fileName=3.jpg
com.yxly.exception.BusinessException: 文件上传失败: Failed to connect to /10.102.33.227:9000
	at com.yxly.service.impl.MinioServiceImpl.uploadFile(MinioServiceImpl.java:55)
	at com.yxly.controller.admin.FileController.uploadPaymentProof(FileController.java:116)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-10-17 19:18:53.450 [http-nio-8080-exec-4] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8321437805373584648\work\Tomcat\localhost\api\upload_5d7894a9_72ed_4e9d_824f_e8285b2a0a06_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8321437805373584648\work\Tomcat\localhost\api\upload_5d7894a9_72ed_4e9d_824f_e8285b2a0a06_00000000.tmp
	... 94 common frames omitted
2025-10-17 19:18:53.451 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:18:53.453 [http-nio-8080-exec-4] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8321437805373584648\work\Tomcat\localhost\api\upload_5d7894a9_72ed_4e9d_824f_e8285b2a0a06_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8321437805373584648\work\Tomcat\localhost\api\upload_5d7894a9_72ed_4e9d_824f_e8285b2a0a06_00000000.tmp
	... 13 common frames omitted
2025-10-17 19:19:43.525 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-17 19:19:43.530 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-17 19:19:49.881 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 19592 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-17 19:19:49.882 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-17 19:19:49.882 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-17 19:19:49.924 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-17 19:19:49.924 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-17 19:19:50.457 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-17 19:19:50.459 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-17 19:19:50.479 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-10-17 19:19:51.095 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-17 19:19:51.102 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-17 19:19:51.102 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-17 19:19:51.173 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-17 19:19:51.174 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1250 ms
2025-10-17 19:19:51.241 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-17 19:19:51.569 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-17 19:19:51.821 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-17 19:19:52.155 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-17 19:19:52.155 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-17 19:19:52.156 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-17 19:19:52.156 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-17 19:19:52.156 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-17 19:19:52.156 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-17 19:19:52.156 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-17 19:19:52.156 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-17 19:19:52.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-17 19:19:52.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-17 19:19:52.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-17 19:19:52.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-17 19:19:52.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-17 19:19:52.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-17 19:19:52.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-17 19:19:52.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-17 19:19:52.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-17 19:19:52.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-17 19:19:52.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-17 19:19:52.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-17 19:19:52.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-17 19:19:52.165 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e8cb5f2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@732c7df0, org.springframework.security.web.context.SecurityContextPersistenceFilter@21256b18, org.springframework.security.web.header.HeaderWriterFilter@5ec6742f, org.springframework.web.filter.CorsFilter@6d81594b, org.springframework.security.web.authentication.logout.LogoutFilter@47d7e890, com.yxly.security.JwtAuthenticationFilter@1280b3c7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@682496dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c129a7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@87ac152, org.springframework.security.web.session.SessionManagementFilter@2040585a, org.springframework.security.web.access.ExceptionTranslationFilter@5fc9acfc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@347344f6]
2025-10-17 19:19:52.730 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-17 19:19:52.778 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-17 19:19:52.787 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.216 seconds (JVM running for 3.516)
2025-10-17 19:19:57.593 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-17 19:19:57.593 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-17 19:19:57.594 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-17 19:19:57.603 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:19:57.604 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:19:57.604 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 19:19:57.604 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:19:57.605 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:19:57.607 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:19:57.607 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:19:57.607 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:19:57.607 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:19:57.607 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:19:57.655 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:19:57.655 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:19:57.655 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:19:57.656 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:19:57.655 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:19:57.764 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 19:19:57.764 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 19:19:57.764 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:19:57.764 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:19:57.764 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:19:57.765 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 19:19:57.765 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:19:57.765 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:19:57.765 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:19:57.765 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:19:57.788 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 1, 余额: 0.00
2025-10-17 19:19:57.788 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:19:57.789 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:19:57.789 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:19:57.795 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:19:57.796 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=1
2025-10-17 19:19:57.845 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:19:57.849 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 19:19:57.849 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 19:19:57.849 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:19:57.850 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 0 条记录，共 0 条
2025-10-17 19:19:57.852 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:19:57.852 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:19:57.852 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:19:57.854 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:08.462 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-17 19:20:08.463 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:08.471 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:20:08.476 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-17 19:20:08.476 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-17 19:20:08.504 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-17 19:20:08.507 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:16.677 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 19:20:16.678 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:16.678 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:20:16.679 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 19:20:16.679 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 19:20:16.716 [http-nio-8080-exec-7] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=admin, userType=admin
2025-10-17 19:20:16.718 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: admin, 登录类型: admin
2025-10-17 19:20:16.796 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-17 19:20:16.809 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 19:20:16.818 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: admin
2025-10-17 19:20:16.822 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:19.545 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 19:20:19.545 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 19:20:19.545 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:19.546 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:19.549 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:19.549 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:19.561 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 19:20:19.562 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 19:20:19.562 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 19:20:19.562 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 19:20:19.562 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 19:20:19.564 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:20:19.565 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:20:19.565 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 19:20:19.581 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:19.584 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 19:20:19.588 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:25.365 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:20:25.365 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:20:25.365 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 19:20:25.365 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:25.365 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:20:25.365 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:25.365 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:25.365 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:25.371 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:25.371 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:25.372 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:25.373 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:25.378 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 19:20:25.378 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 19:20:25.379 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:20:25.380 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:20:25.379 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:20:25.380 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:20:25.380 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:20:25.380 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:20:25.384 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 19:20:25.384 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 19:20:25.384 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 19:20:25.386 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 116.00
2025-10-17 19:20:25.388 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:25.390 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 19:20:25.391 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:25.395 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:25.395 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:32.465 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 19:20:32.465 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:32.467 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:32.472 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 19:20:32.472 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 19:20:32.481 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 5, 余额: 116.00
2025-10-17 19:20:32.482 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:32.635 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:20:32.636 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:32.637 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:32.641 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:20:32.641 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:20:32.645 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=5
2025-10-17 19:20:32.652 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:20:32.652 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:20:32.652 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:32.652 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:32.655 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:32.656 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:32.657 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:32.662 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:20:32.662 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:20:32.662 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:20:32.662 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:20:32.666 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 19:20:32.667 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=5, current=1, size=1000, category=null
2025-10-17 19:20:32.671 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 19:20:32.673 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:32.676 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:50.808 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-17 19:20:50.808 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:50.810 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-17 19:20:50.814 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-17 19:20:50.814 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-17 19:20:50.815 [http-nio-8080-exec-8] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-17 19:20:50.816 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:20:59.724 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-17 19:20:59.724 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:20:59.725 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:20:59.725 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-17 19:20:59.725 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-17 19:20:59.726 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=LLL, userType=user
2025-10-17 19:20:59.726 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: LLL, 登录类型: user
2025-10-17 19:20:59.795 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-17 19:20:59.797 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 19:20:59.801 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: LLL
2025-10-17 19:20:59.803 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:01.546 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 19:21:01.547 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:01.549 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:01.557 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 19:21:01.557 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 19:21:01.558 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 19:21:01.558 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 19:21:01.562 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:01.788 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 19:21:01.788 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:01.791 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:01.794 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 19:21:01.794 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 19:21:01.796 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:21:01.796 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:21:01.801 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 19:21:01.802 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:03.168 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:21:03.168 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:21:03.168 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 19:21:03.168 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:03.168 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:21:03.168 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:03.168 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:03.168 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:03.170 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:03.170 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:03.171 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:03.171 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:03.174 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:21:03.174 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:21:03.175 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:21:03.175 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 19:21:03.175 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:21:03.175 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:21:03.175 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:21:03.175 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 19:21:03.179 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:21:03.179 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=1
2025-10-17 19:21:03.179 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:21:03.186 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 1, 余额: 0.00
2025-10-17 19:21:03.187 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:03.188 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 19:21:03.189 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:03.190 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:03.193 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:09.751 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/files/upload/payment-proof
2025-10-17 19:21:09.752 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:09.757 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:09.763 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/files/upload/payment-proof] with attributes [permitAll]
2025-10-17 19:21:09.763 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/files/upload/payment-proof
2025-10-17 19:21:09.783 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.FileController] - 上传支付凭证: fileName=2.jpg, size=433200
2025-10-17 19:21:09.921 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: payment-proof/1760700069783_2.jpg
2025-10-17 19:21:09.926 [http-nio-8080-exec-7] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.550598251476262161\work\Tomcat\localhost\api\upload_e82cd018_5fa1_4790_b107_6ee2b6cca40f_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.550598251476262161\work\Tomcat\localhost\api\upload_e82cd018_5fa1_4790_b107_6ee2b6cca40f_00000000.tmp
	... 94 common frames omitted
2025-10-17 19:21:09.927 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:09.928 [http-nio-8080-exec-7] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.550598251476262161\work\Tomcat\localhost\api\upload_e82cd018_5fa1_4790_b107_6ee2b6cca40f_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.550598251476262161\work\Tomcat\localhost\api\upload_e82cd018_5fa1_4790_b107_6ee2b6cca40f_00000000.tmp
	... 13 common frames omitted
2025-10-17 19:21:11.348 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/user/recharge/apply
2025-10-17 19:21:11.348 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:11.350 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:11.354 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/user/recharge/apply] with attributes [permitAll]
2025-10-17 19:21:11.354 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/user/recharge/apply
2025-10-17 19:21:11.367 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 用户申请充值: userId=1, amount=1000
2025-10-17 19:21:11.380 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 19:21:11.388 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 用户充值申请成功: recordId=6
2025-10-17 19:21:11.394 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:11.609 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:21:11.610 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:11.611 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:11.615 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:21:11.615 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:21:11.618 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=1
2025-10-17 19:21:11.625 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:11.717 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:21:11.717 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:21:11.717 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:11.717 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:11.719 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:11.719 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:11.724 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:21:11.724 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:21:11.725 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:21:11.725 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:21:11.728 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:21:11.728 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:21:11.732 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 19:21:11.733 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:11.733 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:17.684 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-17 19:21:17.685 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:17.687 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:17.692 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-17 19:21:17.692 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-17 19:21:17.693 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-17 19:21:17.696 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-17 19:21:17.720 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 14
2025-10-17 19:21:17.723 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:18.575 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 19:21:18.575 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-17 19:21:18.575 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:18.575 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:18.576 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:18.577 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:18.580 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-17 19:21:18.580 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-17 19:21:18.580 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-17 19:21:18.580 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-17 19:21:18.590 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-17 19:21:18.590 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 19:21:18.590 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-17 19:21:18.590 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-17 19:21:18.598 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:18.601 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:19.771 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:21:19.772 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:19.773 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:19.776 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 19:21:19.776 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:21:19.777 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:21:19.777 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:21:19.782 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 0 条记录
2025-10-17 19:21:19.783 [http-nio-8080-exec-5] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:21:19.783 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 0 条记录，共 0 条
2025-10-17 19:21:19.784 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:21.491 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 19:21:21.492 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:21.494 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:21.497 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 19:21:21.497 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 19:21:21.500 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 19:21:21.514 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:32.372 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/recharge/audit
2025-10-17 19:21:32.372 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:32.374 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:32.377 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/recharge/audit] with attributes [permitAll]
2025-10-17 19:21:32.377 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/recharge/audit
2025-10-17 19:21:32.380 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 管理员审核充值: auditorId=1, recordId=6, status=1
2025-10-17 19:21:32.384 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 19:21:32.388 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 19:21:32.390 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 用户余额更新成功: userId=1, oldBalance=0.00, newBalance=1000.00
2025-10-17 19:21:32.390 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 充值审核完成: recordId=6, status=1
2025-10-17 19:21:32.393 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:32.402 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 19:21:32.403 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:32.404 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:32.407 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-17 19:21:32.407 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-17 19:21:32.408 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-17 19:21:32.414 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:43.990 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:21:43.990 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-17 19:21:43.990 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:43.990 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:43.992 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:43.992 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:43.996 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-17 19:21:43.996 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:21:43.996 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-17 19:21:43.996 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-17 19:21:43.999 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=1
2025-10-17 19:21:44.003 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 1, 余额: 1000.00
2025-10-17 19:21:44.005 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:44.008 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:44.126 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:21:44.126 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:44.128 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:44.131 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-17 19:21:44.132 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-17 19:21:44.138 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:44.187 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:21:44.188 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:44.189 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:44.192 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:21:44.192 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-17 19:21:44.194 [http-nio-8080-exec-4] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:21:44.194 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=1, current=1, size=1000, category=null
2025-10-17 19:21:44.197 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共0条
2025-10-17 19:21:44.198 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:47.171 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 19:21:47.171 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 19:21:47.171 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:47.171 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:47.173 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:47.174 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:47.176 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 19:21:47.176 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 19:21:47.177 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 19:21:47.177 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 19:21:47.178 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 19:21:47.177 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:21:47.178 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 19:21:47.178 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:21:47.183 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:47.187 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 19:21:47.189 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:21:48.428 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 19:21:48.428 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:21:48.431 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:21:48.435 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 19:21:48.435 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 19:21:48.436 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 19:21:48.436 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 19:21:48.441 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:03.586 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 19:22:03.587 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:03.588 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:03.591 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 19:22:03.591 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 19:22:03.600 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=1, roomId=1
2025-10-17 19:22:03.605 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 19:22:03.607 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=1, 扣款金额=98.00, 原余额=1000.00, 新余额=902.00
2025-10-17 19:22:03.611 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 19:22:03.614 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=22, orderNo=YX17607001236074440, 支付金额=98.00，等待管理员确认后创建消费记录
2025-10-17 19:22:03.617 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:03.933 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 19:22:03.934 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:03.945 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:03.950 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 19:22:03.951 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 19:22:03.955 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=10, status=null
2025-10-17 19:22:03.961 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 19:22:03.964 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-17 19:22:03.968 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:22:03.970 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:03.995 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 19:22:03.996 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:03.996 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:22:03.996 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 19:22:03.997 [http-nio-8080-exec-3] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 19:22:03.997 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:03.999 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 19:22:03.999 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:03.999 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:22:03.999 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 19:22:04.008 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:04.192 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 19:22:04.193 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:04.195 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:04.198 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:22:04.198 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 19:22:04.201 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=1000, status=null
2025-10-17 19:22:04.205 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 19:22:04.205 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-17 19:22:04.210 [http-nio-8080-exec-8] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:22:04.211 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:11.637 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 19:22:11.638 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:11.639 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:11.643 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-17 19:22:11.644 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-17 19:22:11.657 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:12.351 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:22:12.351 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:12.353 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:12.356 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 19:22:12.357 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:22:12.358 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:22:12.358 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:22:12.364 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 19:22:12.364 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-17 19:22:12.368 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:22:12.369 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 1 条记录，共 1 条
2025-10-17 19:22:12.370 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:17.350 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /admin/bookings/22/confirm
2025-10-17 19:22:17.350 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:17.352 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:17.355 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /admin/bookings/22/confirm] with attributes [permitAll]
2025-10-17 19:22:17.355 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /admin/bookings/22/confirm
2025-10-17 19:22:17.355 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.BookingController] - 管理员确认订单: id=22
2025-10-17 19:22:17.356 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单: id=22
2025-10-17 19:22:17.361 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 19:22:17.366 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 19:22:17.368 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单确认成功，已创建消费交易记录: orderId=22, amount=98.00
2025-10-17 19:22:17.368 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 管理员确认订单成功: orderId=22
2025-10-17 19:22:17.371 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:17.377 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:22:17.378 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:17.380 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:17.384 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-17 19:22:17.384 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-17 19:22:17.385 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:22:17.385 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-17 19:22:17.389 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 19:22:17.389 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-17 19:22:17.393 [http-nio-8080-exec-9] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:22:17.393 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 1 条记录，共 1 条
2025-10-17 19:22:17.394 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:42.030 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 19:22:42.030 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:42.033 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:42.036 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 19:22:42.037 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 19:22:42.041 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=10, status=null
2025-10-17 19:22:42.049 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 19:22:42.049 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-17 19:22:42.053 [http-nio-8080-exec-6] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:22:42.054 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:42.070 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 19:22:42.070 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:42.070 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:22:42.071 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 19:22:42.071 [http-nio-8080-exec-5] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 19:22:42.072 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:42.072 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 19:22:42.072 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:42.072 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:22:42.072 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 19:22:42.075 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:42.166 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 19:22:42.166 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:42.168 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:42.171 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:22:42.171 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 19:22:42.173 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=1000, status=null
2025-10-17 19:22:42.178 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 1 条记录
2025-10-17 19:22:42.178 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-17 19:22:42.181 [http-nio-8080-exec-1] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:22:42.182 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:43.645 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-17 19:22:43.645 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-17 19:22:43.645 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:43.645 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:43.647 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:43.647 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:43.650 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-17 19:22:43.650 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-17 19:22:43.650 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-17 19:22:43.651 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-17 19:22:43.651 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-17 19:22:43.652 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:22:43.653 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-17 19:22:43.653 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-17 19:22:43.661 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:43.665 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-17 19:22:43.667 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:22:44.700 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/1
2025-10-17 19:22:44.701 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:22:44.702 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:22:44.706 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/1] with attributes [permitAll]
2025-10-17 19:22:44.706 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/1
2025-10-17 19:22:44.706 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房间详情: id=1
2025-10-17 19:22:44.706 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询房间详情: id=1
2025-10-17 19:22:44.709 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:23:12.692 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/bookings
2025-10-17 19:23:12.693 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:23:12.695 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:23:12.698 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/bookings] with attributes [permitAll]
2025-10-17 19:23:12.698 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/bookings
2025-10-17 19:23:12.701 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户创建订单: userId=1, roomId=1
2025-10-17 19:23:12.706 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-17 19:23:12.707 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 用户余额扣款成功: userId=1, 扣款金额=98.00, 原余额=902.00, 新余额=804.00
2025-10-17 19:23:12.708 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-17 19:23:12.710 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 订单创建成功: orderId=23, orderNo=YX17607001927079386, 支付金额=98.00，等待管理员确认后创建消费记录
2025-10-17 19:23:12.713 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:23:12.953 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=10
2025-10-17 19:23:12.953 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:23:12.956 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:23:12.959 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=10] with attributes [permitAll]
2025-10-17 19:23:12.960 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=10
2025-10-17 19:23:12.962 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=10, status=null
2025-10-17 19:23:12.967 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 2 条记录
2025-10-17 19:23:12.967 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-17 19:23:12.969 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-17 19:23:12.972 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:23:12.973 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:23:13.061 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /user/bookings/my?current=1&size=1000
2025-10-17 19:23:13.061 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:23:13.063 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /placeholder/300/200
2025-10-17 19:23:13.063 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:23:13.063 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:23:13.064 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /placeholder/300/200] with attributes [authenticated]
2025-10-17 19:23:13.064 [http-nio-8080-exec-9] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-17 19:23:13.064 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:23:13.064 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-17 19:23:13.064 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-17 19:23:13.064 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-17 19:23:13.064 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-17 19:23:13.064 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-17 19:23:13.066 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-17 19:23:13.067 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /user/bookings/my?current=1&size=1000] with attributes [permitAll]
2025-10-17 19:23:13.067 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /user/bookings/my?current=1&size=1000
2025-10-17 19:23:13.070 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询用户订单: userId=1, current=1, size=1000, status=null
2025-10-17 19:23:13.075 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 2 条记录
2025-10-17 19:23:13.076 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-17 19:23:13.078 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-17 19:23:13.081 [http-nio-8080-exec-4] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-17 19:23:13.082 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
