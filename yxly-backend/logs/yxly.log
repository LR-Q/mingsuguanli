2025-10-22 00:00:07.238 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 00:00:07.241 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:07.243 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:00:07.244 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 00:00:07.244 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 00:00:07.288 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=admin, userType=user
2025-10-22 00:00:07.290 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: admin, 登录类型: user
2025-10-22 00:00:07.365 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 00:00:07.382 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 00:00:07.390 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: admin
2025-10-22 00:00:07.394 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:09.754 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-22 00:00:09.754 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 00:00:09.756 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:09.756 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:09.757 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:09.758 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:09.764 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-22 00:00:09.764 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-22 00:00:09.766 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-22 00:00:09.766 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 00:00:09.776 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 00:00:09.776 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-22 00:00:09.779 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 00:00:09.779 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-22 00:00:09.797 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:09.867 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:12.028 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 00:00:12.028 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:12.030 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:12.036 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 00:00:12.037 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 00:00:12.038 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 00:00:12.042 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 00:00:12.079 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 15
2025-10-22 00:00:12.084 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:18.307 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-22 00:00:18.307 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 00:00:18.307 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:18.307 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:18.309 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:18.310 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:18.314 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-22 00:00:18.314 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-22 00:00:18.315 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-22 00:00:18.315 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-22 00:00:18.315 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-22 00:00:18.315 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 00:00:18.317 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 00:00:18.317 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 00:00:18.324 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:18.329 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:18.788 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 00:00:18.790 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:18.792 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:18.797 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 00:00:18.798 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 00:00:18.798 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 00:00:18.798 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 00:00:18.812 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 15
2025-10-22 00:00:18.815 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:21.312 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-22 00:00:21.312 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:21.313 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:21.318 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-22 00:00:21.318 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-22 00:00:21.319 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-22 00:00:21.319 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-22 00:00:21.330 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:21.614 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 00:00:21.614 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:21.616 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:21.619 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-22 00:00:21.619 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 00:00:21.620 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 00:00:21.620 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 00:00:21.628 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:21.698 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-22 00:00:21.699 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:21.701 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:21.705 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-22 00:00:21.705 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-22 00:00:21.707 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-22 00:00:21.709 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-22 00:00:21.722 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-22 00:00:21.727 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=27, orderNo=YX17608493364647835, roomId=1
2025-10-22 00:00:21.733 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=26, orderNo=YX17607009096022310, roomId=1
2025-10-22 00:00:21.738 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=25, orderNo=YX17607007935715752, roomId=1
2025-10-22 00:00:21.743 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=24, orderNo=YX1760700772778945, roomId=1
2025-10-22 00:00:21.749 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-22 00:00:21.754 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-22 00:00:21.760 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-22 00:00:21.761 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-22 00:00:21.765 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:23.284 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 00:00:23.284 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:23.287 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:23.293 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-22 00:00:23.293 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 00:00:23.299 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-22 00:00:23.311 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:23.622 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 00:00:23.623 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:23.626 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:23.630 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-22 00:00:23.631 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 00:00:23.655 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:24.042 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 00:00:24.042 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:24.045 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:24.050 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 00:00:24.050 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 00:00:24.055 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10
2025-10-22 00:00:24.055 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10
2025-10-22 00:00:24.066 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:32.670 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 00:00:32.671 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:32.673 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:32.677 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 00:00:32.677 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 00:00:32.678 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 00:00:32.678 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 00:00:32.680 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 00:00:32.682 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:51.481 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 00:00:51.481 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:51.483 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:00:51.486 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 00:00:51.486 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 00:00:51.486 [http-nio-8080-exec-7] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 00:00:51.488 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:58.445 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 00:00:58.446 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:58.446 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:00:58.446 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 00:00:58.446 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 00:00:58.447 [http-nio-8080-exec-10] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=LLL, userType=user
2025-10-22 00:00:58.447 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: LLL, 登录类型: user
2025-10-22 00:00:58.524 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 00:00:58.529 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 00:00:58.532 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: LLL
2025-10-22 00:00:58.533 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:00:58.694 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 00:00:58.694 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:00:58.696 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:00:58.700 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 00:00:58.700 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 00:00:58.700 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 00:00:58.700 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 00:00:58.703 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 00:00:58.704 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:01.615 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-22 00:01:01.615 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-22 00:01:01.616 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:01.616 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:01.619 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:01.619 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:01.623 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-22 00:01:01.623 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-22 00:01:01.624 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-22 00:01:01.624 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-22 00:01:01.625 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-22 00:01:01.625 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-22 00:01:01.626 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-22 00:01:01.627 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-22 00:01:01.634 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:01.642 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-22 00:01:01.646 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:01.860 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-22 00:01:01.860 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:01.863 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:01.866 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-22 00:01:01.867 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-22 00:01:01.896 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:07.426 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/balance
2025-10-22 00:01:07.426 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/records?current=1&size=10
2025-10-22 00:01:07.426 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/financial-records/my?current=1&size=1000
2025-10-22 00:01:07.426 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:07.426 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:07.426 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:07.426 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-22 00:01:07.428 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:07.430 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:07.430 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:07.431 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:07.431 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:07.438 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/records?current=1&size=10] with attributes [permitAll]
2025-10-22 00:01:07.438 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/balance] with attributes [permitAll]
2025-10-22 00:01:07.438 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/records?current=1&size=10
2025-10-22 00:01:07.438 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/balance
2025-10-22 00:01:07.443 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询用户充值记录: current=1, size=10, userId=1
2025-10-22 00:01:07.447 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRechargeController] - 获取用户余额成功，用户ID: 1, 余额: 902.00
2025-10-22 00:01:07.449 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/recharge/withdraw/records?current=1&size=10] with attributes [permitAll]
2025-10-22 00:01:07.449 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/recharge/withdraw/records?current=1&size=10
2025-10-22 00:01:07.449 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/user/financial-records/my?current=1&size=1000] with attributes [permitAll]
2025-10-22 00:01:07.450 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:07.450 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/user/financial-records/my?current=1&size=1000
2025-10-22 00:01:07.457 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.FinancialRecordController] - 用户获取财务记录: userId=1, current=1, size=1000, category=null
2025-10-22 00:01:07.458 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录: userId=1, current=1, size=1000, category=null
2025-10-22 00:01:07.459 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:07.468 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:07.510 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.FinancialRecordServiceImpl] - 获取用户财务记录成功，共5条
2025-10-22 00:01:07.514 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:09.827 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-22 00:01:09.827 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-22 00:01:09.827 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:09.827 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:09.832 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:09.832 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:09.839 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-22 00:01:09.839 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-22 00:01:09.839 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-22 00:01:09.840 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-22 00:01:09.840 [http-nio-8080-exec-7] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-22 00:01:09.840 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-22 00:01:09.841 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-22 00:01:09.841 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-22 00:01:09.847 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:09.852 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-22 00:01:09.854 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:10.143 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-22 00:01:10.143 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:10.146 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:10.150 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-22 00:01:10.150 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-22 00:01:10.168 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:18.949 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 00:01:18.950 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:18.952 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:18.954 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 00:01:18.954 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 00:01:18.956 [http-nio-8080-exec-8] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 00:01:18.956 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 00:01:18.958 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 00:01:18.959 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:25.019 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 00:01:25.019 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:25.021 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: LLL
2025-10-22 00:01:25.024 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 00:01:25.025 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 00:01:25.025 [http-nio-8080-exec-1] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 00:01:25.026 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:35.296 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 00:01:35.296 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:35.298 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:01:35.298 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 00:01:35.298 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 00:01:35.299 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=admin, userType=user
2025-10-22 00:01:35.299 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: admin, 登录类型: user
2025-10-22 00:01:35.369 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 00:01:35.373 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 00:01:35.378 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: admin
2025-10-22 00:01:35.378 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:39.135 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 00:01:39.136 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:39.138 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:01:39.142 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 00:01:39.142 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 00:01:39.142 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 00:01:39.142 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 00:01:39.145 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 00:01:39.147 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:42.055 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 00:01:42.055 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:42.056 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 00:01:42.059 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 00:01:42.059 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 00:01:42.060 [http-nio-8080-exec-4] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 00:01:42.060 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:01:53.409 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XHH
2025-10-22 00:01:53.409 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:01:53.409 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:01:53.410 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XHH] with attributes [permitAll]
2025-10-22 00:01:53.410 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XHH
2025-10-22 00:01:53.413 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:21.955 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-phone?phone=19522288371
2025-10-22 00:02:21.956 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:21.956 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:21.956 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-phone?phone=19522288371] with attributes [permitAll]
2025-10-22 00:02:21.956 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-phone?phone=19522288371
2025-10-22 00:02:21.960 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:23.973 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/upload/image
2025-10-22 00:02:23.975 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:23.977 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:23.977 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/upload/image] with attributes [permitAll]
2025-10-22 00:02:23.977 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/upload/image
2025-10-22 00:02:24.020 [http-nio-8080-exec-7] INFO  [com.yxly.controller.upload.UploadController] - 接收到图片上传请求: filename=xhh.jpg, size=400877
2025-10-22 00:02:24.154 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: idcards/20251022/69260b5abe7c46e9be853a8827d34859.jpg
2025-10-22 00:02:24.155 [http-nio-8080-exec-7] INFO  [com.yxly.controller.upload.UploadController] - 图片上传成功: http://localhost:9000/txt/idcards/20251022/69260b5abe7c46e9be853a8827d34859.jpg
2025-10-22 00:02:24.161 [http-nio-8080-exec-7] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8573356819353930331\work\Tomcat\localhost\api\upload_940d7806_f23d_4bb5_9c90_e85d3dc4e487_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8573356819353930331\work\Tomcat\localhost\api\upload_940d7806_f23d_4bb5_9c90_e85d3dc4e487_00000000.tmp
	... 94 common frames omitted
2025-10-22 00:02:24.162 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:24.163 [http-nio-8080-exec-7] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8573356819353930331\work\Tomcat\localhost\api\upload_940d7806_f23d_4bb5_9c90_e85d3dc4e487_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8573356819353930331\work\Tomcat\localhost\api\upload_940d7806_f23d_4bb5_9c90_e85d3dc4e487_00000000.tmp
	... 13 common frames omitted
2025-10-22 00:02:26.683 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/upload/image
2025-10-22 00:02:26.685 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:26.685 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:26.685 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/upload/image] with attributes [permitAll]
2025-10-22 00:02:26.685 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/upload/image
2025-10-22 00:02:26.691 [http-nio-8080-exec-10] INFO  [com.yxly.controller.upload.UploadController] - 接收到图片上传请求: filename=xhh.jpg, size=400877
2025-10-22 00:02:26.704 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: idcards/20251022/0018f350bba5476791b33e63a286e7cf.jpg
2025-10-22 00:02:26.704 [http-nio-8080-exec-10] INFO  [com.yxly.controller.upload.UploadController] - 图片上传成功: http://localhost:9000/txt/idcards/20251022/0018f350bba5476791b33e63a286e7cf.jpg
2025-10-22 00:02:26.706 [http-nio-8080-exec-10] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8573356819353930331\work\Tomcat\localhost\api\upload_940d7806_f23d_4bb5_9c90_e85d3dc4e487_00000001.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8573356819353930331\work\Tomcat\localhost\api\upload_940d7806_f23d_4bb5_9c90_e85d3dc4e487_00000001.tmp
	... 94 common frames omitted
2025-10-22 00:02:26.707 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:26.709 [http-nio-8080-exec-10] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8573356819353930331\work\Tomcat\localhost\api\upload_940d7806_f23d_4bb5_9c90_e85d3dc4e487_00000001.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.8573356819353930331\work\Tomcat\localhost\api\upload_940d7806_f23d_4bb5_9c90_e85d3dc4e487_00000001.tmp
	... 13 common frames omitted
2025-10-22 00:02:28.208 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XHH
2025-10-22 00:02:28.208 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:28.208 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:28.209 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XHH] with attributes [permitAll]
2025-10-22 00:02:28.209 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XHH
2025-10-22 00:02:28.212 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:28.474 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-phone?phone=19522288371
2025-10-22 00:02:28.474 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:28.474 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:28.474 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-phone?phone=19522288371] with attributes [permitAll]
2025-10-22 00:02:28.475 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-phone?phone=19522288371
2025-10-22 00:02:28.477 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:28.519 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/merchant/register
2025-10-22 00:02:28.519 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:28.520 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:28.520 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [POST /v1/merchant/register] with attributes [authenticated]
2025-10-22 00:02:28.520 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-22 00:02:28.520 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:28.522 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /error
2025-10-22 00:02:28.522 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:28.522 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:28.522 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /error
2025-10-22 00:02:28.529 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:31.967 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XHH
2025-10-22 00:02:31.968 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:31.968 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:31.968 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XHH] with attributes [permitAll]
2025-10-22 00:02:31.968 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XHH
2025-10-22 00:02:31.971 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:32.291 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-phone?phone=19522288371
2025-10-22 00:02:32.292 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:32.292 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:32.292 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-phone?phone=19522288371] with attributes [permitAll]
2025-10-22 00:02:32.292 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-phone?phone=19522288371
2025-10-22 00:02:32.295 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:32.555 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/merchant/register
2025-10-22 00:02:32.557 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:32.557 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:32.557 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [POST /v1/merchant/register] with attributes [authenticated]
2025-10-22 00:02:32.557 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-22 00:02:32.557 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:02:32.558 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /error
2025-10-22 00:02:32.558 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:02:32.558 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:02:32.558 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /error
2025-10-22 00:02:32.560 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:03:11.840 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 00:03:11.840 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:03:11.840 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:03:11.842 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 00:03:11.842 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 00:03:11.843 [http-nio-8080-exec-5] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 00:03:11.843 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 00:03:11.913 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: false
2025-10-22 00:03:11.915 [http-nio-8080-exec-5] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：用户名或密码错误
2025-10-22 00:03:11.916 [http-nio-8080-exec-5] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10107, message=用户名或密码错误)]
2025-10-22 00:03:11.916 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:03:55.967 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 00:03:55.968 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:03:55.969 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:03:55.969 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 00:03:55.970 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 00:03:55.971 [http-nio-8080-exec-6] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 00:03:55.971 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 00:03:56.060 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: false
2025-10-22 00:03:56.061 [http-nio-8080-exec-6] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：用户名或密码错误
2025-10-22 00:03:56.063 [http-nio-8080-exec-6] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10107, message=用户名或密码错误)]
2025-10-22 00:03:56.063 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:04:49.663 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 00:04:49.663 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:04:49.664 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:04:49.664 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 00:04:49.664 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 00:04:49.665 [http-nio-8080-exec-7] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 00:04:49.665 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 00:04:49.732 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: false
2025-10-22 00:04:49.733 [http-nio-8080-exec-7] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：用户名或密码错误
2025-10-22 00:04:49.734 [http-nio-8080-exec-7] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10107, message=用户名或密码错误)]
2025-10-22 00:04:49.734 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:08:36.395 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 00:08:36.395 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:08:36.396 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:08:36.397 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 00:08:36.397 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 00:08:36.400 [http-nio-8080-exec-10] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 00:08:36.406 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 00:08:36.496 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: false
2025-10-22 00:08:36.498 [http-nio-8080-exec-10] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：用户名或密码错误
2025-10-22 00:08:36.499 [http-nio-8080-exec-10] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10107, message=用户名或密码错误)]
2025-10-22 00:08:36.499 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:08:40.665 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 00:08:40.666 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:08:40.667 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:08:40.667 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 00:08:40.667 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 00:08:40.668 [http-nio-8080-exec-9] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 00:08:40.668 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 00:08:40.745 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 00:08:40.749 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 00:08:40.752 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: superadmin
2025-10-22 00:08:40.753 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:08:41.692 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 00:08:41.692 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:08:41.692 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:08:41.692 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 00:08:41.693 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 00:08:41.693 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 00:08:41.696 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 00:08:41.710 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:08:42.317 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 00:08:42.318 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:08:42.322 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:08:42.327 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 00:08:42.327 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 00:08:42.328 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 00:08:42.328 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 00:08:42.333 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 00:08:42.334 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:08:42.994 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-22 00:08:42.994 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:08:42.994 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-22 00:08:42.994 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:08:42.996 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:08:42.996 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:08:42.999 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-22 00:08:43.000 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-22 00:08:43.000 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-22 00:08:43.000 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-22 00:08:43.001 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-22 00:08:43.001 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-22 00:08:43.002 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-22 00:08:43.002 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-22 00:08:43.005 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:08:43.011 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-22 00:08:43.013 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:08:43.107 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-22 00:08:43.108 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:08:43.111 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:08:43.115 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-22 00:08:43.115 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-22 00:08:43.133 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:09:02.668 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms/types
2025-10-22 00:09:02.669 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:09:02.671 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:09:02.677 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms/types] with attributes [permitAll]
2025-10-22 00:09:02.677 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms/types
2025-10-22 00:09:02.678 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询房型列表
2025-10-22 00:09:02.678 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询所有房型列表
2025-10-22 00:09:02.684 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:09:02.860 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/rooms?current=1&size=6
2025-10-22 00:09:02.860 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:09:02.861 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:09:02.864 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/rooms?current=1&size=6] with attributes [permitAll]
2025-10-22 00:09:02.864 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/rooms?current=1&size=6
2025-10-22 00:09:02.866 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserRoomController] - 用户查询可用房间: current=1, size=6, roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-22 00:09:02.866 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间: roomTypeId=null, maxGuests=null, minPrice=null, maxPrice=null
2025-10-22 00:09:02.872 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 用户查询可用房间完成: total=5, records=5
2025-10-22 00:09:02.873 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:09:02.908 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /user/favorites/check-batch
2025-10-22 00:09:02.908 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:09:02.912 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:09:02.917 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /user/favorites/check-batch] with attributes [authenticated]
2025-10-22 00:09:02.917 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /user/favorites/check-batch
2025-10-22 00:09:02.933 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:11:47.777 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 00:11:47.777 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:11:47.779 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:11:47.783 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 00:11:47.783 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 00:11:47.783 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 00:11:47.784 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 00:11:47.787 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 00:11:47.788 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:12:03.782 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 00:12:03.782 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:12:03.783 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:12:03.786 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 00:12:03.786 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 00:12:03.786 [http-nio-8080-exec-9] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 00:12:03.786 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 00:12:03.788 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 00:12:03.790 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:12:08.656 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 00:12:08.658 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:12:08.659 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:12:08.662 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 00:12:08.662 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 00:12:08.663 [http-nio-8080-exec-8] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 00:12:08.663 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:12:46.070 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 00:12:46.071 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:12:46.071 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:12:46.071 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 00:12:46.071 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 00:12:46.072 [http-nio-8080-exec-1] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 00:12:46.072 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 00:12:46.142 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 00:12:46.145 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 00:12:46.147 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: superadmin
2025-10-22 00:12:46.149 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:12:46.224 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 00:12:46.224 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:12:46.224 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 00:12:46.225 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 00:12:46.225 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 00:12:46.225 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 00:12:46.225 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 00:12:46.229 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:12:59.675 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 00:12:59.677 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:12:59.678 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:12:59.681 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 00:12:59.682 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 00:12:59.682 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 00:12:59.683 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 00:12:59.693 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 15
2025-10-22 00:12:59.695 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:13:02.391 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 00:13:02.392 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:13:02.393 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:13:02.396 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 00:13:02.396 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 00:13:02.397 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 00:13:02.400 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 00:13:02.411 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 15
2025-10-22 00:13:02.412 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:13:03.004 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 00:13:03.004 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-22 00:13:03.004 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:13:03.004 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:13:03.006 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:13:03.006 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:13:03.010 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-22 00:13:03.010 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-22 00:13:03.010 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-22 00:13:03.010 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 00:13:03.011 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-22 00:13:03.011 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-22 00:13:03.011 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 00:13:03.011 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 00:13:03.018 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:13:03.027 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:13:03.434 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-22 00:13:03.435 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:13:03.436 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:13:03.439 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-22 00:13:03.439 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-22 00:13:03.440 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-22 00:13:03.440 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-22 00:13:03.447 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-22 00:13:03.451 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=27, orderNo=YX17608493364647835, roomId=1
2025-10-22 00:13:03.454 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=26, orderNo=YX17607009096022310, roomId=1
2025-10-22 00:13:03.457 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=25, orderNo=YX17607007935715752, roomId=1
2025-10-22 00:13:03.460 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=24, orderNo=YX1760700772778945, roomId=1
2025-10-22 00:13:03.463 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-22 00:13:03.466 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-22 00:13:03.468 [http-nio-8080-exec-7] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-22 00:13:03.468 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-22 00:13:03.470 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:13:04.176 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 00:13:04.176 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:13:04.177 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:13:04.181 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-22 00:13:04.181 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 00:13:04.182 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-22 00:13:04.194 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:13:04.538 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 00:13:04.538 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:13:04.539 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:13:04.542 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-22 00:13:04.542 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 00:13:04.551 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:13:04.930 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 00:13:04.930 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:13:04.932 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:13:04.934 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 00:13:04.934 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 00:13:04.938 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10
2025-10-22 00:13:04.938 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10
2025-10-22 00:13:04.945 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 00:14:23.080 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 00:14:23.086 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 00:14:28.171 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 44740 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 00:14:28.173 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 00:14:28.173 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 00:14:28.211 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 00:14:28.211 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 00:14:28.732 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 00:14:28.734 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 00:14:28.757 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-10-22 00:14:29.362 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 00:14:29.370 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 00:14:29.371 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 00:14:29.436 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 00:14:29.436 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1224 ms
2025-10-22 00:14:29.506 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 00:14:29.859 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 00:14:30.117 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 00:14:30.533 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 00:14:30.534 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 00:14:30.534 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 00:14:30.534 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 00:14:30.534 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 00:14:30.534 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 00:14:30.535 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 00:14:30.537 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 00:14:30.537 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 00:14:30.537 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 00:14:30.538 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 00:14:30.538 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 00:14:30.538 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 00:14:30.538 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 00:14:30.543 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ed4433c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68d85030, org.springframework.security.web.context.SecurityContextPersistenceFilter@48b55511, org.springframework.security.web.header.HeaderWriterFilter@77ca78f8, org.springframework.web.filter.CorsFilter@4d862367, org.springframework.security.web.authentication.logout.LogoutFilter@44a23833, com.yxly.security.JwtAuthenticationFilter@30732c37, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@520cdbe4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a024203, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76f7f97e, org.springframework.security.web.session.SessionManagementFilter@4f405570, org.springframework.security.web.access.ExceptionTranslationFilter@2cacec76, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6455ff4]
2025-10-22 00:14:31.122 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 00:14:31.163 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 00:14:31.172 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.312 seconds (JVM running for 3.602)
2025-10-22 00:14:36.110 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 00:14:36.110 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 00:14:36.111 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 00:14:36.118 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 00:14:36.121 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 00:14:36.164 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 00:14:36.256 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 00:14:36.256 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 00:14:36.267 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 00:14:36.272 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 00:14:36.279 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 00:14:36.334 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:02:52.850 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 5608 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 18:02:52.853 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 18:02:52.853 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 18:02:52.905 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 18:02:52.905 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 18:02:53.578 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 18:02:53.583 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 18:02:53.611 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-10-22 18:02:54.401 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 18:02:54.410 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 18:02:54.411 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 18:02:54.497 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 18:02:54.497 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1592 ms
2025-10-22 18:02:54.578 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 18:02:55.034 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 18:02:55.333 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 18:02:55.807 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 18:02:55.808 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 18:02:55.808 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 18:02:55.808 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 18:02:55.808 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 18:02:55.809 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 18:02:55.811 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 18:02:55.811 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 18:02:55.811 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 18:02:55.811 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 18:02:55.811 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 18:02:55.811 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 18:02:55.812 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 18:02:55.812 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 18:02:55.819 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31eb1de0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a8f6758, org.springframework.security.web.context.SecurityContextPersistenceFilter@7744c0f3, org.springframework.security.web.header.HeaderWriterFilter@de9cd89, org.springframework.web.filter.CorsFilter@3dffa28a, org.springframework.security.web.authentication.logout.LogoutFilter@28497151, com.yxly.security.JwtAuthenticationFilter@70d57978, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e5a826, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ba69b0e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15dc9b9d, org.springframework.security.web.session.SessionManagementFilter@29d7a282, org.springframework.security.web.access.ExceptionTranslationFilter@276870ef, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@141136da]
2025-10-22 18:02:56.490 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 18:02:56.540 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 18:02:56.551 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 4.066 seconds (JVM running for 4.393)
2025-10-22 18:03:13.889 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 18:03:13.890 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 18:03:13.891 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 18:03:13.899 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:03:13.901 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:03:13.944 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:03:14.060 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:03:14.060 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 18:03:14.070 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 18:03:14.075 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 18:03:14.087 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 18:03:14.135 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:04:32.204 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 18:04:32.204 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:04:32.209 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:04:32.223 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 18:04:32.223 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 18:04:32.247 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 18:04:32.248 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:04:45.531 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:04:45.531 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:04:45.531 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:04:45.531 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:04:45.533 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-22 18:04:45.534 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:04:45.536 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-22 18:04:45.537 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:04:45.537 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:04:45.537 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-22 18:04:45.552 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:04:52.900 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 18:04:52.904 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 18:04:57.997 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 4120 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 18:04:57.999 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 18:04:57.999 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 18:04:58.035 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 18:04:58.035 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 18:04:58.521 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 18:04:58.523 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 18:04:58.544 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-10-22 18:04:59.139 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 18:04:59.147 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 18:04:59.147 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 18:04:59.210 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 18:04:59.210 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1175 ms
2025-10-22 18:04:59.275 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 18:04:59.595 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 18:04:59.839 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 18:05:00.249 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 18:05:00.249 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 18:05:00.250 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 18:05:00.250 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 18:05:00.250 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 18:05:00.250 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 18:05:00.250 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 18:05:00.250 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 18:05:00.250 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 18:05:00.250 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 18:05:00.251 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 18:05:00.251 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 18:05:00.251 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 18:05:00.251 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 18:05:00.251 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 18:05:00.251 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 18:05:00.251 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 18:05:00.251 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 18:05:00.252 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 18:05:00.252 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 18:05:00.252 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 18:05:00.252 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 18:05:00.252 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 18:05:00.257 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ff2aa83, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62c8b550, org.springframework.security.web.context.SecurityContextPersistenceFilter@76a677a3, org.springframework.security.web.header.HeaderWriterFilter@4bb9af29, org.springframework.web.filter.CorsFilter@41fa9494, org.springframework.security.web.authentication.logout.LogoutFilter@2da2ca3a, com.yxly.security.JwtAuthenticationFilter@325618b4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30e7f086, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67d70cbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@466a3f24, org.springframework.security.web.session.SessionManagementFilter@ff1b530, org.springframework.security.web.access.ExceptionTranslationFilter@263ecde3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b93bcf0]
2025-10-22 18:05:00.839 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 18:05:00.890 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 18:05:00.904 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.188 seconds (JVM running for 3.484)
2025-10-22 18:05:10.835 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 18:05:10.835 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 18:05:10.837 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-22 18:05:10.844 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:05:10.846 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:05:10.850 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:05:10.854 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:05:10.855 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-22 18:05:10.855 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:05:10.857 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-22 18:05:10.857 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:05:10.858 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:05:10.858 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-22 18:05:10.906 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:06:24.080 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 18:06:24.081 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:06:24.087 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:06:24.088 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 18:06:24.088 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 18:06:24.171 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 18:06:24.175 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 18:06:24.351 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: false
2025-10-22 18:06:24.355 [http-nio-8080-exec-2] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：用户名或密码错误
2025-10-22 18:06:24.370 [http-nio-8080-exec-2] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10107, message=用户名或密码错误)]
2025-10-22 18:06:24.372 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:06:37.839 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 18:06:37.839 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:06:37.840 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:06:37.840 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 18:06:37.840 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 18:06:37.842 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 18:06:37.842 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 18:06:37.912 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 18:06:37.942 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 18:06:37.953 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: superadmin
2025-10-22 18:06:37.958 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:06:38.436 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 18:06:38.437 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:06:38.437 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:06:38.437 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 18:06:38.438 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 18:06:38.441 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 18:06:38.444 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 18:06:38.458 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:06:48.201 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 18:06:48.201 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:06:48.202 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:06:48.202 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all?auditStatus=0] with attributes [permitAll]
2025-10-22 18:06:48.202 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 18:06:48.203 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=0
2025-10-22 18:06:48.203 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=0
2025-10-22 18:06:48.207 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:12:00.819 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:12:00.819 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:12:00.833 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:12:00.844 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:12:00.844 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 18:12:00.844 [http-nio-8080-exec-6] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 18:12:00.848 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 18:12:00.853 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 18:12:00.862 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:12:05.527 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 18:12:05.528 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:12:05.530 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:12:05.534 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 18:12:05.534 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 18:12:05.538 [http-nio-8080-exec-7] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 18:12:05.539 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:12:16.233 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 18:12:16.234 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:12:16.234 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:12:16.234 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 18:12:16.234 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 18:12:16.237 [http-nio-8080-exec-8] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=admin, userType=user
2025-10-22 18:12:16.237 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: admin, 登录类型: user
2025-10-22 18:12:16.310 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 18:12:16.313 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 18:12:16.317 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: admin
2025-10-22 18:12:16.318 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:13:12.701 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 18:13:12.701 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:13:12.703 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 18:13:12.706 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 18:13:12.708 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 18:13:12.710 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 18:13:12.714 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 18:13:12.793 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 15
2025-10-22 18:13:12.799 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:13:28.853 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 18:13:28.853 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:13:28.853 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:13:28.853 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 18:13:28.853 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 18:13:28.855 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 18:13:28.855 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 18:13:28.861 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:16:03.730 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 18:16:03.730 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:16:03.730 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:16:03.731 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 18:16:03.731 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 18:16:03.732 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 18:16:03.732 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 18:16:03.739 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:16:19.757 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:16:19.757 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:16:19.761 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 18:16:19.769 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:16:19.769 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 18:16:19.770 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 18:16:19.770 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 18:16:19.775 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 18:16:19.777 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:17:03.543 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 18:17:03.546 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 18:17:08.694 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 22264 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 18:17:08.696 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 18:17:08.696 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 18:17:08.731 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 18:17:08.731 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 18:17:09.229 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 18:17:09.231 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 18:17:09.251 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-22 18:17:09.870 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 18:17:09.877 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 18:17:09.877 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 18:17:09.943 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 18:17:09.943 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1212 ms
2025-10-22 18:17:10.026 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 18:17:10.359 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 18:17:10.603 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 18:17:11.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 18:17:11.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 18:17:11.005 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 18:17:11.006 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 18:17:11.006 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 18:17:11.006 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 18:17:11.006 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 18:17:11.006 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 18:17:11.006 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 18:17:11.006 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 18:17:11.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 18:17:11.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 18:17:11.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 18:17:11.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 18:17:11.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 18:17:11.008 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 18:17:11.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 18:17:11.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 18:17:11.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 18:17:11.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 18:17:11.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 18:17:11.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 18:17:11.009 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 18:17:11.014 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c55f01d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fc5f780, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c447a7b, org.springframework.security.web.header.HeaderWriterFilter@225a9dda, org.springframework.web.filter.CorsFilter@18c47b32, org.springframework.security.web.authentication.logout.LogoutFilter@5f6d334a, com.yxly.security.JwtAuthenticationFilter@1f2a59ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e684c2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4438c564, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@86357c8, org.springframework.security.web.session.SessionManagementFilter@17f28ba2, org.springframework.security.web.access.ExceptionTranslationFilter@3a320098, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@649130ae]
2025-10-22 18:17:11.572 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 18:17:11.612 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 18:17:11.621 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.215 seconds (JVM running for 3.507)
2025-10-22 18:17:16.639 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 18:17:16.639 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 18:17:16.641 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-22 18:17:16.647 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:17:16.650 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:17:16.692 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 18:17:16.790 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:17:16.791 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 18:17:16.802 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 18:17:16.809 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 18:17:16.815 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 18:17:16.858 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:17:20.557 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 18:17:20.557 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:17:20.564 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: admin
2025-10-22 18:17:20.568 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 18:17:20.569 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 18:17:20.590 [http-nio-8080-exec-5] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 18:17:20.592 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:17:36.647 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 18:17:36.647 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:17:36.649 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:17:36.649 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 18:17:36.649 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 18:17:36.686 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 18:17:36.689 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 18:17:36.763 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 18:17:36.779 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 18:17:36.789 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: superadmin
2025-10-22 18:17:36.792 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:17:37.070 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 18:17:37.071 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:17:37.071 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:17:37.071 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 18:17:37.071 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 18:17:37.074 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 18:17:37.077 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 18:17:37.086 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:17:42.909 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:17:42.910 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:17:42.913 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:17:42.918 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:17:42.918 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 18:17:42.920 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 18:17:42.920 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 18:17:42.925 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 18:17:42.927 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:17:47.409 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 18:17:47.410 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:17:47.412 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:17:47.415 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 18:17:47.416 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 18:17:47.416 [http-nio-8080-exec-6] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 18:17:47.417 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:17:57.228 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XHH
2025-10-22 18:17:57.229 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:17:57.229 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:17:57.229 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XHH] with attributes [permitAll]
2025-10-22 18:17:57.230 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XHH
2025-10-22 18:17:57.244 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:18:12.019 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-phone?phone=19822761541
2025-10-22 18:18:12.020 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:18:12.020 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:18:12.020 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-phone?phone=19822761541] with attributes [permitAll]
2025-10-22 18:18:12.020 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-phone?phone=19822761541
2025-10-22 18:18:12.026 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:18:13.477 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/upload/image
2025-10-22 18:18:13.478 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:18:13.479 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:18:13.480 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/upload/image] with attributes [permitAll]
2025-10-22 18:18:13.481 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/upload/image
2025-10-22 18:18:13.499 [http-nio-8080-exec-9] INFO  [com.yxly.controller.upload.UploadController] - 接收到图片上传请求: filename=xhh.jpg, size=400877
2025-10-22 18:18:13.636 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: idcards/20251022/2a052bd6793e4da394c637ff30197b39.jpg
2025-10-22 18:18:13.636 [http-nio-8080-exec-9] INFO  [com.yxly.controller.upload.UploadController] - 图片上传成功: http://localhost:9000/txt/idcards/20251022/2a052bd6793e4da394c637ff30197b39.jpg
2025-10-22 18:18:13.643 [http-nio-8080-exec-9] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.11621625886306207294\work\Tomcat\localhost\api\upload_0c31eaaa_66a4_42fd_b810_2bdd4d82cfda_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.11621625886306207294\work\Tomcat\localhost\api\upload_0c31eaaa_66a4_42fd_b810_2bdd4d82cfda_00000000.tmp
	... 94 common frames omitted
2025-10-22 18:18:13.645 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:18:13.646 [http-nio-8080-exec-9] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.11621625886306207294\work\Tomcat\localhost\api\upload_0c31eaaa_66a4_42fd_b810_2bdd4d82cfda_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.11621625886306207294\work\Tomcat\localhost\api\upload_0c31eaaa_66a4_42fd_b810_2bdd4d82cfda_00000000.tmp
	... 13 common frames omitted
2025-10-22 18:18:16.895 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/upload/image
2025-10-22 18:18:16.895 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:18:16.895 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:18:16.895 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/upload/image] with attributes [permitAll]
2025-10-22 18:18:16.897 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/upload/image
2025-10-22 18:18:16.901 [http-nio-8080-exec-10] INFO  [com.yxly.controller.upload.UploadController] - 接收到图片上传请求: filename=xhh.jpg, size=400877
2025-10-22 18:18:16.915 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: idcards/20251022/4a67ca1d76d34a1c8eabd9dc4fca0dce.jpg
2025-10-22 18:18:16.915 [http-nio-8080-exec-10] INFO  [com.yxly.controller.upload.UploadController] - 图片上传成功: http://localhost:9000/txt/idcards/20251022/4a67ca1d76d34a1c8eabd9dc4fca0dce.jpg
2025-10-22 18:18:16.918 [http-nio-8080-exec-10] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.11621625886306207294\work\Tomcat\localhost\api\upload_0c31eaaa_66a4_42fd_b810_2bdd4d82cfda_00000001.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.11621625886306207294\work\Tomcat\localhost\api\upload_0c31eaaa_66a4_42fd_b810_2bdd4d82cfda_00000001.tmp
	... 94 common frames omitted
2025-10-22 18:18:16.920 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:18:16.921 [http-nio-8080-exec-10] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.11621625886306207294\work\Tomcat\localhost\api\upload_0c31eaaa_66a4_42fd_b810_2bdd4d82cfda_00000001.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.11621625886306207294\work\Tomcat\localhost\api\upload_0c31eaaa_66a4_42fd_b810_2bdd4d82cfda_00000001.tmp
	... 13 common frames omitted
2025-10-22 18:18:19.478 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XHH
2025-10-22 18:18:19.478 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:18:19.478 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:18:19.479 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XHH] with attributes [permitAll]
2025-10-22 18:18:19.479 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XHH
2025-10-22 18:18:19.483 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:18:19.795 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-phone?phone=19822761541
2025-10-22 18:18:19.796 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:18:19.796 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:18:19.796 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-phone?phone=19822761541] with attributes [permitAll]
2025-10-22 18:18:19.796 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-phone?phone=19822761541
2025-10-22 18:18:19.800 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:18:20.059 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/merchant/register
2025-10-22 18:18:20.061 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:18:20.061 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:18:20.061 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [POST /v1/merchant/register] with attributes [authenticated]
2025-10-22 18:18:20.062 [http-nio-8080-exec-2] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-22 18:18:20.062 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:18:20.063 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /error
2025-10-22 18:18:20.064 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:18:20.064 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:18:20.064 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /error
2025-10-22 18:18:20.070 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:25:04.213 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 18:25:04.226 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 18:25:04.227 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-22 18:25:04.242 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-111705661] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 18:25:04.242 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-111705661] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 18:25:04.254 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 18:25:04.259 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 18:25:04.321 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 22264 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 18:25:04.322 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 18:25:04.322 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 18:25:04.478 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 18:25:04.478 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 18:25:04.484 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-22 18:25:04.587 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 18:25:04.588 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 18:25:04.588 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 18:25:04.605 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 18:25:04.605 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 282 ms
2025-10-22 18:25:04.633 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 18:25:04.718 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-22 18:25:04.791 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 18:25:04.981 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 18:25:04.982 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 18:25:04.982 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 18:25:04.982 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 18:25:04.982 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 18:25:04.982 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 18:25:04.982 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 18:25:04.982 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 18:25:04.983 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 18:25:04.984 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 18:25:04.984 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 18:25:04.984 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 18:25:04.984 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 18:25:04.984 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 18:25:04.987 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6db4ce2b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@626d9afc, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ea8764b, org.springframework.security.web.header.HeaderWriterFilter@23779f8c, org.springframework.web.filter.CorsFilter@245584c3, org.springframework.security.web.authentication.logout.LogoutFilter@50d7db09, com.yxly.security.JwtAuthenticationFilter@1490303, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37b08788, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2824f50d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e5b87d8, org.springframework.security.web.session.SessionManagementFilter@3f0f43c8, org.springframework.security.web.access.ExceptionTranslationFilter@a687729, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@16f7372]
2025-10-22 18:25:05.168 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 18:25:05.188 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 18:25:05.191 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.897 seconds (JVM running for 477.078)
2025-10-22 18:25:05.193 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 18:25:48.818 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 18:25:48.830 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 18:25:48.831 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1692912769] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 18:25:48.832 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1692912769] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 18:25:48.835 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-22 18:25:48.840 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-22 18:25:48.914 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 22264 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 18:25:48.914 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 18:25:48.914 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 18:25:49.047 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 18:25:49.047 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 18:25:49.054 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 18:25:49.138 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 18:25:49.139 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 18:25:49.139 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 18:25:49.156 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 18:25:49.156 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 240 ms
2025-10-22 18:25:49.185 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 18:25:49.262 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-22 18:25:49.320 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 18:25:49.487 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 18:25:49.487 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 18:25:49.488 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 18:25:49.488 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 18:25:49.488 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 18:25:49.488 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 18:25:49.488 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 18:25:49.488 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 18:25:49.488 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 18:25:49.489 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 18:25:49.490 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 18:25:49.492 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30921a16, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24cac17a, org.springframework.security.web.context.SecurityContextPersistenceFilter@43429033, org.springframework.security.web.header.HeaderWriterFilter@8583f63, org.springframework.web.filter.CorsFilter@789ad01e, org.springframework.security.web.authentication.logout.LogoutFilter@6b3590da, com.yxly.security.JwtAuthenticationFilter@4aa3ea0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a498d06, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1323020b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18868793, org.springframework.security.web.session.SessionManagementFilter@3ae2a9eb, org.springframework.security.web.access.ExceptionTranslationFilter@5fa8d75a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b5964aa]
2025-10-22 18:25:49.647 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 18:25:49.665 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 18:25:49.668 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.784 seconds (JVM running for 521.554)
2025-10-22 18:25:49.669 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 18:26:14.756 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 18:26:14.767 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 18:26:14.768 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1747277979] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 18:26:14.769 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1747277979] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 18:26:14.772 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-22 18:26:14.774 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-22 18:26:14.825 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 22264 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 18:26:14.825 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 18:26:14.825 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 18:26:14.959 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 18:26:14.959 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 18:26:14.965 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-22 18:26:15.049 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 18:26:15.050 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 18:26:15.050 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 18:26:15.068 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 18:26:15.068 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 242 ms
2025-10-22 18:26:15.094 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 18:26:15.171 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-22 18:26:15.229 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 18:26:15.389 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 18:26:15.389 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 18:26:15.390 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 18:26:15.391 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 18:26:15.392 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 18:26:15.392 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 18:26:15.392 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 18:26:15.392 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 18:26:15.392 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 18:26:15.393 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 18:26:15.393 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 18:26:15.393 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 18:26:15.393 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 18:26:15.393 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 18:26:15.394 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a80f91e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c191bf3, org.springframework.security.web.context.SecurityContextPersistenceFilter@55a8c0bb, org.springframework.security.web.header.HeaderWriterFilter@75eaac36, org.springframework.web.filter.CorsFilter@79947899, org.springframework.security.web.authentication.logout.LogoutFilter@107e2b49, com.yxly.security.JwtAuthenticationFilter@12abfac8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a7012d8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4adb88bc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e1c2885, org.springframework.security.web.session.SessionManagementFilter@153b8d38, org.springframework.security.web.access.ExceptionTranslationFilter@7c5877e9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7fb900de]
2025-10-22 18:26:15.545 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 18:26:15.562 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 18:26:15.564 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.759 seconds (JVM running for 547.45)
2025-10-22 18:26:15.565 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 18:27:32.830 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 18:27:32.830 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 18:27:32.831 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 18:27:32.831 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 18:27:32.831 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:27:32.832 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:27:32.832 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 18:27:32.832 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 18:27:32.833 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 18:27:32.835 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 18:27:32.850 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:27:44.655 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 18:27:44.655 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:27:44.655 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:27:44.656 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 18:27:44.656 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 18:27:44.657 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 18:27:44.657 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 18:27:44.661 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:34:54.303 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-22 18:34:54.305 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-22 18:35:04.502 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 18396 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 18:35:04.503 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 18:35:04.504 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 18:35:04.548 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 18:35:04.548 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 18:35:05.090 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 18:35:05.091 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 18:35:05.116 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-10-22 18:35:05.774 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 18:35:05.782 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 18:35:05.782 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 18:35:05.848 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 18:35:05.849 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1300 ms
2025-10-22 18:35:05.917 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 18:35:06.288 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 18:35:06.544 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 18:35:06.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 18:35:06.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 18:35:06.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 18:35:06.945 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 18:35:06.945 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 18:35:06.945 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 18:35:06.945 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 18:35:06.945 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 18:35:06.945 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 18:35:06.945 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 18:35:06.947 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 18:35:06.950 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54fa3b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f8f7ee5, org.springframework.security.web.context.SecurityContextPersistenceFilter@24fb545, org.springframework.security.web.header.HeaderWriterFilter@392e1eb2, org.springframework.web.filter.CorsFilter@4148521e, org.springframework.security.web.authentication.logout.LogoutFilter@4c6d58a1, com.yxly.security.JwtAuthenticationFilter@48485fae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d76a2f6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c0095be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c7911ba, org.springframework.security.web.session.SessionManagementFilter@239d32cf, org.springframework.security.web.access.ExceptionTranslationFilter@2209648b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@332b9134]
2025-10-22 18:35:07.515 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 18:35:07.561 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 18:35:07.570 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.473 seconds (JVM running for 3.776)
2025-10-22 18:35:13.045 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 18:35:13.046 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 18:35:13.048 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-22 18:35:13.056 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:35:13.058 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:35:13.062 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:35:13.067 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:35:13.068 [http-nio-8080-exec-1] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-22 18:35:13.068 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:35:13.069 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-22 18:35:13.069 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:35:13.069 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:35:13.070 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-22 18:35:13.122 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:35:26.455 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XHH
2025-10-22 18:35:26.456 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:35:26.457 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:35:26.457 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XHH] with attributes [permitAll]
2025-10-22 18:35:26.457 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XHH
2025-10-22 18:35:26.579 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:35:50.174 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-phone?phone=19566782981
2025-10-22 18:35:50.174 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:35:50.174 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:35:50.175 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-phone?phone=19566782981] with attributes [permitAll]
2025-10-22 18:35:50.175 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-phone?phone=19566782981
2025-10-22 18:35:50.183 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:35:54.175 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/upload/image
2025-10-22 18:35:54.177 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:35:54.189 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:35:54.189 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/upload/image] with attributes [permitAll]
2025-10-22 18:35:54.190 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/upload/image
2025-10-22 18:35:54.216 [http-nio-8080-exec-7] INFO  [com.yxly.controller.upload.UploadController] - 接收到图片上传请求: filename=xhh.jpg, size=400877
2025-10-22 18:35:54.343 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: idcards/20251022/46c4d5b0745d4730805a447bf8aae8ce.jpg
2025-10-22 18:35:54.343 [http-nio-8080-exec-7] INFO  [com.yxly.controller.upload.UploadController] - 图片上传成功: http://localhost:9000/txt/idcards/20251022/46c4d5b0745d4730805a447bf8aae8ce.jpg
2025-10-22 18:35:54.349 [http-nio-8080-exec-7] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.2763916400147404084\work\Tomcat\localhost\api\upload_b6ce4412_e568_4397_9b8c_5dc7548edfa2_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.2763916400147404084\work\Tomcat\localhost\api\upload_b6ce4412_e568_4397_9b8c_5dc7548edfa2_00000000.tmp
	... 94 common frames omitted
2025-10-22 18:35:54.351 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:35:54.352 [http-nio-8080-exec-7] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.2763916400147404084\work\Tomcat\localhost\api\upload_b6ce4412_e568_4397_9b8c_5dc7548edfa2_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.2763916400147404084\work\Tomcat\localhost\api\upload_b6ce4412_e568_4397_9b8c_5dc7548edfa2_00000000.tmp
	... 13 common frames omitted
2025-10-22 18:35:56.776 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/upload/image
2025-10-22 18:35:56.776 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:35:56.777 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:35:56.777 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/upload/image] with attributes [permitAll]
2025-10-22 18:35:56.777 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/upload/image
2025-10-22 18:35:56.784 [http-nio-8080-exec-10] INFO  [com.yxly.controller.upload.UploadController] - 接收到图片上传请求: filename=xhh.jpg, size=400877
2025-10-22 18:35:56.800 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: idcards/20251022/42980b4f901340d2a5d7eedd5982daa4.jpg
2025-10-22 18:35:56.800 [http-nio-8080-exec-10] INFO  [com.yxly.controller.upload.UploadController] - 图片上传成功: http://localhost:9000/txt/idcards/20251022/42980b4f901340d2a5d7eedd5982daa4.jpg
2025-10-22 18:35:56.803 [http-nio-8080-exec-10] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.2763916400147404084\work\Tomcat\localhost\api\upload_b6ce4412_e568_4397_9b8c_5dc7548edfa2_00000001.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.2763916400147404084\work\Tomcat\localhost\api\upload_b6ce4412_e568_4397_9b8c_5dc7548edfa2_00000001.tmp
	... 94 common frames omitted
2025-10-22 18:35:56.805 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:35:56.806 [http-nio-8080-exec-10] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.2763916400147404084\work\Tomcat\localhost\api\upload_b6ce4412_e568_4397_9b8c_5dc7548edfa2_00000001.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.2763916400147404084\work\Tomcat\localhost\api\upload_b6ce4412_e568_4397_9b8c_5dc7548edfa2_00000001.tmp
	... 13 common frames omitted
2025-10-22 18:35:58.862 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XHH
2025-10-22 18:35:58.862 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:35:58.862 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:35:58.863 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XHH] with attributes [permitAll]
2025-10-22 18:35:58.863 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XHH
2025-10-22 18:35:58.868 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:35:59.189 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-phone?phone=19566782981
2025-10-22 18:35:59.189 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:35:59.189 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:35:59.189 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-phone?phone=19566782981] with attributes [permitAll]
2025-10-22 18:35:59.189 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-phone?phone=19566782981
2025-10-22 18:35:59.196 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:35:59.437 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/merchant/register
2025-10-22 18:35:59.437 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:35:59.437 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:35:59.437 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/merchant/register] with attributes [permitAll]
2025-10-22 18:35:59.438 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/merchant/register
2025-10-22 18:35:59.491 [http-nio-8080-exec-2] INFO  [com.yxly.controller.merchant.MerchantController] - 民宿主管理员注册请求: username=XHH, realName=小灰灰
2025-10-22 18:35:59.501 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 民宿主管理员注册: username=XHH, realName=小灰灰
2025-10-22 18:35:59.587 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-22 18:35:59.600 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-22 18:35:59.607 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 18:35:59.610 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 民宿主管理员注册成功: merchantId=1, userId=29, username=XHH, realName=小灰灰
2025-10-22 18:35:59.616 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:36:18.713 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 18:36:18.714 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:36:18.714 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 18:36:18.715 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 18:36:18.715 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 18:36:18.721 [http-nio-8080-exec-6] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 18:36:18.722 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 18:36:18.796 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 18:36:18.815 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 18:36:18.820 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: superadmin
2025-10-22 18:36:18.821 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:36:19.165 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 18:36:19.167 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:36:19.189 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:36:19.197 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 18:36:19.197 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 18:36:19.200 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 18:36:19.201 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 18:36:19.220 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:38:02.272 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 18:38:02.272 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:38:02.276 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:38:02.287 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all?auditStatus=0] with attributes [permitAll]
2025-10-22 18:38:02.288 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 18:38:02.288 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=0
2025-10-22 18:38:02.289 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=0
2025-10-22 18:38:02.298 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:53:15.064 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 2272 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 18:53:15.065 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 18:53:15.066 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 18:53:15.108 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 18:53:15.108 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 18:53:15.748 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 18:53:15.750 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 18:53:15.776 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-10-22 18:53:16.438 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 18:53:16.446 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 18:53:16.447 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 18:53:16.517 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 18:53:16.518 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1409 ms
2025-10-22 18:53:16.591 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 18:53:16.926 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 18:53:17.172 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 18:53:17.592 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 18:53:17.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 18:53:17.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 18:53:17.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 18:53:17.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 18:53:17.593 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 18:53:17.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 18:53:17.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 18:53:17.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 18:53:17.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 18:53:17.594 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 18:53:17.595 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 18:53:17.595 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 18:53:17.595 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 18:53:17.595 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 18:53:17.595 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 18:53:17.596 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 18:53:17.596 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 18:53:17.596 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 18:53:17.596 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 18:53:17.596 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 18:53:17.596 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 18:53:17.596 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 18:53:17.596 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 18:53:17.602 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30251395, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cc493ed, org.springframework.security.web.context.SecurityContextPersistenceFilter@687d938f, org.springframework.security.web.header.HeaderWriterFilter@3803ad1e, org.springframework.web.filter.CorsFilter@531af02, org.springframework.security.web.authentication.logout.LogoutFilter@6365305b, com.yxly.security.JwtAuthenticationFilter@6a7d72f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4202cc83, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a888c9a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b0041fa, org.springframework.security.web.session.SessionManagementFilter@59372a2, org.springframework.security.web.access.ExceptionTranslationFilter@135c628a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ed4433c]
2025-10-22 18:53:18.199 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 18:53:18.237 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 18:53:18.246 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.502 seconds (JVM running for 3.806)
2025-10-22 18:53:28.546 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 18:53:28.546 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 18:53:28.547 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 18:53:28.555 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:53:28.557 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:53:28.596 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:53:28.684 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:53:28.686 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 18:53:28.697 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 18:53:28.701 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 18:53:28.707 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 18:53:28.754 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:55:29.694 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:55:29.694 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:55:29.699 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:55:29.711 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:55:29.711 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 18:55:29.712 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 18:55:29.712 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 18:55:29.715 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 18:55:29.716 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:57:17.444 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:57:17.445 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:57:17.451 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:57:17.460 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:57:17.461 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 18:57:17.462 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 18:57:17.462 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 18:57:17.469 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 18:57:17.471 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:57:27.062 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 18:57:27.064 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 18:57:27.065 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 18:57:27.071 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 18:57:27.071 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 18:57:27.071 [http-nio-8080-exec-10] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 18:57:27.071 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 18:57:27.076 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 18:57:27.077 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 18:59:20.340 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 18:59:20.345 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 18:59:26.485 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 3812 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 18:59:26.486 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 18:59:26.486 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 18:59:26.528 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 18:59:26.528 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 18:59:27.068 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 18:59:27.069 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 18:59:27.091 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-22 18:59:27.716 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 18:59:27.724 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 18:59:27.725 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 18:59:27.794 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 18:59:27.794 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1266 ms
2025-10-22 18:59:27.865 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 18:59:28.206 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 18:59:28.449 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 18:59:28.874 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 18:59:28.875 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 18:59:28.875 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 18:59:28.875 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 18:59:28.875 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 18:59:28.876 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 18:59:28.876 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 18:59:28.876 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 18:59:28.876 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 18:59:28.876 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 18:59:28.876 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 18:59:28.876 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 18:59:28.877 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 18:59:28.877 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 18:59:28.877 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 18:59:28.877 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 18:59:28.878 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 18:59:28.878 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 18:59:28.878 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 18:59:28.878 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 18:59:28.878 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 18:59:28.878 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 18:59:28.878 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 18:59:28.878 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 18:59:28.883 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22e43dec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49944376, org.springframework.security.web.context.SecurityContextPersistenceFilter@27f78fcc, org.springframework.security.web.header.HeaderWriterFilter@6d4192ed, org.springframework.web.filter.CorsFilter@2f5919ca, org.springframework.security.web.authentication.logout.LogoutFilter@223bc5e3, com.yxly.security.JwtAuthenticationFilter@30cb8bd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29d7a282, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1eef9f70, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32635d1d, org.springframework.security.web.session.SessionManagementFilter@99965d4, org.springframework.security.web.access.ExceptionTranslationFilter@4e9dfa14, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1dd5a382]
2025-10-22 18:59:29.458 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 18:59:29.496 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 18:59:29.506 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.319 seconds (JVM running for 3.631)
2025-10-22 19:01:25.591 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 19:01:25.591 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 19:01:25.593 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 19:01:25.602 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 19:01:25.605 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:01:25.648 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:01:25.752 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 19:01:25.752 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 19:01:25.765 [http-nio-8080-exec-1] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 19:01:25.775 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 19:01:25.784 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 19:01:25.837 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:01:25.840 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 19:01:25.841 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:01:25.842 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:01:25.849 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 19:01:25.849 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 19:01:25.850 [http-nio-8080-exec-2] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 19:01:25.850 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 19:01:25.854 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 19:01:25.855 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:01:30.610 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 19:01:30.611 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:01:30.612 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:01:30.618 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 19:01:30.618 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 19:01:30.619 [http-nio-8080-exec-3] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 19:01:30.619 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 19:01:30.624 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 19:01:30.625 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:01:41.521 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 19:01:41.521 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:01:41.524 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:01:41.528 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 19:01:41.528 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/location/list
2025-10-22 19:01:41.529 [http-nio-8080-exec-5] INFO  [com.yxly.controller.user.UserLocationController] - 用户查询所有启用的位置列表
2025-10-22 19:01:41.529 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取所有启用的位置列表（用户端）
2025-10-22 19:01:41.533 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 获取启用位置列表成功: count=1
2025-10-22 19:01:41.534 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:03:37.090 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 19:03:37.090 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:03:37.092 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:03:37.097 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 19:03:37.097 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 19:03:37.103 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 19:03:37.106 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 19:03:37.121 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:20:34.270 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 19:20:34.274 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 19:20:39.798 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 1112 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 19:20:39.799 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 19:20:39.800 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 19:20:39.839 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 19:20:39.839 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 19:20:40.350 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 19:20:40.352 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 19:20:40.374 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-10-22 19:20:41.005 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 19:20:41.015 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 19:20:41.015 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 19:20:41.082 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 19:20:41.082 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1242 ms
2025-10-22 19:20:41.155 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 19:20:41.485 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 19:20:41.735 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 19:20:42.145 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 19:20:42.146 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 19:20:42.147 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 19:20:42.148 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 19:20:42.148 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 19:20:42.148 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 19:20:42.148 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 19:20:42.148 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 19:20:42.148 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 19:20:42.149 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 19:20:42.149 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 19:20:42.149 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 19:20:42.149 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 19:20:42.149 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 19:20:42.149 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 19:20:42.149 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 19:20:42.150 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 19:20:42.150 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 19:20:42.150 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 19:20:42.150 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 19:20:42.150 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 19:20:42.150 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 19:20:42.150 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 19:20:42.150 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 19:20:42.155 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@231f32b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@551213db, org.springframework.security.web.context.SecurityContextPersistenceFilter@25b54d5, org.springframework.security.web.header.HeaderWriterFilter@3b06b056, org.springframework.web.filter.CorsFilter@4fd4b8b2, org.springframework.security.web.authentication.logout.LogoutFilter@53e1f210, com.yxly.security.JwtAuthenticationFilter@589a93e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f96a1bf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a86bed1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64ab61c8, org.springframework.security.web.session.SessionManagementFilter@54c5c71, org.springframework.security.web.access.ExceptionTranslationFilter@54b82334, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a5a0420]
2025-10-22 19:20:42.727 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 19:20:42.767 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 19:20:42.775 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.283 seconds (JVM running for 3.603)
2025-10-22 19:20:48.198 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 19:20:48.199 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 19:20:48.199 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-22 19:20:48.208 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 19:20:48.211 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:20:48.255 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:20:48.348 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 19:20:48.348 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 19:20:48.362 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 19:20:48.368 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 19:20:48.424 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:20:48.428 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 19:20:48.429 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:20:48.432 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:20:48.438 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 19:20:48.438 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 19:20:48.439 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 19:20:48.439 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 19:20:48.450 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:20:59.936 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 19:20:59.936 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:20:59.938 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:20:59.944 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 19:20:59.944 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 19:20:59.945 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 19:20:59.945 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 19:20:59.956 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:27:58.818 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/super-admin/merchants/audit
2025-10-22 19:27:58.818 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:27:58.830 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:27:58.843 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/super-admin/merchants/audit] with attributes [permitAll]
2025-10-22 19:27:58.843 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/super-admin/merchants/audit
2025-10-22 19:27:58.903 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.MerchantAuditController] - 审核商户: merchantId=1, auditStatus=1
2025-10-22 19:27:58.907 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 审核商户: merchantId=1, auditStatus=1
2025-10-22 19:27:58.917 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 19:27:58.932 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 19:27:58.935 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 审核通过，已更新用户角色和商户状态，已启用账号: userId=29
2025-10-22 19:27:58.935 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 商户审核完成: merchantId=1, auditStatus=1
2025-10-22 19:27:58.939 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:27:59.085 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 19:27:59.085 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:27:59.087 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:27:59.092 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 19:27:59.093 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 19:27:59.093 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 19:27:59.093 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 19:27:59.107 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:05.596 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 19:28:05.596 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:05.599 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:28:05.602 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 19:28:05.602 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 19:28:05.603 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 19:28:05.604 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 19:28:05.613 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:10.026 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 19:28:10.026 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:10.028 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 19:28:10.031 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 19:28:10.031 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 19:28:10.038 [http-nio-8080-exec-6] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 19:28:10.041 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:18.472 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 19:28:18.472 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:18.474 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 19:28:18.474 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 19:28:18.474 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 19:28:18.479 [http-nio-8080-exec-8] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=XHH, userType=user
2025-10-22 19:28:18.480 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: XHH, 登录类型: user
2025-10-22 19:28:18.553 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 19:28:18.565 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 19:28:18.569 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: XHH
2025-10-22 19:28:18.572 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:23.447 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 19:28:23.447 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:23.449 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:28:23.454 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 19:28:23.454 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 19:28:23.457 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 19:28:23.459 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 19:28:23.530 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 16
2025-10-22 19:28:23.535 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:24.419 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-22 19:28:24.419 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 19:28:24.421 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:24.422 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:24.424 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:28:24.424 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:28:24.431 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-22 19:28:24.432 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 19:28:24.434 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-22 19:28:24.434 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-22 19:28:24.446 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-22 19:28:24.446 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 19:28:24.448 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-22 19:28:24.448 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 19:28:24.461 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:24.461 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:25.926 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-22 19:28:25.926 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:25.929 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:28:25.933 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-22 19:28:25.934 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-22 19:28:25.936 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-22 19:28:25.939 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-22 19:28:25.949 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-22 19:28:25.954 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=27, orderNo=YX17608493364647835, roomId=1
2025-10-22 19:28:25.959 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=26, orderNo=YX17607009096022310, roomId=1
2025-10-22 19:28:25.963 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=25, orderNo=YX17607007935715752, roomId=1
2025-10-22 19:28:25.967 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=24, orderNo=YX1760700772778945, roomId=1
2025-10-22 19:28:25.971 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-22 19:28:25.975 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-22 19:28:25.977 [http-nio-8080-exec-2] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-22 19:28:25.978 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-22 19:28:25.982 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:27.159 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 19:28:27.160 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:27.162 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:28:27.168 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-22 19:28:27.169 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 19:28:27.173 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-22 19:28:27.190 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:28.632 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 19:28:28.632 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:28.635 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:28:28.638 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-22 19:28:28.638 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 19:28:28.653 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:29.731 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 19:28:29.731 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:29.733 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:28:29.738 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 19:28:29.738 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 19:28:29.743 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10
2025-10-22 19:28:29.744 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10
2025-10-22 19:28:29.756 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:28:56.289 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 19:28:56.289 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:28:56.292 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:28:56.296 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 19:28:56.296 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 19:28:56.297 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10
2025-10-22 19:28:56.297 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10
2025-10-22 19:28:56.304 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:30:15.504 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 19:30:15.504 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:30:15.508 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:30:15.512 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all?auditStatus=0] with attributes [permitAll]
2025-10-22 19:30:15.512 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 19:30:15.514 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=0
2025-10-22 19:30:15.514 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=0
2025-10-22 19:30:15.517 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:30:18.485 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 19:30:18.485 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:30:18.487 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:30:18.490 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 19:30:18.491 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 19:30:18.491 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 19:30:18.491 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 19:30:18.497 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:32:03.270 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 19:32:03.270 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:32:03.272 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:32:03.276 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all?auditStatus=0] with attributes [permitAll]
2025-10-22 19:32:03.277 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 19:32:03.277 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=0
2025-10-22 19:32:03.277 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=0
2025-10-22 19:32:03.280 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:32:04.329 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all?auditStatus=1
2025-10-22 19:32:04.330 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:32:04.331 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:32:04.335 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all?auditStatus=1] with attributes [permitAll]
2025-10-22 19:32:04.335 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all?auditStatus=1
2025-10-22 19:32:04.335 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=1
2025-10-22 19:32:04.335 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=1
2025-10-22 19:32:04.341 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:32:05.549 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all?auditStatus=2
2025-10-22 19:32:05.550 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:32:05.552 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:32:05.555 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all?auditStatus=2] with attributes [permitAll]
2025-10-22 19:32:05.555 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all?auditStatus=2
2025-10-22 19:32:05.555 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=2
2025-10-22 19:32:05.555 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=2
2025-10-22 19:32:05.559 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:32:07.816 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all?auditStatus=1
2025-10-22 19:32:07.816 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:32:07.818 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:32:07.822 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all?auditStatus=1] with attributes [permitAll]
2025-10-22 19:32:07.822 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all?auditStatus=1
2025-10-22 19:32:07.822 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=1
2025-10-22 19:32:07.822 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=1
2025-10-22 19:32:07.828 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:41:26.915 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 19:41:26.915 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:41:26.917 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:41:26.921 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-22 19:41:26.923 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 19:41:26.934 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:41:33.009 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 19:41:33.010 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 19:41:33.017 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 19:41:33.023 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 19:41:33.023 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 19:41:33.028 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10
2025-10-22 19:41:33.028 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10
2025-10-22 19:41:33.043 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 19:46:50.119 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 19:46:50.136 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 19:46:50.137 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-22 19:46:50.150 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1715096643] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 19:46:50.151 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1715096643] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 19:46:50.164 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 19:46:50.168 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 19:46:50.234 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 1112 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 19:46:50.236 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 19:46:50.236 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 19:46:50.386 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 19:46:50.386 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 19:46:50.394 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-22 19:46:50.505 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 19:46:50.506 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 19:46:50.507 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 19:46:50.521 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 19:46:50.521 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 283 ms
2025-10-22 19:46:50.551 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 19:46:50.638 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-22 19:46:50.704 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 19:46:50.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 19:46:50.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 19:46:50.900 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 19:46:50.902 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 19:46:50.903 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 19:46:50.903 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 19:46:50.903 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 19:46:50.903 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 19:46:50.903 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 19:46:50.905 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b4d5495, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@743ae73d, org.springframework.security.web.context.SecurityContextPersistenceFilter@52385d30, org.springframework.security.web.header.HeaderWriterFilter@2dcf841a, org.springframework.web.filter.CorsFilter@4cffa150, org.springframework.security.web.authentication.logout.LogoutFilter@20850911, com.yxly.security.JwtAuthenticationFilter@51c3b3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fb8854a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e0621f3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c98727, org.springframework.security.web.session.SessionManagementFilter@12819bbc, org.springframework.security.web.access.ExceptionTranslationFilter@1257ff52, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@67853faf]
2025-10-22 19:46:51.087 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 19:46:51.114 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 19:46:51.117 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.907 seconds (JVM running for 1571.945)
2025-10-22 19:46:51.118 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 19:47:11.202 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 19:47:11.216 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 19:47:11.218 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-640673262] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 19:47:11.219 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-640673262] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 19:47:11.222 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-22 19:47:11.224 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-22 19:47:11.287 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 1112 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 19:47:11.287 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 19:47:11.287 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 19:47:11.418 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 19:47:11.418 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 19:47:11.426 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-10-22 19:47:11.514 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 19:47:11.514 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 19:47:11.514 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 19:47:11.533 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 19:47:11.533 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 244 ms
2025-10-22 19:47:11.562 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 19:47:11.654 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-22 19:47:11.714 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 19:47:11.890 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 19:47:11.890 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 19:47:11.890 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 19:47:11.890 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 19:47:11.890 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 19:47:11.890 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 19:47:11.890 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 19:47:11.891 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 19:47:11.891 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 19:47:11.891 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 19:47:11.891 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 19:47:11.891 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 19:47:11.891 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 19:47:11.891 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 19:47:11.891 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 19:47:11.891 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 19:47:11.892 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 19:47:11.892 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 19:47:11.892 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 19:47:11.892 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 19:47:11.892 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 19:47:11.892 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 19:47:11.892 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 19:47:11.892 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 19:47:11.894 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7312b329, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6991aca5, org.springframework.security.web.context.SecurityContextPersistenceFilter@364cd823, org.springframework.security.web.header.HeaderWriterFilter@3a6166bd, org.springframework.web.filter.CorsFilter@4627e8dc, org.springframework.security.web.authentication.logout.LogoutFilter@52fd3ec, com.yxly.security.JwtAuthenticationFilter@73605fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@567bfc96, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@679e2c6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59ad50c8, org.springframework.security.web.session.SessionManagementFilter@7588fac2, org.springframework.security.web.access.ExceptionTranslationFilter@19bf3d09, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f7e0d75]
2025-10-22 19:47:12.062 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 19:47:12.081 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 19:47:12.084 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.818 seconds (JVM running for 1592.912)
2025-10-22 19:47:12.084 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 19:47:35.281 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 19:47:35.295 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 19:47:35.296 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1974655551] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 19:47:35.296 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1974655551] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 19:47:35.299 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-22 19:47:35.302 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-22 19:47:35.363 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 1112 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 19:47:35.363 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 19:47:35.363 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 19:47:35.492 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 19:47:35.492 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 19:47:35.500 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 19:47:35.604 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 19:47:35.604 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 19:47:35.604 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 19:47:35.621 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 19:47:35.621 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 255 ms
2025-10-22 19:47:35.649 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 19:47:35.723 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-22 19:47:35.782 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 19:47:35.942 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 19:47:35.942 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 19:47:35.942 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 19:47:35.942 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 19:47:35.942 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 19:47:35.943 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 19:47:35.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 19:47:35.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 19:47:35.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 19:47:35.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 19:47:35.944 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 19:47:35.945 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3750083e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2dc2b764, org.springframework.security.web.context.SecurityContextPersistenceFilter@17ffd1d8, org.springframework.security.web.header.HeaderWriterFilter@20570c2, org.springframework.web.filter.CorsFilter@49aa2e4d, org.springframework.security.web.authentication.logout.LogoutFilter@565ae31b, com.yxly.security.JwtAuthenticationFilter@dbbe5e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11c2a53b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@386844a1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16fae10e, org.springframework.security.web.session.SessionManagementFilter@77fe1a7c, org.springframework.security.web.access.ExceptionTranslationFilter@811c551, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a06b13f]
2025-10-22 19:47:36.107 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 19:47:36.124 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 19:47:36.127 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.783 seconds (JVM running for 1616.955)
2025-10-22 19:47:36.129 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 19:48:24.072 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 19:48:24.084 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 19:48:24.085 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-79726342] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 19:48:24.085 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-79726342] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 19:48:24.089 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-22 19:48:24.091 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-22 19:48:24.150 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 1112 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 19:48:24.150 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 19:48:24.150 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 19:48:24.277 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 19:48:24.277 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 19:48:24.285 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 19:48:24.376 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 19:48:24.377 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 19:48:24.377 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 19:48:24.394 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 19:48:24.395 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 242 ms
2025-10-22 19:48:24.422 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 19:48:24.498 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-22 19:48:24.559 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 19:48:24.723 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 19:48:24.723 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 19:48:24.724 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 19:48:24.725 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 19:48:24.725 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 19:48:24.725 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 19:48:24.725 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 19:48:24.725 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 19:48:24.727 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@53fe0dfa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@230d7666, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f648df6, org.springframework.security.web.header.HeaderWriterFilter@71ab05be, org.springframework.web.filter.CorsFilter@dd9d6a5, org.springframework.security.web.authentication.logout.LogoutFilter@9f398cf, com.yxly.security.JwtAuthenticationFilter@6e618727, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@198b5ee7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30242e9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73d660fa, org.springframework.security.web.session.SessionManagementFilter@11bc7b30, org.springframework.security.web.access.ExceptionTranslationFilter@522497ba, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78c0d622]
2025-10-22 19:48:24.878 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 19:48:24.894 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 19:48:24.899 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.769 seconds (JVM running for 1665.728)
2025-10-22 19:48:24.901 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 19:48:32.572 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 19:48:32.584 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 19:48:32.584 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1733924775] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 19:48:32.586 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1733924775] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 19:48:32.588 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-22 19:48:32.591 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-22 19:48:32.652 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 1112 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 19:48:32.652 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 19:48:32.652 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 19:48:32.787 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 19:48:32.788 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 19:48:32.796 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 19:48:32.886 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 19:48:32.886 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 19:48:32.886 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 19:48:32.903 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 19:48:32.905 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 250 ms
2025-10-22 19:48:32.931 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 19:48:33.007 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-22 19:48:33.064 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 19:48:33.234 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 19:48:33.234 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 19:48:33.234 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 19:48:33.234 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 19:48:33.234 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 19:48:33.235 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 19:48:33.238 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1e3ee10, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@291181dc, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a9cb20e, org.springframework.security.web.header.HeaderWriterFilter@5df7f9c8, org.springframework.web.filter.CorsFilter@60093a95, org.springframework.security.web.authentication.logout.LogoutFilter@18f5227, com.yxly.security.JwtAuthenticationFilter@6d648db9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49e19815, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b3a0158, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19486627, org.springframework.security.web.session.SessionManagementFilter@6ef77c9f, org.springframework.security.web.access.ExceptionTranslationFilter@5450ffcf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@cbeb0db]
2025-10-22 19:48:33.393 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 19:48:33.409 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 19:48:33.412 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.782 seconds (JVM running for 1674.241)
2025-10-22 19:48:33.414 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 19:48:46.275 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 19:48:46.284 [Thread-23] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 19:48:46.287 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1284111963] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 19:48:46.287 [Thread-23] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1284111963] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 19:48:46.290 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-22 19:48:46.293 [Thread-23] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-22 19:48:46.352 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 1112 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 19:48:46.352 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 19:48:46.352 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 19:48:46.505 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 19:48:46.505 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 19:48:46.513 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 19:48:46.597 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 19:48:46.597 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 19:48:46.598 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 19:48:46.616 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 19:48:46.616 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 263 ms
2025-10-22 19:48:46.648 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 19:48:46.727 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} inited
2025-10-22 19:48:46.784 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 19:48:46.947 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 19:48:46.947 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 19:48:46.947 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 19:48:46.947 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 19:48:46.948 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 19:48:46.949 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 19:48:46.949 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 19:48:46.949 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 19:48:46.949 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 19:48:46.949 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 19:48:46.949 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 19:48:46.949 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 19:48:46.949 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 19:48:46.950 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@483c91f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@601f59b4, org.springframework.security.web.context.SecurityContextPersistenceFilter@a5965d3, org.springframework.security.web.header.HeaderWriterFilter@43fef602, org.springframework.web.filter.CorsFilter@adf6a6b, org.springframework.security.web.authentication.logout.LogoutFilter@e93238f, com.yxly.security.JwtAuthenticationFilter@357d5965, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3401213, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37baba9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e968a81, org.springframework.security.web.session.SessionManagementFilter@32b94bd6, org.springframework.security.web.access.ExceptionTranslationFilter@31670eed, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51e247d]
2025-10-22 19:48:47.103 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 19:48:47.120 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 19:48:47.123 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.791 seconds (JVM running for 1687.952)
2025-10-22 19:48:47.124 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 19:48:55.825 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 19:48:55.838 [Thread-27] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 19:48:55.840 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1266796855] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 19:48:55.840 [Thread-27] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1266796855] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 19:48:55.846 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closing ...
2025-10-22 19:48:55.848 [Thread-27] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-7} closed
2025-10-22 19:48:55.922 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 1112 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 19:48:55.923 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 19:48:55.923 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 19:48:56.052 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 19:48:56.052 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 19:48:56.061 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-10-22 19:48:56.147 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 19:48:56.147 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 19:48:56.147 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 19:48:56.167 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 19:48:56.167 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 242 ms
2025-10-22 19:48:56.196 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 19:48:56.289 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} inited
2025-10-22 19:48:56.350 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 19:48:56.555 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 19:48:56.555 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 19:48:56.555 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 19:48:56.556 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 19:48:56.556 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 19:48:56.556 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 19:48:56.556 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 19:48:56.557 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 19:48:56.557 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 19:48:56.557 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 19:48:56.557 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 19:48:56.557 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 19:48:56.557 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 19:48:56.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 19:48:56.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 19:48:56.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 19:48:56.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 19:48:56.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 19:48:56.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 19:48:56.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 19:48:56.558 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 19:48:56.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 19:48:56.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 19:48:56.559 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 19:48:56.561 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ecd1cba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ca6936c, org.springframework.security.web.context.SecurityContextPersistenceFilter@6daa2e9, org.springframework.security.web.header.HeaderWriterFilter@51441640, org.springframework.web.filter.CorsFilter@4d648a8c, org.springframework.security.web.authentication.logout.LogoutFilter@70e7a32f, com.yxly.security.JwtAuthenticationFilter@25e6f9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c49dbbc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d4e3c63, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16ebc485, org.springframework.security.web.session.SessionManagementFilter@387ac465, org.springframework.security.web.access.ExceptionTranslationFilter@43af30ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@364db326]
2025-10-22 19:48:56.729 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 19:48:56.748 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 19:48:56.750 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.853 seconds (JVM running for 1697.579)
2025-10-22 19:48:56.752 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 20:02:55.143 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closing ...
2025-10-22 20:02:55.146 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-8} closed
2025-10-22 20:08:42.952 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 11300 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 20:08:42.954 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 20:08:42.954 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 20:08:42.995 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 20:08:42.995 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 20:08:43.553 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 20:08:43.555 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 20:08:43.578 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-22 20:08:44.250 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 20:08:44.259 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 20:08:44.259 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 20:08:44.331 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 20:08:44.331 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1336 ms
2025-10-22 20:08:44.407 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 20:08:44.799 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 20:08:45.075 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 20:08:45.523 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 20:08:45.523 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 20:08:45.524 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 20:08:45.524 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 20:08:45.524 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 20:08:45.524 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 20:08:45.524 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 20:08:45.524 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 20:08:45.524 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 20:08:45.524 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 20:08:45.525 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 20:08:45.526 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 20:08:45.526 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 20:08:45.530 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@516b439b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a5a0420, org.springframework.security.web.context.SecurityContextPersistenceFilter@45d3d68d, org.springframework.security.web.header.HeaderWriterFilter@2b7c2d76, org.springframework.web.filter.CorsFilter@526f65a6, org.springframework.security.web.authentication.logout.LogoutFilter@2a3a8e8, com.yxly.security.JwtAuthenticationFilter@3bbfa109, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5bb1268b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54c5c71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b49a65f, org.springframework.security.web.session.SessionManagementFilter@29546eb4, org.springframework.security.web.access.ExceptionTranslationFilter@7b2d783, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2be1c751]
2025-10-22 20:08:46.099 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 20:08:46.145 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 20:08:46.154 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.528 seconds (JVM running for 3.837)
2025-10-22 20:12:56.708 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 20:12:56.709 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 20:12:56.710 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 20:12:56.717 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 20:12:56.718 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 20:12:56.762 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 20:12:56.852 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 20:12:56.853 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 20:12:56.886 [http-nio-8080-exec-1] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 20:12:56.917 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 20:13:09.161 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 20:13:09.161 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 20:13:09.162 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 20:13:09.163 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 20:13:09.163 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 20:13:09.202 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 20:13:09.205 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 20:13:09.279 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 20:13:09.295 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 20:13:09.302 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: superadmin
2025-10-22 20:13:09.306 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 20:13:09.430 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 20:13:09.430 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 20:13:09.434 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 20:13:09.441 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 20:13:09.442 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 20:13:09.447 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 20:13:09.449 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 20:13:09.465 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 20:13:27.345 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 20:13:27.345 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 20:13:27.348 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 20:13:27.353 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 20:13:27.355 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 20:13:27.355 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 20:13:27.355 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 20:13:27.366 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 20:13:29.809 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 20:13:29.810 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 20:13:29.813 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 20:13:29.816 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 20:13:29.816 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 20:13:29.817 [http-nio-8080-exec-5] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 20:13:29.817 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:21:04.378 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XYY
2025-10-22 21:21:04.379 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:21:04.380 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:21:04.380 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XYY] with attributes [permitAll]
2025-10-22 21:21:04.380 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XYY
2025-10-22 21:21:04.398 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:21:11.066 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XYY
2025-10-22 21:21:11.066 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:21:11.067 [http-nio-8080-exec-7] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:21:11.069 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XYY] with attributes [permitAll]
2025-10-22 21:21:11.069 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XYY
2025-10-22 21:21:11.074 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:21:41.948 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-phone?phone=19726526172
2025-10-22 21:21:41.948 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:21:41.949 [http-nio-8080-exec-8] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:21:41.949 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-phone?phone=19726526172] with attributes [permitAll]
2025-10-22 21:21:41.949 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-phone?phone=19726526172
2025-10-22 21:21:41.956 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:21:44.029 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/upload/image
2025-10-22 21:21:44.029 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:21:44.030 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:21:44.030 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/upload/image] with attributes [permitAll]
2025-10-22 21:21:44.031 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/upload/image
2025-10-22 21:21:44.048 [http-nio-8080-exec-9] INFO  [com.yxly.controller.upload.UploadController] - 接收到图片上传请求: filename=xyy.jpg, size=216794
2025-10-22 21:21:44.185 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: idcards/20251022/83f62147889c41aa8433679fa0a99ec6.jpg
2025-10-22 21:21:44.185 [http-nio-8080-exec-9] INFO  [com.yxly.controller.upload.UploadController] - 图片上传成功: http://localhost:9000/txt/idcards/20251022/83f62147889c41aa8433679fa0a99ec6.jpg
2025-10-22 21:21:44.190 [http-nio-8080-exec-9] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.13565829977696359920\work\Tomcat\localhost\api\upload_ff5f7b38_a1e8_4a27_80eb_4274c9857276_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.13565829977696359920\work\Tomcat\localhost\api\upload_ff5f7b38_a1e8_4a27_80eb_4274c9857276_00000000.tmp
	... 94 common frames omitted
2025-10-22 21:21:44.193 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:21:44.194 [http-nio-8080-exec-9] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.13565829977696359920\work\Tomcat\localhost\api\upload_ff5f7b38_a1e8_4a27_80eb_4274c9857276_00000000.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.13565829977696359920\work\Tomcat\localhost\api\upload_ff5f7b38_a1e8_4a27_80eb_4274c9857276_00000000.tmp
	... 13 common frames omitted
2025-10-22 21:21:47.381 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/upload/image
2025-10-22 21:21:47.382 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:21:47.382 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:21:47.384 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/upload/image] with attributes [permitAll]
2025-10-22 21:21:47.384 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/upload/image
2025-10-22 21:21:47.387 [http-nio-8080-exec-10] INFO  [com.yxly.controller.upload.UploadController] - 接收到图片上传请求: filename=xyy.jpg, size=216794
2025-10-22 21:21:47.402 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.MinioServiceImpl] - 文件上传成功: idcards/20251022/abaf5e0ef55e415ebe20dd8e71c02312.jpg
2025-10-22 21:21:47.402 [http-nio-8080-exec-10] INFO  [com.yxly.controller.upload.UploadController] - 图片上传成功: http://localhost:9000/txt/idcards/20251022/abaf5e0ef55e415ebe20dd8e71c02312.jpg
2025-10-22 21:21:47.404 [http-nio-8080-exec-10] WARN  [o.s.w.m.support.StandardServletMultipartResolver] - Failed to perform cleanup of multipart items
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.13565829977696359920\work\Tomcat\localhost\api\upload_ff5f7b38_a1e8_4a27_80eb_4274c9857276_00000001.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:134)
	at org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1251)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1108)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:114)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at com.yxly.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.13565829977696359920\work\Tomcat\localhost\api\upload_ff5f7b38_a1e8_4a27_80eb_4274c9857276_00000001.tmp
	... 94 common frames omitted
2025-10-22 21:21:47.405 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:21:47.407 [http-nio-8080-exec-10] WARN  [org.apache.catalina.connector.Request] - Failed to deleted temporary file used for part [file]
java.io.UncheckedIOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.13565829977696359920\work\Tomcat\localhost\api\upload_ff5f7b38_a1e8_4a27_80eb_4274c9857276_00000001.tmp
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:428)
	at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:53)
	at org.apache.catalina.connector.Request.recycle(Request.java:475)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:420)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.io.IOException: Cannot delete C:\Users\罗瑞\AppData\Local\Temp\tomcat.8080.13565829977696359920\work\Tomcat\localhost\api\upload_ff5f7b38_a1e8_4a27_80eb_4274c9857276_00000001.tmp
	... 13 common frames omitted
2025-10-22 21:21:48.863 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-username?username=XYY
2025-10-22 21:21:48.865 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:21:48.865 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:21:48.865 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-username?username=XYY] with attributes [permitAll]
2025-10-22 21:21:48.865 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-username?username=XYY
2025-10-22 21:21:48.869 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:21:49.177 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/auth/check-phone?phone=19726526172
2025-10-22 21:21:49.177 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:21:49.178 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:21:49.179 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/auth/check-phone?phone=19726526172] with attributes [permitAll]
2025-10-22 21:21:49.179 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/auth/check-phone?phone=19726526172
2025-10-22 21:21:49.184 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:21:49.442 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/merchant/register
2025-10-22 21:21:49.442 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:21:49.444 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:21:49.444 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/merchant/register] with attributes [permitAll]
2025-10-22 21:21:49.444 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/merchant/register
2025-10-22 21:21:49.460 [http-nio-8080-exec-2] INFO  [com.yxly.controller.merchant.MerchantController] - 民宿主管理员注册请求: username=XYY, realName=小羊羊
2025-10-22 21:21:49.465 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 民宿主管理员注册: username=XYY, realName=小羊羊
2025-10-22 21:21:49.544 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-22 21:21:49.552 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-22 21:21:49.556 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:21:49.558 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 民宿主管理员注册成功: merchantId=2, userId=30, username=XYY, realName=小羊羊
2025-10-22 21:21:49.562 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:22:06.432 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/location/list
2025-10-22 21:22:06.433 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:22:06.433 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:22:06.433 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Failed to authorize filter invocation [GET /v1/location/list] with attributes [authenticated]
2025-10-22 21:22:06.434 [http-nio-8080-exec-4] DEBUG [o.s.s.w.authentication.Http403ForbiddenEntryPoint] - Pre-authenticated entry point called. Rejecting access
2025-10-22 21:22:06.434 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:22:06.436 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /error
2025-10-22 21:22:06.437 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:22:06.437 [http-nio-8080-exec-4] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:22:06.437 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /error
2025-10-22 21:22:06.445 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:22:41.217 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 21:22:41.218 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:22:41.218 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:22:41.220 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 21:22:41.220 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 21:22:41.222 [http-nio-8080-exec-5] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 21:22:41.222 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 21:22:41.299 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 21:22:41.304 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:22:41.308 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: superadmin
2025-10-22 21:22:41.311 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:22:41.404 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 21:22:41.404 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:22:41.408 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 21:22:41.415 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 21:22:41.415 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 21:22:41.415 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 21:22:41.417 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 21:22:41.440 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:22:59.234 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/super-admin/merchants/audit
2025-10-22 21:22:59.234 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:22:59.237 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 21:22:59.240 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/super-admin/merchants/audit] with attributes [permitAll]
2025-10-22 21:22:59.241 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/super-admin/merchants/audit
2025-10-22 21:22:59.245 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.MerchantAuditController] - 审核商户: merchantId=2, auditStatus=1
2025-10-22 21:22:59.246 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 审核商户: merchantId=2, auditStatus=1
2025-10-22 21:22:59.252 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:22:59.263 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:22:59.265 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 审核通过，已更新用户角色和商户状态，已启用账号: userId=30
2025-10-22 21:22:59.266 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 商户审核完成: merchantId=2, auditStatus=1
2025-10-22 21:22:59.271 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:22:59.281 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 21:22:59.281 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:22:59.285 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 21:22:59.289 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 21:22:59.289 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 21:22:59.291 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 21:22:59.291 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 21:22:59.306 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:23:11.210 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 21:23:11.210 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:23:11.213 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 21:23:11.216 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all?auditStatus=0] with attributes [permitAll]
2025-10-22 21:23:11.216 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all?auditStatus=0
2025-10-22 21:23:11.217 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=0
2025-10-22 21:23:11.218 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=0
2025-10-22 21:23:11.222 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:23:12.243 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all?auditStatus=1
2025-10-22 21:23:12.243 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:23:12.245 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 21:23:12.247 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all?auditStatus=1] with attributes [permitAll]
2025-10-22 21:23:12.247 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all?auditStatus=1
2025-10-22 21:23:12.249 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=1
2025-10-22 21:23:12.249 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=1
2025-10-22 21:23:12.259 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:23:25.383 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 21:23:25.384 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:23:25.386 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 21:23:25.391 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 21:23:25.391 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 21:23:25.392 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 21:23:25.392 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 21:23:25.409 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:23:28.323 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 21:23:28.324 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:23:28.326 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 21:23:28.330 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 21:23:28.330 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 21:23:28.330 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 21:23:28.331 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:23:40.202 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 21:23:40.203 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:23:40.203 [http-nio-8080-exec-2] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:23:40.203 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 21:23:40.204 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 21:23:40.206 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=XHH, userType=user
2025-10-22 21:23:40.206 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: XHH, 登录类型: user
2025-10-22 21:23:40.277 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 21:23:40.281 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:23:40.286 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: XHH
2025-10-22 21:23:40.287 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:23:48.050 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 21:23:48.050 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:23:48.053 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:23:48.056 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 21:23:48.056 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 21:23:48.058 [http-nio-8080-exec-4] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 21:23:48.059 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:23:55.933 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 21:23:55.933 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:23:55.933 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:23:55.934 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 21:23:55.934 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 21:23:55.935 [http-nio-8080-exec-5] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=XYY, userType=user
2025-10-22 21:23:55.935 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: XYY, 登录类型: user
2025-10-22 21:23:56.005 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 21:23:56.009 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:23:56.013 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: XYY
2025-10-22 21:23:56.014 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:00.247 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 21:24:00.247 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:00.249 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:00.254 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 21:24:00.255 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 21:24:00.256 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 21:24:00.258 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 21:24:00.331 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 17
2025-10-22 21:24:00.336 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:08.305 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-22 21:24:08.305 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 21:24:08.305 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:08.305 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:08.307 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:08.308 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:08.312 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-22 21:24:08.312 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-22 21:24:08.312 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-22 21:24:08.312 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 21:24:08.319 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-22 21:24:08.319 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 21:24:08.321 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-22 21:24:08.321 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 21:24:08.334 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:08.334 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:11.360 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 21:24:11.360 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:11.362 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:11.365 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 21:24:11.365 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 21:24:11.365 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 21:24:11.367 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 21:24:11.376 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 17
2025-10-22 21:24:11.378 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:18.195 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-22 21:24:18.195 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:18.197 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:18.201 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-22 21:24:18.201 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-22 21:24:18.202 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-22 21:24:18.202 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-22 21:24:18.208 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:18.500 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 21:24:18.502 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:18.503 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:18.508 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-22 21:24:18.508 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 21:24:18.508 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 21:24:18.509 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 21:24:18.515 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:19.645 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-22 21:24:19.645 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:19.646 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:19.651 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=] with attributes [permitAll]
2025-10-22 21:24:19.651 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /admin/bookings?page=1&size=10&orderNo=&customerName=&roomNumber=&status=
2025-10-22 21:24:19.652 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 管理员查询订单列表: page=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-22 21:24:19.655 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.BookingOrderServiceImpl] - 分页查询所有订单: current=1, size=10, orderNo=, customerName=, roomNumber=, status=null
2025-10-22 21:24:19.664 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 开始转换订单分页数据，共 6 条记录
2025-10-22 21:24:19.669 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=27, orderNo=YX17608493364647835, roomId=1
2025-10-22 21:24:19.674 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=26, orderNo=YX17607009096022310, roomId=1
2025-10-22 21:24:19.677 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=25, orderNo=YX17607007935715752, roomId=1
2025-10-22 21:24:19.680 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=24, orderNo=YX1760700772778945, roomId=1
2025-10-22 21:24:19.685 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=23, orderNo=YX17607001927079386, roomId=1
2025-10-22 21:24:19.689 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 处理订单: id=22, orderNo=YX17607001236074440, roomId=1
2025-10-22 21:24:19.693 [http-nio-8080-exec-3] DEBUG [com.yxly.service.impl.BookingOrderServiceImpl] - 订单分页数据转换完成
2025-10-22 21:24:19.693 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.BookingController] - 查询成功，返回 6 条记录，共 6 条
2025-10-22 21:24:19.698 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:25.065 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 21:24:25.066 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:25.068 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:25.073 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-22 21:24:25.073 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 21:24:25.076 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-22 21:24:25.087 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:31.550 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 21:24:31.550 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:31.553 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:31.555 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-22 21:24:31.555 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 21:24:31.570 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:24:49.884 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:24:49.885 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:24:49.886 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:24:49.889 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:24:49.889 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:24:49.894 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:24:49.895 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:24:49.907 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:25:11.060 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing PUT /v1/admin/locations/2
2025-10-22 21:25:11.060 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:25:11.062 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:25:11.065 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [PUT /v1/admin/locations/2] with attributes [authenticated]
2025-10-22 21:25:11.065 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured PUT /v1/admin/locations/2
2025-10-22 21:25:11.071 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - 更新位置: id=2, name=悦鑫乐怡民宿, address=广东省梅州市梅县区扶大高管会, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:25:11.071 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 更新位置信息: id=2, name=悦鑫乐怡民宿, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:25:11.076 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:25:11.079 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息更新成功: locationId=2
2025-10-22 21:25:11.080 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:25:11.090 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:25:11.090 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:25:11.093 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:25:11.097 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:25:11.097 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:25:11.097 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:25:11.097 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:25:11.105 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:25:16.252 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:25:16.253 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:25:16.254 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:25:16.258 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:25:16.258 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:25:16.258 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:25:16.258 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:25:16.264 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:29:04.072 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 21:29:04.087 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 21:29:04.088 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-22 21:29:04.102 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1096800029] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 21:29:04.103 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1096800029] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 21:29:04.116 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 21:29:04.122 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 21:29:04.187 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 11300 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:29:04.188 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:29:04.188 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:29:04.345 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:29:04.346 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:29:04.353 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 21:29:04.478 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:29:04.479 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:29:04.479 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:29:04.500 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:29:04.500 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 311 ms
2025-10-22 21:29:04.529 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:29:04.622 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-22 21:29:04.691 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:29:04.879 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:29:04.879 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:29:04.879 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:29:04.879 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:29:04.879 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:29:04.879 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:29:04.880 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:29:04.881 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:29:04.883 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@e52861c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@440fc24c, org.springframework.security.web.context.SecurityContextPersistenceFilter@689ee8d4, org.springframework.security.web.header.HeaderWriterFilter@2f8f952f, org.springframework.web.filter.CorsFilter@6fa92021, org.springframework.security.web.authentication.logout.LogoutFilter@128270cc, com.yxly.security.JwtAuthenticationFilter@5808cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1628343d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45ddfd3a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25f115bc, org.springframework.security.web.session.SessionManagementFilter@41b13c2d, org.springframework.security.web.access.ExceptionTranslationFilter@66c31173, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4bc03a42]
2025-10-22 21:29:05.068 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:29:05.088 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:29:05.091 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.929 seconds (JVM running for 4822.775)
2025-10-22 21:29:05.093 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 21:29:21.030 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 21:29:21.041 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 21:29:21.042 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1392655251] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 21:29:21.043 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1392655251] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 21:29:21.046 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-22 21:29:21.048 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-22 21:29:21.099 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 11300 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:29:21.100 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:29:21.100 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:29:21.240 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:29:21.240 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:29:21.247 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 21:29:21.332 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:29:21.333 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:29:21.333 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:29:21.347 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:29:21.347 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 245 ms
2025-10-22 21:29:21.375 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:29:21.448 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-22 21:29:21.510 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:29:21.685 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:29:21.686 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:29:21.687 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:29:21.687 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:29:21.687 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:29:21.687 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:29:21.687 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:29:21.688 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:29:21.688 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:29:21.688 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:29:21.688 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:29:21.690 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7caf04b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e03b28e, org.springframework.security.web.context.SecurityContextPersistenceFilter@594c1db7, org.springframework.security.web.header.HeaderWriterFilter@6ffd6b54, org.springframework.web.filter.CorsFilter@25a0d9b, org.springframework.security.web.authentication.logout.LogoutFilter@e9408b9, com.yxly.security.JwtAuthenticationFilter@2f61a9ce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@84bcc67, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ce8a1f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32d973c4, org.springframework.security.web.session.SessionManagementFilter@3431edc3, org.springframework.security.web.access.ExceptionTranslationFilter@587134e5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@589d05d9]
2025-10-22 21:29:21.897 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:29:21.914 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:29:21.916 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.836 seconds (JVM running for 4839.599)
2025-10-22 21:29:21.918 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 21:29:36.758 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 21:29:36.771 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 21:29:36.774 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-781661816] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 21:29:36.775 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-781661816] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 21:29:36.778 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-22 21:29:36.781 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-22 21:29:36.839 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 11300 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:29:36.839 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:29:36.839 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:29:36.968 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:29:36.968 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:29:36.977 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-10-22 21:29:37.066 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:29:37.066 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:29:37.067 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:29:37.082 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:29:37.083 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 242 ms
2025-10-22 21:29:37.115 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:29:37.187 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-22 21:29:37.245 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:29:37.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:29:37.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:29:37.406 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:29:37.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:29:37.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:29:37.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:29:37.407 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:29:37.408 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:29:37.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:29:37.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:29:37.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:29:37.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:29:37.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:29:37.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:29:37.409 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:29:37.410 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c3bfd6f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fa1fc02, org.springframework.security.web.context.SecurityContextPersistenceFilter@70e07082, org.springframework.security.web.header.HeaderWriterFilter@3b79d943, org.springframework.web.filter.CorsFilter@32ba4fe6, org.springframework.security.web.authentication.logout.LogoutFilter@e2dacdd, com.yxly.security.JwtAuthenticationFilter@229d0b89, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3773a08, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@763148e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59524ad2, org.springframework.security.web.session.SessionManagementFilter@5aca395b, org.springframework.security.web.access.ExceptionTranslationFilter@5b651036, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f408873]
2025-10-22 21:29:37.571 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:29:37.589 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:29:37.591 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.773 seconds (JVM running for 4855.274)
2025-10-22 21:29:37.592 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 21:35:54.984 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-22 21:35:54.988 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-22 21:36:05.152 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 22360 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:36:05.154 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:36:05.155 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:36:05.197 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 21:36:05.198 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 21:36:05.703 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:36:05.705 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:36:05.726 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-22 21:36:06.371 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:36:06.380 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:36:06.380 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:36:06.453 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:36:06.454 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1256 ms
2025-10-22 21:36:06.527 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:36:06.941 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 21:36:07.213 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:36:07.617 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:36:07.618 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:36:07.618 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:36:07.618 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:36:07.620 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:36:07.620 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:36:07.620 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:36:07.620 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:36:07.620 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:36:07.620 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:36:07.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:36:07.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:36:07.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:36:07.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:36:07.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:36:07.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:36:07.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:36:07.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:36:07.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:36:07.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:36:07.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:36:07.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:36:07.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:36:07.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:36:07.627 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35c1073f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@166cbb06, org.springframework.security.web.context.SecurityContextPersistenceFilter@4ee6b66a, org.springframework.security.web.header.HeaderWriterFilter@4a2ef579, org.springframework.web.filter.CorsFilter@5c167746, org.springframework.security.web.authentication.logout.LogoutFilter@6efdbeb, com.yxly.security.JwtAuthenticationFilter@74f3ea76, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c2ec572, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f6d334a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@418d2f5f, org.springframework.security.web.session.SessionManagementFilter@46cb320d, org.springframework.security.web.access.ExceptionTranslationFilter@7b10f83a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62dd7ff2]
2025-10-22 21:36:08.191 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:36:08.234 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:36:08.243 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.402 seconds (JVM running for 3.702)
2025-10-22 21:36:38.912 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 21:36:38.914 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 21:36:38.915 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 21:36:38.922 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:36:38.925 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:36:38.961 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:36:39.046 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:36:39.046 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:36:39.096 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:36:39.100 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:36:39.200 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:36:45.333 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:36:45.333 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:36:45.337 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:36:45.343 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:36:45.344 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:36:45.344 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:36:45.345 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 21:36:45.356 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:37:51.172 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 21:37:51.172 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:37:51.178 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 21:37:51.189 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 21:37:51.189 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 21:37:51.195 [http-nio-8080-exec-4] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 21:37:51.197 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:37:57.428 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 21:37:57.428 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:37:57.429 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:37:57.429 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 21:37:57.429 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 21:37:57.458 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=XHH, userType=user
2025-10-22 21:37:57.460 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: XHH, 登录类型: user
2025-10-22 21:37:57.533 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 21:37:57.549 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:37:57.557 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: XHH
2025-10-22 21:37:57.559 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:37:59.023 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:37:59.023 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:37:59.025 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:37:59.031 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:37:59.031 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:37:59.032 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:37:59.032 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:37:59.042 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:38:06.814 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing PUT /v1/admin/locations/2
2025-10-22 21:38:06.814 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:38:06.815 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:38:06.820 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [PUT /v1/admin/locations/2] with attributes [authenticated]
2025-10-22 21:38:06.821 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured PUT /v1/admin/locations/2
2025-10-22 21:38:06.827 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - 更新位置 - 用户信息: userId=29, username=XHH, merchantId=1, roleId=1, roleCode=SUPER_ADMIN
2025-10-22 21:38:06.827 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - 更新位置 - 请求参数: locationId=2, name=悦鑫乐怡民宿, address=广东省梅州市梅县区扶大高管会
2025-10-22 21:38:06.830 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 更新位置信息: id=2, name=悦鑫乐怡民宿, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:38:06.838 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:38:06.843 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息更新成功: locationId=2
2025-10-22 21:38:06.845 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:38:07.165 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:38:07.165 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:38:07.167 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:38:07.171 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:38:07.173 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:38:07.173 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:38:07.173 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:38:07.182 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:39:39.641 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/locations
2025-10-22 21:39:39.642 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:39:39.644 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:39:39.650 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/locations] with attributes [authenticated]
2025-10-22 21:39:39.650 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/locations
2025-10-22 21:39:39.652 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 创建位置: name=小灰灰民宿, address=广东省梅州市梅江区江南街道署东巷51号, merchantId=1
2025-10-22 21:39:39.654 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 创建位置信息: name=小灰灰民宿, merchantId=1
2025-10-22 21:39:39.657 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-22 21:39:39.664 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息创建成功: locationId=6
2025-10-22 21:39:39.667 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:39:39.903 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:39:39.903 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:39:39.906 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:39:39.911 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:39:39.911 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:39:39.912 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:39:39.912 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:39:39.920 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:43:28.862 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 21:43:28.881 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 21:43:28.882 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-22 21:43:28.895 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-642063765] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 21:43:28.896 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-642063765] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 21:43:28.912 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 21:43:28.920 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 21:43:28.984 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 22360 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:43:28.984 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:43:28.984 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:43:29.147 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:43:29.147 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:43:29.155 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 21:43:29.257 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:43:29.258 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:43:29.258 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:43:29.274 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:43:29.275 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 288 ms
2025-10-22 21:43:29.305 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:43:29.392 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-22 21:43:29.457 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:43:29.656 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:43:29.656 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:43:29.656 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:43:29.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:43:29.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:43:29.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:43:29.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:43:29.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:43:29.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:43:29.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:43:29.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:43:29.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:43:29.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:43:29.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:43:29.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:43:29.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:43:29.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:43:29.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:43:29.660 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:43:29.660 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:43:29.660 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:43:29.660 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:43:29.660 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:43:29.660 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:43:29.662 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5959d4f9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b3e61f0, org.springframework.security.web.context.SecurityContextPersistenceFilter@b2e23e7, org.springframework.security.web.header.HeaderWriterFilter@6d3ba75c, org.springframework.web.filter.CorsFilter@9615ffa, org.springframework.security.web.authentication.logout.LogoutFilter@369d401c, com.yxly.security.JwtAuthenticationFilter@2d904b80, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@695a3c73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41723e5b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19b7aebb, org.springframework.security.web.session.SessionManagementFilter@3d0bb5fc, org.springframework.security.web.access.ExceptionTranslationFilter@4c15d069, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@13306edb]
2025-10-22 21:43:29.850 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:43:29.874 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:43:29.877 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.918 seconds (JVM running for 445.336)
2025-10-22 21:43:29.879 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 21:43:39.624 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 21:43:39.637 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 21:43:39.640 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1394434137] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 21:43:39.640 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1394434137] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 21:43:39.644 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-22 21:43:39.646 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-22 21:43:39.703 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 22360 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:43:39.703 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:43:39.703 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:43:39.837 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:43:39.837 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:43:39.846 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-22 21:43:39.933 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:43:39.934 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:43:39.934 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:43:39.953 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:43:39.954 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 250 ms
2025-10-22 21:43:40.005 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:43:40.098 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-22 21:43:40.161 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:43:40.344 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:43:40.344 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:43:40.344 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:43:40.344 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:43:40.344 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:43:40.344 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:43:40.344 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:43:40.344 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:43:40.346 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:43:40.347 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:43:40.349 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7da505f6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c2fa883, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f63a32d, org.springframework.security.web.header.HeaderWriterFilter@6af01281, org.springframework.web.filter.CorsFilter@311ade60, org.springframework.security.web.authentication.logout.LogoutFilter@c9ddefa, com.yxly.security.JwtAuthenticationFilter@15f418c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c7d39dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@628d93ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16930b9f, org.springframework.security.web.session.SessionManagementFilter@64b1d60b, org.springframework.security.web.access.ExceptionTranslationFilter@11ae4a66, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1c076531]
2025-10-22 21:43:40.504 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:43:40.525 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:43:40.527 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.847 seconds (JVM running for 455.987)
2025-10-22 21:43:40.529 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 21:46:13.168 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 21:46:13.169 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 21:46:13.170 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 21:46:13.170 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:46:13.170 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:46:13.174 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:46:13.185 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:46:13.185 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:46:13.193 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:46:13.196 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:46:13.214 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:46:58.039 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/locations
2025-10-22 21:46:58.039 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:46:58.041 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:46:58.046 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/locations] with attributes [authenticated]
2025-10-22 21:46:58.046 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/locations
2025-10-22 21:46:58.051 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - 创建位置: name=小灰灰, address=广东省梅州市梅江区江南街道署东巷11号, merchantId=1
2025-10-22 21:46:58.052 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 创建位置信息: name=小灰灰, merchantId=1
2025-10-22 21:46:58.054 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-22 21:46:58.057 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息创建成功: locationId=7
2025-10-22 21:46:58.061 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:46:58.072 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:46:58.072 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:46:58.074 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:46:58.079 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:46:58.079 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:46:58.081 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:46:58.081 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:46:58.090 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:47:28.302 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-22 21:47:28.304 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-22 21:47:39.922 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7024 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:47:39.924 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:47:39.924 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:47:39.961 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 21:47:39.961 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 21:47:40.460 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:47:40.462 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:47:40.481 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-10-22 21:47:41.073 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:47:41.081 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:47:41.081 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:47:41.144 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:47:41.146 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1184 ms
2025-10-22 21:47:41.217 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:47:41.527 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 21:47:41.770 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:47:42.170 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:47:42.171 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:47:42.171 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:47:42.171 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:47:42.171 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:47:42.172 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:47:42.172 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:47:42.172 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:47:42.172 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:47:42.172 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:47:42.172 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:47:42.172 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:47:42.172 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:47:42.172 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:47:42.173 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:47:42.173 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:47:42.173 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:47:42.173 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:47:42.173 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:47:42.174 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:47:42.174 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:47:42.175 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:47:42.175 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:47:42.175 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:47:42.180 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35c1073f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@166cbb06, org.springframework.security.web.context.SecurityContextPersistenceFilter@4ee6b66a, org.springframework.security.web.header.HeaderWriterFilter@4a2ef579, org.springframework.web.filter.CorsFilter@5c167746, org.springframework.security.web.authentication.logout.LogoutFilter@6efdbeb, com.yxly.security.JwtAuthenticationFilter@74f3ea76, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c2ec572, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f6d334a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@418d2f5f, org.springframework.security.web.session.SessionManagementFilter@46cb320d, org.springframework.security.web.access.ExceptionTranslationFilter@7b10f83a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62dd7ff2]
2025-10-22 21:47:42.749 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:47:42.786 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:47:42.794 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.173 seconds (JVM running for 3.463)
2025-10-22 21:47:51.959 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 21:47:51.960 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 21:47:51.961 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 21:47:51.972 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:47:51.974 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:47:52.020 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:47:52.130 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:47:52.131 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:47:52.184 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:47:52.186 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:47:52.290 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:48:09.293 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/locations
2025-10-22 21:48:09.293 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:48:09.311 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:48:09.317 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/locations] with attributes [authenticated]
2025-10-22 21:48:09.317 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/locations
2025-10-22 21:48:09.349 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - 创建位置: name=小灰灰, address=广东省梅州市梅江区江南街道新闻路3号, merchantId=1
2025-10-22 21:48:09.352 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 创建位置信息: name=小灰灰, merchantId=1
2025-10-22 21:48:09.357 [http-nio-8080-exec-4] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-22 21:48:09.366 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息创建成功: locationId=8
2025-10-22 21:48:09.370 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:48:09.540 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:48:09.542 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:48:09.544 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:48:09.550 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:48:09.550 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:48:09.551 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:48:09.551 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:48:09.562 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:48:29.517 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 21:48:29.517 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:48:29.519 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:48:29.524 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 21:48:29.524 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 21:48:29.530 [http-nio-8080-exec-6] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 21:48:29.531 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:48:40.175 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 21:48:40.177 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:48:40.177 [http-nio-8080-exec-5] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:48:40.178 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 21:48:40.178 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 21:48:40.182 [http-nio-8080-exec-5] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=XHH, userType=user
2025-10-22 21:48:40.184 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: XHH, 登录类型: user
2025-10-22 21:48:40.257 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 21:48:40.272 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:48:40.278 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: XHH
2025-10-22 21:48:40.281 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:48:43.279 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:48:43.280 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:48:43.281 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:48:43.286 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:48:43.286 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:48:43.287 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:48:43.287 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:48:43.296 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:48:59.907 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/locations
2025-10-22 21:48:59.907 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:48:59.909 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:48:59.914 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/locations] with attributes [authenticated]
2025-10-22 21:48:59.915 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/locations
2025-10-22 21:48:59.917 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - 创建位置: name=小灰灰, address=广东省梅州市梅江区江南街道新闻路8号, merchantId=1
2025-10-22 21:48:59.917 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 创建位置信息: name=小灰灰, merchantId=1
2025-10-22 21:48:59.918 [http-nio-8080-exec-7] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-22 21:48:59.920 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息创建成功: locationId=9
2025-10-22 21:48:59.923 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:48:59.934 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:48:59.936 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:48:59.939 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:48:59.946 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:48:59.946 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:48:59.948 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:48:59.948 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:48:59.960 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:52:16.509 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 21:52:16.523 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 21:52:16.524 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-22 21:52:16.534 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-642063765] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 21:52:16.536 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-642063765] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 21:52:16.548 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 21:52:16.552 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 21:52:16.616 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7024 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:52:16.616 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:52:16.616 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:52:16.766 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:52:16.767 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:52:16.774 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-10-22 21:52:16.903 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:52:16.903 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:52:16.904 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:52:16.928 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:52:16.928 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 308 ms
2025-10-22 21:52:16.962 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:52:17.054 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-22 21:52:17.120 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:52:17.323 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:52:17.323 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:52:17.323 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:52:17.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:52:17.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:52:17.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:52:17.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:52:17.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:52:17.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:52:17.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:52:17.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:52:17.324 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:52:17.325 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:52:17.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:52:17.326 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:52:17.329 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59fa63d8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53fde762, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e13fe12, org.springframework.security.web.header.HeaderWriterFilter@47869dde, org.springframework.web.filter.CorsFilter@432e0b04, org.springframework.security.web.authentication.logout.LogoutFilter@5e161331, com.yxly.security.JwtAuthenticationFilter@247fd857, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30293217, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fc8c4f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@622b88f2, org.springframework.security.web.session.SessionManagementFilter@75311f49, org.springframework.security.web.access.ExceptionTranslationFilter@23cfb562, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b595fac]
2025-10-22 21:52:17.518 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:52:17.540 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:52:17.543 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.958 seconds (JVM running for 278.212)
2025-10-22 21:52:17.546 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 21:52:28.303 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 21:52:28.315 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 21:52:28.316 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1167317055] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 21:52:28.317 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1167317055] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 21:52:28.321 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-22 21:52:28.323 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-22 21:52:28.375 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7024 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:52:28.376 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:52:28.376 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:52:28.507 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:52:28.507 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:52:28.516 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-10-22 21:52:28.602 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:52:28.602 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:52:28.602 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:52:28.620 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:52:28.620 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 243 ms
2025-10-22 21:52:28.648 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:52:28.731 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-22 21:52:28.798 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:52:29.022 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:52:29.022 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:52:29.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:52:29.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:52:29.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:52:29.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:52:29.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:52:29.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:52:29.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:52:29.023 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:52:29.025 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:52:29.025 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:52:29.025 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:52:29.025 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:52:29.025 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:52:29.025 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:52:29.025 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:52:29.025 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:52:29.026 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:52:29.026 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:52:29.026 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:52:29.026 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:52:29.026 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:52:29.026 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:52:29.028 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40167ef4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3414f862, org.springframework.security.web.context.SecurityContextPersistenceFilter@3b46c706, org.springframework.security.web.header.HeaderWriterFilter@49ee7d7b, org.springframework.web.filter.CorsFilter@790d6ab7, org.springframework.security.web.authentication.logout.LogoutFilter@47734fbc, com.yxly.security.JwtAuthenticationFilter@57d0bec3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8dafa4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40688886, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@797488e4, org.springframework.security.web.session.SessionManagementFilter@39e0b965, org.springframework.security.web.access.ExceptionTranslationFilter@2642bda7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71de34f6]
2025-10-22 21:52:29.190 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:52:29.207 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:52:29.210 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.855 seconds (JVM running for 289.879)
2025-10-22 21:52:29.212 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 21:52:38.955 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 21:52:38.967 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 21:52:38.970 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1210413654] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 21:52:38.971 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1210413654] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 21:52:38.973 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-22 21:52:38.976 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-22 21:52:39.031 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7024 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:52:39.031 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:52:39.031 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:52:39.158 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:52:39.158 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:52:39.167 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 21:52:39.256 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:52:39.257 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:52:39.257 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:52:39.272 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:52:39.272 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 240 ms
2025-10-22 21:52:39.299 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:52:39.400 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-22 21:52:39.493 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:52:39.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:52:39.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:52:39.657 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:52:39.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:52:39.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:52:39.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:52:39.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:52:39.658 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:52:39.659 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:52:39.661 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:52:39.661 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:52:39.661 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:52:39.661 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:52:39.661 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:52:39.662 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@659ab924, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77bc7c98, org.springframework.security.web.context.SecurityContextPersistenceFilter@3db31b9c, org.springframework.security.web.header.HeaderWriterFilter@edd585f, org.springframework.web.filter.CorsFilter@59106a97, org.springframework.security.web.authentication.logout.LogoutFilter@2a0cc5a2, com.yxly.security.JwtAuthenticationFilter@1e1003c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@317dbdd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a65c702, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@633c3ef1, org.springframework.security.web.session.SessionManagementFilter@5005520c, org.springframework.security.web.access.ExceptionTranslationFilter@791ebb9b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6f9aa18d]
2025-10-22 21:52:39.820 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:52:39.836 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:52:39.840 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.83 seconds (JVM running for 300.508)
2025-10-22 21:52:39.841 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 21:53:03.463 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 21:53:03.476 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 21:53:03.477 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1064592537] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 21:53:03.477 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1064592537] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 21:53:03.484 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-22 21:53:03.486 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-22 21:53:03.536 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 7024 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:53:03.536 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:53:03.536 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:53:03.659 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:53:03.659 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:53:03.666 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-10-22 21:53:03.751 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:53:03.751 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:53:03.751 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:53:03.767 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:53:03.767 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 229 ms
2025-10-22 21:53:03.796 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:53:03.868 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-22 21:53:03.926 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:53:04.090 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:53:04.090 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:53:04.090 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:53:04.090 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:53:04.091 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:53:04.093 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:53:04.094 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ddfe9f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c69c393, org.springframework.security.web.context.SecurityContextPersistenceFilter@74afd51c, org.springframework.security.web.header.HeaderWriterFilter@4d681010, org.springframework.web.filter.CorsFilter@7797649f, org.springframework.security.web.authentication.logout.LogoutFilter@1c337d6c, com.yxly.security.JwtAuthenticationFilter@8f8b927, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11f7a821, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@591983d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4521d7cc, org.springframework.security.web.session.SessionManagementFilter@2de91869, org.springframework.security.web.access.ExceptionTranslationFilter@16ce6e76, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51cc7918]
2025-10-22 21:53:04.288 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:53:04.307 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:53:04.311 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.792 seconds (JVM running for 324.979)
2025-10-22 21:53:04.312 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 21:55:33.717 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-22 21:55:33.721 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-22 21:55:43.530 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24324 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 21:55:43.532 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 21:55:43.533 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 21:55:43.570 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 21:55:43.571 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 21:55:44.065 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 21:55:44.067 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 21:55:44.088 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-22 21:55:44.683 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 21:55:44.691 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 21:55:44.692 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 21:55:44.755 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 21:55:44.755 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1184 ms
2025-10-22 21:55:44.823 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 21:55:45.168 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 21:55:45.411 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 21:55:45.825 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 21:55:45.825 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 21:55:45.827 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 21:55:45.827 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 21:55:45.827 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 21:55:45.827 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 21:55:45.827 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 21:55:45.828 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 21:55:45.828 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 21:55:45.828 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 21:55:45.828 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 21:55:45.828 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 21:55:45.828 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 21:55:45.828 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 21:55:45.828 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 21:55:45.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 21:55:45.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 21:55:45.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 21:55:45.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 21:55:45.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 21:55:45.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 21:55:45.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 21:55:45.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 21:55:45.829 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 21:55:45.834 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@681684fd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@412a095e, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a320098, org.springframework.security.web.header.HeaderWriterFilter@68a05905, org.springframework.web.filter.CorsFilter@778d78cb, org.springframework.security.web.authentication.logout.LogoutFilter@68585330, com.yxly.security.JwtAuthenticationFilter@30e0d17, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@225a9dda, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f1b1aa5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b7d4e45, org.springframework.security.web.session.SessionManagementFilter@50a064e3, org.springframework.security.web.access.ExceptionTranslationFilter@102f37ae, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b29a081]
2025-10-22 21:55:46.388 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 21:55:46.426 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 21:55:46.434 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.189 seconds (JVM running for 3.476)
2025-10-22 21:58:17.424 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 21:58:17.424 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 21:58:17.425 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 21:58:17.434 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:58:17.436 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:58:17.476 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:58:17.567 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:58:17.568 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:58:17.622 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:58:17.623 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:58:17.733 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:58:21.761 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 21:58:21.761 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:58:21.768 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:58:21.772 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 21:58:21.772 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 21:58:21.782 [http-nio-8080-exec-2] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 21:58:21.784 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:58:34.138 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 21:58:34.139 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:58:34.140 [http-nio-8080-exec-3] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 21:58:34.141 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 21:58:34.141 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 21:58:34.199 [http-nio-8080-exec-3] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=XHH, userType=user
2025-10-22 21:58:34.201 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: XHH, 登录类型: user
2025-10-22 21:58:34.285 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 21:58:34.303 [http-nio-8080-exec-3] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 21:58:34.312 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - === 构建登录响应 ===
2025-10-22 21:58:34.314 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户ID: 29
2025-10-22 21:58:34.314 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户名: XHH
2025-10-22 21:58:34.314 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 真实姓名: 小灰灰
2025-10-22 21:58:34.314 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色ID: 1
2025-10-22 21:58:34.314 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色代码: HOMESTAY_ADMIN
2025-10-22 21:58:34.314 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 商户ID: 1
2025-10-22 21:58:34.315 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - ===================
2025-10-22 21:58:34.315 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: XHH
2025-10-22 21:58:34.319 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 21:59:16.183 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 21:59:16.184 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 21:59:16.185 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 21:59:16.191 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 21:59:16.193 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 21:59:16.193 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:59:16.194 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=1, roleCode=SUPER_ADMIN
2025-10-22 21:59:16.206 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:00:46.246 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 22:00:46.248 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:00:46.251 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 22:00:46.257 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 22:00:46.257 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 22:00:46.257 [http-nio-8080-exec-5] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 22:00:46.259 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:00:51.656 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 22:00:51.657 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:00:51.657 [http-nio-8080-exec-6] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 22:00:51.657 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 22:00:51.658 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 22:00:51.658 [http-nio-8080-exec-6] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=XYY, userType=user
2025-10-22 22:00:51.659 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: XYY, 登录类型: user
2025-10-22 22:00:51.734 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 22:00:51.739 [http-nio-8080-exec-6] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 22:00:51.743 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - === 构建登录响应 ===
2025-10-22 22:00:51.744 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户ID: 30
2025-10-22 22:00:51.744 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户名: XYY
2025-10-22 22:00:51.744 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 真实姓名: 小羊羊
2025-10-22 22:00:51.744 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色ID: 1
2025-10-22 22:00:51.744 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色代码: HOMESTAY_ADMIN
2025-10-22 22:00:51.744 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 商户ID: 2
2025-10-22 22:00:51.744 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - ===================
2025-10-22 22:00:51.744 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: XYY
2025-10-22 22:00:51.745 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:00:52.900 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:00:52.900 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:00:52.901 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:00:52.905 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:00:52.906 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:00:52.906 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 22:00:52.906 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 22:00:52.918 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:01:06.267 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing PUT /v1/admin/locations/9
2025-10-22 22:01:06.268 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:01:06.270 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:01:06.274 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [PUT /v1/admin/locations/9] with attributes [authenticated]
2025-10-22 22:01:06.274 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured PUT /v1/admin/locations/9
2025-10-22 22:01:06.281 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 更新位置 - 用户信息: userId=30, username=XYY, merchantId=2, roleId=1, roleCode=SUPER_ADMIN
2025-10-22 22:01:06.281 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 更新位置 - 请求参数: locationId=9, name=小灰灰, address=广东省梅州市梅江区江南街道新闻路8号
2025-10-22 22:01:06.284 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 更新位置信息: id=9, name=小灰灰, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 22:01:06.293 [http-nio-8080-exec-8] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 22:01:06.295 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息更新成功: locationId=9
2025-10-22 22:01:06.297 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:01:06.309 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:01:06.309 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:01:06.312 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:01:06.318 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:01:06.318 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:01:06.319 [http-nio-8080-exec-9] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 22:01:06.319 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 22:01:06.326 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:04:34.789 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/admin/locations
2025-10-22 22:04:34.791 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:04:34.793 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:04:34.798 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/admin/locations] with attributes [authenticated]
2025-10-22 22:04:34.798 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/admin/locations
2025-10-22 22:04:34.799 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.LocationController] - === 创建位置 - 详细信息 ===
2025-10-22 22:04:34.799 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30
2025-10-22 22:04:34.799 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.LocationController] - 用户名: XYY
2025-10-22 22:04:34.799 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.LocationController] - 真实姓名: 小羊羊
2025-10-22 22:04:34.799 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.LocationController] - 角色ID: 1
2025-10-22 22:04:34.800 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.LocationController] - 商户ID: 2
2025-10-22 22:04:34.800 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.LocationController] - 位置名称: 小羊羊
2025-10-22 22:04:34.800 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.LocationController] - 位置地址: 广东省梅州市梅江区金山街道学海路6
2025-10-22 22:04:34.800 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.LocationController] - =========================
2025-10-22 22:04:34.800 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === Service层 - 创建位置信息 ===
2025-10-22 22:04:34.800 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 接收到的 merchantId: 2
2025-10-22 22:04:34.802 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置名称: 小羊羊
2025-10-22 22:04:34.802 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 设置位置的 merchantId: 2
2025-10-22 22:04:34.802 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 准备插入数据库，location对象: id=null, merchantId=2, name=小羊羊
2025-10-22 22:04:34.803 [http-nio-8080-exec-10] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始插入填充...
2025-10-22 22:04:34.808 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息创建成功: locationId=10, merchantId=2
2025-10-22 22:04:34.811 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 数据库中保存的 merchantId: 2
2025-10-22 22:04:34.815 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:04:35.054 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:04:35.055 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:04:35.058 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:04:35.062 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:04:35.062 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:04:35.063 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 22:04:35.063 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 22:04:35.074 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:04:48.969 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 22:04:48.981 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 22:04:48.982 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-22 22:04:48.993 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-18930418] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 22:04:48.993 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-18930418] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 22:04:49.005 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 22:04:49.009 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 22:04:49.073 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24324 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 22:04:49.074 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 22:04:49.074 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 22:04:49.244 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 22:04:49.245 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 22:04:49.254 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-10-22 22:04:49.359 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 22:04:49.360 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 22:04:49.360 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 22:04:49.376 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 22:04:49.377 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 301 ms
2025-10-22 22:04:49.406 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 22:04:49.534 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-22 22:04:49.603 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 22:04:49.799 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 22:04:49.799 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 22:04:49.799 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 22:04:49.800 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 22:04:49.801 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 22:04:49.801 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 22:04:49.801 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 22:04:49.801 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 22:04:49.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 22:04:49.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 22:04:49.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 22:04:49.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 22:04:49.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 22:04:49.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 22:04:49.802 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 22:04:49.804 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2533a5c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d1e0a7f, org.springframework.security.web.context.SecurityContextPersistenceFilter@78808db8, org.springframework.security.web.header.HeaderWriterFilter@52e47140, org.springframework.web.filter.CorsFilter@67837c35, org.springframework.security.web.authentication.logout.LogoutFilter@f7fdfeb, com.yxly.security.JwtAuthenticationFilter@3322b86e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca490f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dbb845c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6133b774, org.springframework.security.web.session.SessionManagementFilter@5d106373, org.springframework.security.web.access.ExceptionTranslationFilter@34520a43, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@653c6150]
2025-10-22 22:04:50.001 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 22:04:50.021 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 22:04:50.025 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.981 seconds (JVM running for 547.065)
2025-10-22 22:04:50.026 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 22:05:04.916 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 22:05:04.936 [Thread-7] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 22:05:04.938 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-501457735] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 22:05:04.939 [Thread-7] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-501457735] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 22:05:04.942 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-22 22:05:04.944 [Thread-7] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-22 22:05:04.996 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24324 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 22:05:04.996 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 22:05:04.996 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 22:05:05.141 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 22:05:05.141 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 22:05:05.149 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 22:05:05.238 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 22:05:05.239 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 22:05:05.239 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 22:05:05.257 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 22:05:05.257 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 258 ms
2025-10-22 22:05:05.286 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 22:05:05.379 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} inited
2025-10-22 22:05:05.441 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 22:05:05.620 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 22:05:05.620 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 22:05:05.621 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 22:05:05.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 22:05:05.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 22:05:05.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 22:05:05.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 22:05:05.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 22:05:05.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 22:05:05.622 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 22:05:05.623 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 22:05:05.623 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 22:05:05.624 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 22:05:05.624 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 22:05:05.625 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4565e912, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@516b9147, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d42786a, org.springframework.security.web.header.HeaderWriterFilter@cff9572, org.springframework.web.filter.CorsFilter@60ea8cbf, org.springframework.security.web.authentication.logout.LogoutFilter@31523ee, com.yxly.security.JwtAuthenticationFilter@68a7e9c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@389cee48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48b8a82c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@732b0d76, org.springframework.security.web.session.SessionManagementFilter@75381bf9, org.springframework.security.web.access.ExceptionTranslationFilter@f0b401a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@63ee078b]
2025-10-22 22:05:05.804 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 22:05:05.824 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 22:05:05.827 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.851 seconds (JVM running for 562.869)
2025-10-22 22:05:05.829 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 22:11:28.743 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 22:11:28.756 [Thread-11] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 22:11:28.757 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1218869536] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 22:11:28.758 [Thread-11] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1218869536] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 22:11:28.761 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closing ...
2025-10-22 22:11:28.764 [Thread-11] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-3} closed
2025-10-22 22:11:28.830 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24324 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 22:11:28.830 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 22:11:28.830 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 22:11:28.957 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 22:11:28.957 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 22:11:28.966 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 22:11:29.062 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 22:11:29.062 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 22:11:29.062 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 22:11:29.078 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 22:11:29.078 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 247 ms
2025-10-22 22:11:29.113 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 22:11:29.188 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} inited
2025-10-22 22:11:29.248 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 22:11:29.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 22:11:29.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 22:11:29.423 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 22:11:29.424 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 22:11:29.425 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 22:11:29.425 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 22:11:29.425 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 22:11:29.425 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 22:11:29.425 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 22:11:29.425 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 22:11:29.425 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 22:11:29.427 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@741a38d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@251e1c5e, org.springframework.security.web.context.SecurityContextPersistenceFilter@14c8ee71, org.springframework.security.web.header.HeaderWriterFilter@3677e064, org.springframework.web.filter.CorsFilter@11348c19, org.springframework.security.web.authentication.logout.LogoutFilter@5499756f, com.yxly.security.JwtAuthenticationFilter@3c892454, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1943026b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10bea5e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5708f59d, org.springframework.security.web.session.SessionManagementFilter@3da54fb1, org.springframework.security.web.access.ExceptionTranslationFilter@81a0fb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7eb719a3]
2025-10-22 22:11:29.606 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 22:11:29.623 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 22:11:29.626 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.823 seconds (JVM running for 946.668)
2025-10-22 22:11:29.627 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 22:11:44.538 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 22:11:44.550 [Thread-15] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 22:11:44.551 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-1428900504] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 22:11:44.552 [Thread-15] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-1428900504] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 22:11:44.559 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closing ...
2025-10-22 22:11:44.562 [Thread-15] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-4} closed
2025-10-22 22:11:44.617 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24324 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 22:11:44.617 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 22:11:44.617 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 22:11:44.737 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 22:11:44.738 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 22:11:44.745 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 22:11:44.833 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 22:11:44.833 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 22:11:44.834 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 22:11:44.853 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 22:11:44.853 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 235 ms
2025-10-22 22:11:44.881 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 22:11:44.970 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} inited
2025-10-22 22:11:45.035 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 22:11:45.207 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 22:11:45.207 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 22:11:45.207 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 22:11:45.208 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 22:11:45.209 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 22:11:45.209 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 22:11:45.209 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 22:11:45.209 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 22:11:45.209 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 22:11:45.209 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 22:11:45.209 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 22:11:45.209 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 22:11:45.210 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2697ee4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a454b1b, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e938fb1, org.springframework.security.web.header.HeaderWriterFilter@46229a92, org.springframework.web.filter.CorsFilter@54635313, org.springframework.security.web.authentication.logout.LogoutFilter@fa4f02d, com.yxly.security.JwtAuthenticationFilter@50ca9496, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d1dd506, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fb93a3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21b9c8f, org.springframework.security.web.session.SessionManagementFilter@46548cf0, org.springframework.security.web.access.ExceptionTranslationFilter@6de9c885, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b35b37b]
2025-10-22 22:11:45.370 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 22:11:45.389 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 22:11:45.393 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.794 seconds (JVM running for 962.434)
2025-10-22 22:11:45.394 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 22:12:01.305 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 22:12:01.318 [Thread-19] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 22:12:01.320 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-624849279] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 22:12:01.321 [Thread-19] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-624849279] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 22:12:01.324 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closing ...
2025-10-22 22:12:01.327 [Thread-19] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-5} closed
2025-10-22 22:12:01.392 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 24324 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 22:12:01.393 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 22:12:01.393 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 22:12:01.549 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 22:12:01.550 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 22:12:01.557 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 22:12:01.642 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 22:12:01.643 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 22:12:01.643 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 22:12:01.659 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 22:12:01.659 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 265 ms
2025-10-22 22:12:01.688 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 22:12:01.766 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} inited
2025-10-22 22:12:01.821 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 22:12:01.977 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 22:12:01.977 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 22:12:01.978 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 22:12:01.979 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 22:12:01.979 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 22:12:01.979 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 22:12:01.979 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 22:12:01.979 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 22:12:01.979 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 22:12:01.979 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 22:12:01.981 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a765129, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2898822b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f1e75ad, org.springframework.security.web.header.HeaderWriterFilter@72ebc5a8, org.springframework.web.filter.CorsFilter@3b6be127, org.springframework.security.web.authentication.logout.LogoutFilter@43251a01, com.yxly.security.JwtAuthenticationFilter@68bc8e7f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38c6d9dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@142c9de8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c974151, org.springframework.security.web.session.SessionManagementFilter@4d92cfe0, org.springframework.security.web.access.ExceptionTranslationFilter@35be543f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@784de4c7]
2025-10-22 22:12:02.130 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 22:12:02.146 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 22:12:02.149 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.78 seconds (JVM running for 979.19)
2025-10-22 22:12:02.150 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 22:13:57.695 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 22:13:57.695 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 22:13:57.696 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 0 ms
2025-10-22 22:13:57.698 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:13:57.698 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:13:57.700 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:13:57.708 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:13:57.709 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:13:57.716 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 分页查询位置列表: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 22:13:57.718 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 分页查询位置信息: current=1, size=10, merchantId=2, roleCode=SUPER_ADMIN
2025-10-22 22:13:57.737 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:14:28.867 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closing ...
2025-10-22 22:14:28.869 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-6} closed
2025-10-22 22:14:41.456 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 6032 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 22:14:41.457 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 22:14:41.457 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 22:14:41.493 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 22:14:41.493 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 22:14:42.007 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 22:14:42.010 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 22:14:42.032 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-22 22:14:42.600 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 22:14:42.609 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 22:14:42.609 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 22:14:42.672 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 22:14:42.672 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1178 ms
2025-10-22 22:14:42.738 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 22:14:43.044 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 22:14:43.267 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 22:14:43.644 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 22:14:43.645 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 22:14:43.645 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 22:14:43.645 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 22:14:43.645 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 22:14:43.645 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 22:14:43.645 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 22:14:43.645 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 22:14:43.646 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 22:14:43.647 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 22:14:43.647 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 22:14:43.647 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 22:14:43.647 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 22:14:43.653 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71008bb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16e181fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@4587f11e, org.springframework.security.web.header.HeaderWriterFilter@61fff587, org.springframework.web.filter.CorsFilter@ab6e8c9, org.springframework.security.web.authentication.logout.LogoutFilter@6c203837, com.yxly.security.JwtAuthenticationFilter@5c2b037c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d1ff3f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ae602c3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b8880bc, org.springframework.security.web.session.SessionManagementFilter@69e6fc41, org.springframework.security.web.access.ExceptionTranslationFilter@cbea935, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@49bcbc1b]
2025-10-22 22:14:44.218 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 22:14:44.258 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 22:14:44.270 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.1 seconds (JVM running for 3.405)
2025-10-22 22:15:11.756 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 22:15:11.757 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 22:15:11.759 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-22 22:15:11.768 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:15:11.771 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:15:11.826 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:15:11.968 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:15:11.970 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:15:12.025 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:15:12.027 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:15:12.027 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:15:12.027 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:15:12.027 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:15:12.029 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:15:12.030 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:15:12.030 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:15:12.030 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:15:12.030 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:15:12.138 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:16:54.864 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:16:54.865 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:16:54.867 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:16:54.879 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:16:54.879 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:16:54.880 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:16:54.881 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:16:54.881 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:16:54.881 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:16:54.881 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:16:54.881 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:16:54.881 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:16:54.881 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:16:54.881 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:16:54.881 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:16:54.894 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:17:16.052 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:17:16.052 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:17:16.057 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:17:16.064 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:17:16.065 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:17:16.066 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:17:16.066 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:17:16.066 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:17:16.066 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:17:16.066 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:17:16.066 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:17:16.067 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:17:16.067 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:17:16.067 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:17:16.067 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:17:16.082 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:17:53.223 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:17:53.225 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:17:53.226 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:17:53.232 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:17:53.232 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:17:53.233 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:17:53.233 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:17:53.233 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:17:53.233 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:17:53.233 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:17:53.233 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:17:53.234 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:17:53.234 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:17:53.234 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:17:53.234 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:17:53.242 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:18:07.159 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:18:07.159 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:18:07.160 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:18:07.166 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:18:07.166 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:18:07.167 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:18:07.167 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:18:07.167 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:18:07.167 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:18:07.168 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:18:07.168 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:18:07.168 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:18:07.168 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:18:07.168 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:18:07.168 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:18:07.178 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:18:17.328 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:18:17.329 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:18:17.330 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:18:17.337 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:18:17.337 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:18:17.338 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:18:17.338 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:18:17.338 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:18:17.338 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:18:17.338 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:18:17.338 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:18:17.339 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:18:17.339 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:18:17.339 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:18:17.339 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:18:17.353 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:19:23.973 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:19:23.973 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:19:23.975 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:19:23.981 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:19:23.982 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:19:23.982 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:19:23.982 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:19:23.982 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:19:23.982 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:19:23.983 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:19:23.983 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:19:23.984 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:19:23.984 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:19:23.984 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:19:23.984 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:19:23.991 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:19:50.623 [File Watcher] INFO  [o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener] - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-10-22 22:19:50.638 [Thread-5] INFO  [org.apache.catalina.core.StandardService] - Stopping service [Tomcat]
2025-10-22 22:19:50.639 [Thread-5] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-22 22:19:50.651 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Create-2063356863] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.12/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3465)
 java.base@17.0.12/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3436)
 java.base@17.0.12/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)
 app//com.alibaba.druid.pool.DruidDataSource$CreateConnectionThread.run(DruidDataSource.java:2921)
2025-10-22 22:19:50.651 [Thread-5] WARN  [org.apache.catalina.loader.WebappClassLoaderBase] - The web application [api] appears to have started a thread named [Druid-ConnectionPool-Destroy-2063356863] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.12/java.lang.Thread.sleep(Native Method)
 app//com.alibaba.druid.pool.DruidDataSource$DestroyConnectionThread.run(DruidDataSource.java:3020)
2025-10-22 22:19:50.663 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closing ...
2025-10-22 22:19:50.668 [Thread-5] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} closed
2025-10-22 22:19:50.731 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 6032 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 22:19:50.732 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 22:19:50.732 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 22:19:50.883 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 22:19:50.883 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 22:19:50.891 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-10-22 22:19:50.996 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 22:19:50.996 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 22:19:50.996 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 22:19:51.015 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 22:19:51.015 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 281 ms
2025-10-22 22:19:51.045 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 22:19:51.142 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} inited
2025-10-22 22:19:51.207 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 22:19:51.425 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 22:19:51.426 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 22:19:51.426 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 22:19:51.426 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 22:19:51.426 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 22:19:51.426 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 22:19:51.426 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 22:19:51.426 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 22:19:51.426 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 22:19:51.426 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 22:19:51.427 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 22:19:51.427 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 22:19:51.427 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 22:19:51.427 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 22:19:51.427 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 22:19:51.427 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 22:19:51.427 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 22:19:51.427 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 22:19:51.428 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 22:19:51.428 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 22:19:51.428 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 22:19:51.428 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 22:19:51.428 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 22:19:51.428 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 22:19:51.431 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1321ac75, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@783008b6, org.springframework.security.web.context.SecurityContextPersistenceFilter@24ce1ae0, org.springframework.security.web.header.HeaderWriterFilter@128b5397, org.springframework.web.filter.CorsFilter@b3c08cb, org.springframework.security.web.authentication.logout.LogoutFilter@70a9ec2b, com.yxly.security.JwtAuthenticationFilter@1b41bb7b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d24ad97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@157b4a4f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8b34477, org.springframework.security.web.session.SessionManagementFilter@9470d30, org.springframework.security.web.access.ExceptionTranslationFilter@5795c0de, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@300018a]
2025-10-22 22:19:51.621 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 22:19:51.643 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 22:19:51.646 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 0.941 seconds (JVM running for 310.781)
2025-10-22 22:19:51.647 [restartedMain] INFO  [o.s.b.d.a.ConditionEvaluationDeltaLoggingListener] - Condition evaluation unchanged
2025-10-22 22:20:59.959 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 22:20:59.960 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 22:20:59.961 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 1 ms
2025-10-22 22:20:59.962 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:20:59.962 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:20:59.965 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:20:59.979 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:20:59.980 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:20:59.988 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:20:59.988 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:20:59.989 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:20:59.989 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:20:59.989 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:20:59.991 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:20:59.991 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:20:59.991 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:20:59.991 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:20:59.991 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:21:00.017 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:21:19.727 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closing ...
2025-10-22 22:21:19.728 [SpringApplicationShutdownHook] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-2} closed
2025-10-22 22:21:30.638 [restartedMain] INFO  [com.yxly.YxlyApplication] - Starting YxlyApplication using Java 17.0.12 on LuoRui with PID 316 (E:\CursorProject\LRminsu\yxly-backend\target\classes started by 罗瑞 in E:\CursorProject\LRminsu\yxly-backend)
2025-10-22 22:21:30.640 [restartedMain] DEBUG [com.yxly.YxlyApplication] - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-22 22:21:30.641 [restartedMain] INFO  [com.yxly.YxlyApplication] - The following 1 profile is active: "dev"
2025-10-22 22:21:30.699 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-10-22 22:21:30.699 [restartedMain] INFO  [o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor] - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-10-22 22:21:31.285 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-22 22:21:31.287 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-22 22:21:31.310 [restartedMain] INFO  [o.s.d.r.config.RepositoryConfigurationDelegate] - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-22 22:21:31.961 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat initialized with port(s): 8080 (http)
2025-10-22 22:21:31.968 [restartedMain] INFO  [org.apache.catalina.core.StandardService] - Starting service [Tomcat]
2025-10-22 22:21:31.968 [restartedMain] INFO  [org.apache.catalina.core.StandardEngine] - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-22 22:21:32.033 [restartedMain] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring embedded WebApplicationContext
2025-10-22 22:21:32.033 [restartedMain] INFO  [o.s.b.w.s.c.ServletWebServerApplicationContext] - Root WebApplicationContext: initialization completed in 1334 ms
2025-10-22 22:21:32.104 [restartedMain] INFO  [c.a.d.s.b.a.DruidDataSourceAutoConfigure] - Init DruidDataSource
2025-10-22 22:21:32.460 [restartedMain] INFO  [com.alibaba.druid.pool.DruidDataSource] - {dataSource-1} inited
2025-10-22 22:21:32.721 [restartedMain] DEBUG [com.yxly.security.JwtAuthenticationFilter] - Filter 'jwtAuthenticationFilter' configured for use
2025-10-22 22:21:33.155 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/auth/**']
2025-10-22 22:21:33.156 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/merchant/register']
2025-10-22 22:21:33.156 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/dev/**']
2025-10-22 22:21:33.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v3/api-docs/**']
2025-10-22 22:21:33.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui/**']
2025-10-22 22:21:33.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/swagger-ui.html']
2025-10-22 22:21:33.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/druid/**']
2025-10-22 22:21:33.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/actuator/**']
2025-10-22 22:21:33.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/error']
2025-10-22 22:21:33.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/rooms/**', GET]
2025-10-22 22:21:33.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/rooms/types', GET]
2025-10-22 22:21:33.157 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/files/**']
2025-10-22 22:21:33.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/upload/**']
2025-10-22 22:21:33.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/super-admin/**']
2025-10-22 22:21:33.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/recharge/**']
2025-10-22 22:21:33.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/withdraw/**']
2025-10-22 22:21:33.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/admin/bookings/**']
2025-10-22 22:21:33.158 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/admin/bookings/**']
2025-10-22 22:21:33.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/recharge/**']
2025-10-22 22:21:33.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/info']
2025-10-22 22:21:33.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/balance']
2025-10-22 22:21:33.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/user/bookings/**']
2025-10-22 22:21:33.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [permitAll] for Ant [pattern='/v1/user/financial-records/**']
2025-10-22 22:21:33.159 [restartedMain] DEBUG [o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource] - Adding web access control expression [authenticated] for any request
2025-10-22 22:21:33.164 [restartedMain] INFO  [o.s.security.web.DefaultSecurityFilterChain] - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f35a30a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f23bc6a, org.springframework.security.web.context.SecurityContextPersistenceFilter@51d1aff7, org.springframework.security.web.header.HeaderWriterFilter@16bd7c00, org.springframework.web.filter.CorsFilter@363f8e0c, org.springframework.security.web.authentication.logout.LogoutFilter@b0b99e7, com.yxly.security.JwtAuthenticationFilter@7667bec5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50cecdae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27e33117, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47ebcdcd, org.springframework.security.web.session.SessionManagementFilter@5dcec4ab, org.springframework.security.web.access.ExceptionTranslationFilter@515cceaa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42bf8cc]
2025-10-22 22:21:33.768 [restartedMain] INFO  [o.s.b.d.autoconfigure.OptionalLiveReloadServer] - LiveReload server is running on port 35729
2025-10-22 22:21:33.821 [restartedMain] INFO  [o.s.boot.web.embedded.tomcat.TomcatWebServer] - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-10-22 22:21:33.833 [restartedMain] INFO  [com.yxly.YxlyApplication] - Started YxlyApplication in 3.611 seconds (JVM running for 3.99)
2025-10-22 22:21:43.420 [http-nio-8080-exec-1] INFO  [o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api]] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-22 22:21:43.420 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Initializing Servlet 'dispatcherServlet'
2025-10-22 22:21:43.422 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.DispatcherServlet] - Completed initialization in 2 ms
2025-10-22 22:21:43.432 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:21:43.435 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:21:43.484 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:21:43.605 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:21:43.605 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:21:43.659 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:21:43.659 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:21:43.659 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:21:43.659 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:21:43.659 [http-nio-8080-exec-1] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:21:43.662 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:21:43.662 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:21:43.662 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:21:43.662 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:21:43.663 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:21:43.780 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:08.186 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-22 22:22:08.186 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 22:22:08.187 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:08.187 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:08.191 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:22:08.191 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:22:08.200 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-22 22:22:08.200 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-22 22:22:08.200 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-22 22:22:08.200 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 22:22:08.208 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-22 22:22:08.208 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 22:22:08.211 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-22 22:22:08.211 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 22:22:08.225 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:08.225 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:13.315 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 22:22:13.317 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:13.319 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:22:13.325 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 22:22:13.326 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 22:22:13.328 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 22:22:13.330 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 22:22:13.356 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 17
2025-10-22 22:22:13.360 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:13.936 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 22:22:13.936 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/rooms/types
2025-10-22 22:22:13.936 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:13.936 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:13.938 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:22:13.938 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:22:13.943 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms?current=1&size=10&roomNumber=] with attributes [authenticated]
2025-10-22 22:22:13.945 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms?current=1&size=10&roomNumber=
2025-10-22 22:22:13.946 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.RoomController] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 22:22:13.946 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.RoomServiceImpl] - 分页查询房间列表: current=1, size=10, roomNumber=, roomTypeId=null, status=null, floorNumber=null
2025-10-22 22:22:13.946 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/rooms/types] with attributes [permitAll]
2025-10-22 22:22:13.946 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/rooms/types
2025-10-22 22:22:13.946 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.RoomController] - 查询房型列表
2025-10-22 22:22:13.947 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.RoomServiceImpl] - 查询启用的房型列表
2025-10-22 22:22:13.953 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:13.958 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:14.674 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 22:22:14.675 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:14.676 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:22:14.683 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 22:22:14.683 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 22:22:14.684 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 22:22:14.684 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 22:22:14.699 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 17
2025-10-22 22:22:14.702 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:15.594 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:22:15.594 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:15.596 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:22:15.600 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:22:15.601 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:22:15.602 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:22:15.602 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 30, 用户名: XYY
2025-10-22 22:22:15.602 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 2, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:22:15.602 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:22:15.602 [http-nio-8080-exec-8] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:22:15.603 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:22:15.603 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:22:15.603 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 2
2025-10-22 22:22:15.603 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:22:15.603 [http-nio-8080-exec-8] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:22:15.612 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:25.581 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 22:22:25.581 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:25.588 [http-nio-8080-exec-9] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XYY
2025-10-22 22:22:25.600 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 22:22:25.600 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 22:22:25.609 [http-nio-8080-exec-9] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 22:22:25.611 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:31.477 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 22:22:31.477 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:31.478 [http-nio-8080-exec-10] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 22:22:31.480 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 22:22:31.482 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 22:22:31.512 [http-nio-8080-exec-10] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=XHH, userType=user
2025-10-22 22:22:31.514 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: XHH, 登录类型: user
2025-10-22 22:22:31.586 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: false
2025-10-22 22:22:31.588 [http-nio-8080-exec-10] WARN  [com.yxly.exception.GlobalExceptionHandler] - 业务异常：用户名或密码错误
2025-10-22 22:22:31.590 [http-nio-8080-exec-10] WARN  [o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver] - Resolved [BusinessException(code=10107, message=用户名或密码错误)]
2025-10-22 22:22:31.591 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:36.737 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 22:22:36.737 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:36.738 [http-nio-8080-exec-1] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 22:22:36.739 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 22:22:36.739 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 22:22:36.739 [http-nio-8080-exec-1] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=XHH, userType=user
2025-10-22 22:22:36.740 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: XHH, 登录类型: user
2025-10-22 22:22:36.810 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 22:22:36.822 [http-nio-8080-exec-1] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 22:22:36.829 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - === 构建登录响应 ===
2025-10-22 22:22:36.830 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户ID: 29
2025-10-22 22:22:36.830 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户名: XHH
2025-10-22 22:22:36.830 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 真实姓名: 小灰灰
2025-10-22 22:22:36.830 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色ID: 1
2025-10-22 22:22:36.830 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色代码: HOMESTAY_ADMIN
2025-10-22 22:22:36.830 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 商户ID: 1
2025-10-22 22:22:36.830 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - ===================
2025-10-22 22:22:36.831 [http-nio-8080-exec-1] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: XHH
2025-10-22 22:22:36.835 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:22:37.892 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:22:37.892 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:22:37.896 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 22:22:37.902 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:22:37.902 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:22:37.902 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:22:37.902 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 29, 用户名: XHH
2025-10-22 22:22:37.902 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 1, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:22:37.903 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:22:37.903 [http-nio-8080-exec-3] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:22:37.903 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:22:37.903 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:22:37.903 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 1
2025-10-22 22:22:37.903 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:22:37.903 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:22:37.913 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:23:07.563 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing PUT /v1/admin/locations/2
2025-10-22 22:23:07.563 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:23:07.565 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 22:23:07.568 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [PUT /v1/admin/locations/2] with attributes [authenticated]
2025-10-22 22:23:07.568 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured PUT /v1/admin/locations/2
2025-10-22 22:23:07.575 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - 更新位置 - 用户信息: userId=29, username=XHH, merchantId=1, roleId=1, roleCode=HOMESTAY_ADMIN
2025-10-22 22:23:07.575 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.LocationController] - 更新位置 - 请求参数: locationId=2, name=小灰灰1号, address=广东省梅州市梅县区扶大高管会
2025-10-22 22:23:07.578 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 更新位置信息: id=2, name=小灰灰1号, merchantId=1, roleCode=HOMESTAY_ADMIN
2025-10-22 22:23:07.586 [http-nio-8080-exec-2] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 22:23:07.588 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息更新成功: locationId=2
2025-10-22 22:23:07.592 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:23:07.828 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:23:07.828 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:23:07.830 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 22:23:07.834 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:23:07.834 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:23:07.834 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:23:07.834 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 29, 用户名: XHH
2025-10-22 22:23:07.834 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 1, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:23:07.834 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:23:07.834 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:23:07.834 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:23:07.834 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:23:07.836 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 1
2025-10-22 22:23:07.836 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:23:07.836 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:23:07.842 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:23:21.081 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing PUT /v1/admin/locations/9
2025-10-22 22:23:21.081 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:23:21.083 [http-nio-8080-exec-5] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 22:23:21.088 [http-nio-8080-exec-5] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [PUT /v1/admin/locations/9] with attributes [authenticated]
2025-10-22 22:23:21.088 [http-nio-8080-exec-5] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured PUT /v1/admin/locations/9
2025-10-22 22:23:21.088 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - 更新位置 - 用户信息: userId=29, username=XHH, merchantId=1, roleId=1, roleCode=HOMESTAY_ADMIN
2025-10-22 22:23:21.090 [http-nio-8080-exec-5] INFO  [com.yxly.controller.admin.LocationController] - 更新位置 - 请求参数: locationId=9, name=小灰灰2号, address=广东省梅州市梅江区江南街道新闻路8号
2025-10-22 22:23:21.090 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 更新位置信息: id=9, name=小灰灰2号, merchantId=1, roleCode=HOMESTAY_ADMIN
2025-10-22 22:23:21.094 [http-nio-8080-exec-5] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 22:23:21.096 [http-nio-8080-exec-5] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - 位置信息更新成功: locationId=9
2025-10-22 22:23:21.098 [http-nio-8080-exec-5] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:23:21.414 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:23:21.414 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:23:21.416 [http-nio-8080-exec-6] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 22:23:21.419 [http-nio-8080-exec-6] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:23:21.419 [http-nio-8080-exec-6] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:23:21.420 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:23:21.420 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 29, 用户名: XHH
2025-10-22 22:23:21.420 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 1, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:23:21.420 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:23:21.420 [http-nio-8080-exec-6] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:23:21.420 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:23:21.420 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:23:21.421 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 1
2025-10-22 22:23:21.421 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:23:21.421 [http-nio-8080-exec-6] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:23:21.429 [http-nio-8080-exec-6] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:23:49.511 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/locations?current=1&size=10
2025-10-22 22:23:49.511 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:23:49.512 [http-nio-8080-exec-7] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 22:23:49.516 [http-nio-8080-exec-7] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/locations?current=1&size=10] with attributes [authenticated]
2025-10-22 22:23:49.517 [http-nio-8080-exec-7] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/locations?current=1&size=10
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - === Controller - 分页查询位置列表 ===
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - 用户ID: 29, 用户名: XHH
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - merchantId: 1, roleId: 1, roleCode: HOMESTAY_ADMIN
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - 分页参数: current=1, size=10
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.controller.admin.LocationController] - ====================================
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - === 分页查询位置信息（所有管理员共享查看）===
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - current: 1, size: 10
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - merchantId: 1
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - roleCode: HOMESTAY_ADMIN
2025-10-22 22:23:49.518 [http-nio-8080-exec-7] INFO  [com.yxly.service.impl.LocationInfoServiceImpl] - ? 查询所有位置（管理员共享查看）
2025-10-22 22:23:49.531 [http-nio-8080-exec-7] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:24:00.410 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/logout
2025-10-22 22:24:00.410 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:24:00.412 [http-nio-8080-exec-8] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: XHH
2025-10-22 22:24:00.416 [http-nio-8080-exec-8] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/logout] with attributes [permitAll]
2025-10-22 22:24:00.416 [http-nio-8080-exec-8] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/logout
2025-10-22 22:24:00.418 [http-nio-8080-exec-8] INFO  [com.yxly.controller.auth.AuthController] - 用户登出
2025-10-22 22:24:00.419 [http-nio-8080-exec-8] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:24:15.122 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing POST /v1/auth/login
2025-10-22 22:24:15.122 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:24:15.122 [http-nio-8080-exec-9] DEBUG [o.s.s.w.a.AnonymousAuthenticationFilter] - Set SecurityContextHolder to anonymous SecurityContext
2025-10-22 22:24:15.123 [http-nio-8080-exec-9] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [POST /v1/auth/login] with attributes [permitAll]
2025-10-22 22:24:15.123 [http-nio-8080-exec-9] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured POST /v1/auth/login
2025-10-22 22:24:15.125 [http-nio-8080-exec-9] INFO  [com.yxly.controller.auth.AuthController] - 用户登录请求: account=superadmin, userType=user
2025-10-22 22:24:15.125 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录: superadmin, 登录类型: user
2025-10-22 22:24:15.196 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 密码验证结果: true
2025-10-22 22:24:15.199 [http-nio-8080-exec-9] DEBUG [com.yxly.config.MyBatisPlusConfig] - 开始更新填充...
2025-10-22 22:24:15.202 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - === 构建登录响应 ===
2025-10-22 22:24:15.202 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户ID: 28
2025-10-22 22:24:15.202 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户名: superadmin
2025-10-22 22:24:15.202 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 真实姓名: 超级管理员
2025-10-22 22:24:15.203 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色ID: 3
2025-10-22 22:24:15.203 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 角色代码: SUPER_ADMIN
2025-10-22 22:24:15.203 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 商户ID: null
2025-10-22 22:24:15.203 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - ===================
2025-10-22 22:24:15.203 [http-nio-8080-exec-9] INFO  [com.yxly.service.impl.AuthServiceImpl] - 用户登录成功: superadmin
2025-10-22 22:24:15.205 [http-nio-8080-exec-9] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:24:15.626 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/super-admin/merchants/all
2025-10-22 22:24:15.626 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:24:15.628 [http-nio-8080-exec-10] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 22:24:15.632 [http-nio-8080-exec-10] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/super-admin/merchants/all] with attributes [permitAll]
2025-10-22 22:24:15.632 [http-nio-8080-exec-10] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/super-admin/merchants/all
2025-10-22 22:24:15.634 [http-nio-8080-exec-10] INFO  [com.yxly.controller.admin.MerchantAuditController] - 查询所有商户列表, auditStatus=null
2025-10-22 22:24:15.636 [http-nio-8080-exec-10] INFO  [com.yxly.service.impl.MerchantServiceImpl] - 查询所有商户列表, auditStatus=null
2025-10-22 22:24:15.651 [http-nio-8080-exec-10] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:26:03.508 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 22:26:03.509 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:26:03.510 [http-nio-8080-exec-1] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 22:26:03.523 [http-nio-8080-exec-1] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/withdraw?current=1&size=10&username=] with attributes [permitAll]
2025-10-22 22:26:03.523 [http-nio-8080-exec-1] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/withdraw?current=1&size=10&username=
2025-10-22 22:26:03.537 [http-nio-8080-exec-1] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:26:04.218 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 22:26:04.218 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:26:04.220 [http-nio-8080-exec-3] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 22:26:04.224 [http-nio-8080-exec-3] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=] with attributes [permitAll]
2025-10-22 22:26:04.225 [http-nio-8080-exec-3] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/recharge?current=1&size=10&username=&paymentMethod=
2025-10-22 22:26:04.228 [http-nio-8080-exec-3] INFO  [com.yxly.service.impl.RechargeServiceImpl] - 分页查询充值记录: current=1, size=10, username=, status=null, paymentMethod=
2025-10-22 22:26:04.238 [http-nio-8080-exec-3] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:26:05.148 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 22:26:05.148 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:26:05.150 [http-nio-8080-exec-2] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 22:26:05.155 [http-nio-8080-exec-2] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 22:26:05.156 [http-nio-8080-exec-2] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 22:26:05.157 [http-nio-8080-exec-2] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 22:26:05.158 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 22:26:05.175 [http-nio-8080-exec-2] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 17
2025-10-22 22:26:05.176 [http-nio-8080-exec-2] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
2025-10-22 22:26:13.455 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Securing GET /v1/admin/customers?current=1&size=10
2025-10-22 22:26:13.455 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Set SecurityContextHolder to empty SecurityContext
2025-10-22 22:26:13.457 [http-nio-8080-exec-4] DEBUG [com.yxly.security.UserDetailsServiceImpl] - 加载用户信息: superadmin
2025-10-22 22:26:13.459 [http-nio-8080-exec-4] DEBUG [o.s.s.w.access.intercept.FilterSecurityInterceptor] - Authorized filter invocation [GET /v1/admin/customers?current=1&size=10] with attributes [authenticated]
2025-10-22 22:26:13.461 [http-nio-8080-exec-4] DEBUG [org.springframework.security.web.FilterChainProxy] - Secured GET /v1/admin/customers?current=1&size=10
2025-10-22 22:26:13.461 [http-nio-8080-exec-4] INFO  [com.yxly.controller.admin.CustomerController] - 管理员查询客户列表: current=1, size=10, keyword=null
2025-10-22 22:26:13.461 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 分页查询客户列表: current=1, size=10, keyword=null
2025-10-22 22:26:13.472 [http-nio-8080-exec-4] INFO  [com.yxly.service.impl.CustomerServiceImpl] - 查询到客户数量: 17
2025-10-22 22:26:13.472 [http-nio-8080-exec-4] DEBUG [o.s.s.web.context.SecurityContextPersistenceFilter] - Cleared SecurityContextHolder to complete request
