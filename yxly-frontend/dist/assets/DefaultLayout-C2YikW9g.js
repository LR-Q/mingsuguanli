/* empty css                  *//* empty css                        *//* empty css                     *//* empty css                         *//* empty css                  *//* empty css                           */import"./el-tooltip-l0sNRNKZ.js";import{ax as Y,aE as Z,aB as ee,c as p,w as te,al as k,z as l,R as o,J as e,B as h,u as B,A as r,Q as f,a6 as I,I as u,L as q,M as ae,O as b,P as x}from"./vendor-DSBWSuTS.js";import{_ as oe,u as se}from"./index-rlk3mQiZ.js";import{ae as ne,af as re,n as le,ag as de,ah as ce,j as ie,a2 as ue,a1 as me,q as _e,r as pe,t as he,u as fe,ai as be,aj as ge,a as ve}from"./elementPlus-fsp5CJhs.js";const we=Y("app",{state:()=>({sidebarCollapsed:!1,device:"desktop",theme:"light",language:"zh-CN",loading:!1,breadcrumbs:[]}),getters:{isMobile:t=>t.device==="mobile",isTablet:t=>t.device==="tablet",isDesktop:t=>t.device==="desktop"},actions:{toggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed},setSidebarCollapsed(t){this.sidebarCollapsed=t},setDevice(t){this.device=t},setTheme(t){this.theme=t},setLanguage(t){this.language=t},setLoading(t){this.loading=t},setBreadcrumbs(t){this.breadcrumbs=t}}}),Ce={class:"default-layout"},Ee={class:"logo"},ye={key:0},ke={key:1,class:"logo-collapsed"},xe={class:"header-left"},Be={class:"header-right"},Ie={class:"user-info"},Ae={class:"username"},De={__name:"DefaultLayout",setup(t){const A=Z(),D=ee(),c=we(),m=se(),R=p(()=>c.sidebarCollapsed?"64px":"200px"),S=p(()=>{var a,s;return((a=m.userInfo)==null?void 0:a.realName)||((s=m.userInfo)==null?void 0:s.username)||"用户"}),T=a=>a?a.replace(/^http:\/\/localhost:9000\/txt\//,"/txt/"):"",z=p(()=>{var a;return T(((a=m.userInfo)==null?void 0:a.avatar)||"")}),V=p(()=>{var s;const a=(s=m.userInfo)==null?void 0:s.roleCode;return D.getRoutes().filter(n=>{var g,v,w,C,E,y;return a==="SUPER_ADMIN"?((g=n.meta)==null?void 0:g.requiresAuth)&&((v=n.meta)==null?void 0:v.requiresSuperAdmin)&&!((w=n.meta)!=null&&w.hideInMenu)&&n.children:((C=n.meta)==null?void 0:C.requiresAuth)&&((E=n.meta)==null?void 0:E.requiresAdmin)&&!((y=n.meta)!=null&&y.hideInMenu)&&n.children})}),M=p(()=>A.matched.filter(s=>{var n;return(n=s.meta)==null?void 0:n.title}).map(s=>({title:s.meta.title,path:s.path}))),F=()=>{c.toggleSidebar()},j=async a=>{switch(a){case"dashboard":D.push("/admin/dashboard");break;case"logout":await P();break}},P=async()=>{try{await ve.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await m.logout()}catch(a){console.log("退出登录取消或失败:",a)}};return te(()=>A.path,()=>{c.setBreadcrumbs(M.value)},{immediate:!0}),(a,s)=>{const n=le,g=re,v=ne,w=de,C=k("Fold"),E=k("Expand"),y=ie,U=me,H=ue,J=pe,O=k("ArrowDown"),N=fe,Q=he,W=_e,$=ce,G=k("router-view"),K=be,X=ge;return r(),l("div",Ce,[o(w,{width:R.value,class:"sidebar"},{default:e(()=>[h("div",Ee,[B(c).sidebarCollapsed?(r(),l("span",ke,"悦")):(r(),l("span",ye,"悦鑫乐怡民宿"))]),o(v,{"default-active":a.$route.path,collapse:B(c).sidebarCollapsed,"unique-opened":!0,router:"",class:"sidebar-menu"},{default:e(()=>[(r(!0),l(f,null,I(V.value,d=>(r(),l(f,{key:d.path},[(r(!0),l(f,null,I(d.children,i=>{var L;return r(),l(f,{key:i.path},[(L=i.meta)!=null&&L.hideInMenu?q("",!0):(r(),u(g,{key:0,index:d.path+"/"+i.path},{title:e(()=>{var _;return[b(x((_=i.meta)==null?void 0:_.title),1)]}),default:e(()=>{var _;return[(_=i.meta)!=null&&_.icon?(r(),u(n,{key:0},{default:e(()=>[(r(),u(ae(i.meta.icon)))]),_:2},1024)):q("",!0)]}),_:2},1032,["index"]))],64)}),128))],64))),128))]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),o(X,{class:"main-container"},{default:e(()=>[o($,{class:"header"},{default:e(()=>[h("div",xe,[o(y,{type:"text",onClick:F,class:"sidebar-toggle"},{default:e(()=>[o(n,null,{default:e(()=>[B(c).sidebarCollapsed?(r(),u(E,{key:1})):(r(),u(C,{key:0}))]),_:1})]),_:1}),o(H,{separator:"/"},{default:e(()=>[(r(!0),l(f,null,I(M.value,d=>(r(),u(U,{key:d.path,to:d.path},{default:e(()=>[b(x(d.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),h("div",Be,[o(W,{onCommand:j},{dropdown:e(()=>[o(Q,null,{default:e(()=>[o(N,{command:"dashboard"},{default:e(()=>[...s[0]||(s[0]=[b("管理仪表盘",-1)])]),_:1}),o(N,{divided:"",command:"logout"},{default:e(()=>[...s[1]||(s[1]=[b("退出登录",-1)])]),_:1})]),_:1})]),default:e(()=>[h("span",Ie,[o(J,{size:32,src:z.value},{default:e(()=>[b(x(S.value),1)]),_:1},8,["src"]),h("span",Ae,x(S.value),1),o(n,null,{default:e(()=>[o(O)]),_:1})])]),_:1})])]),_:1}),o(K,{class:"content"},{default:e(()=>[o(G)]),_:1})]),_:1})])}}},je=oe(De,[["__scopeId","data-v-b6e388a3"]]);export{je as default};
