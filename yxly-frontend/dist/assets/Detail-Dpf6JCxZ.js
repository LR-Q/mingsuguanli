/* empty css                  *//* empty css                 *//* empty css                        *//* empty css                *//* empty css               *//* empty css               *//* empty css                         */import{aE as j,aB as F,r as y,j as J,z as u,B as e,R as o,J as t,O as p,u as T,I as m,L as h,P as n,A as r,Q as M,a6 as O}from"./vendor-DSBWSuTS.js";import{X as P,j as Q,Q as A,Y as G,Z as W,_ as X,a0 as Y,U as Z,n as q,T as H,R as K,E}from"./elementPlus-fsp5CJhs.js";import{g as $,b as ss}from"./room-Cn3l7vr2.js";import{_ as es}from"./index-rlk3mQiZ.js";const ts={class:"room-detail"},as={class:"page-header"},os={class:"header-left"},ls={key:0,class:"loading-container"},ns={key:1,class:"page-content"},is={class:"card-header"},rs={class:"info-item"},ds={class:"value"},cs={class:"info-item"},us={class:"value"},ps={class:"info-item"},_s={class:"value"},ms={class:"info-item"},vs={class:"value"},fs={class:"info-item"},gs={class:"value"},ys={class:"info-item"},hs={class:"value"},ws={class:"info-item"},bs={class:"value price"},ks={class:"info-item"},Ts={class:"value"},Es={class:"image-container"},xs={class:"image-slot"},Ns={class:"description-content"},Rs={class:"facilities-content"},Bs={class:"info-item"},Cs={class:"value"},Is={class:"info-item"},Ds={class:"value"},Ss={key:2,class:"no-data"},zs={__name:"Detail",setup(Us){const x=j(),N=F(),v=y(!0),a=y(null),w=y([]),R=async()=>{try{v.value=!0;const l=x.params.id;if(!l){E.error("房间ID不存在"),f();return}const s=await ss(l);if(a.value=s.data,a.value.facilities&&typeof a.value.facilities=="string")try{a.value.facilities=JSON.parse(a.value.facilities)}catch(d){console.warn("设施数据解析失败:",d),a.value.facilities=[]}}catch(l){console.error("获取房间详情失败:",l),E.error("获取房间详情失败"),a.value=null}finally{v.value=!1}},B=async()=>{try{const l=await $();w.value=l.data}catch(l){console.error("获取房型列表失败:",l)}},C=l=>{const s=w.value.find(d=>d.id===l);return s?s.typeName:"未知房型"},I=l=>["","success","warning","danger","info"][l%5]||"",D=l=>({1:"可用",2:"占用",3:"维修",4:"清洁",5:"停用"})[l]||"未知",S=l=>({1:"success",2:"warning",3:"info",4:"primary",5:"danger"})[l]||"",b=l=>l?new Date(l).toLocaleString("zh-CN"):"未知",f=()=>{N.push("/admin/rooms")};return J(()=>{B(),R()}),(l,s)=>{const d=Q,z=A,g=X,i=W,_=G,c=Y,U=q,V=Z,L=K;return r(),u("div",ts,[e("div",as,[e("div",os,[o(d,{type:"primary",icon:T(P),onClick:f,style:{"margin-right":"16px"}},{default:t(()=>[...s[0]||(s[0]=[p(" 返回 ",-1)])]),_:1},8,["icon"]),s[1]||(s[1]=e("h1",null,"房间详情",-1))])]),v.value?(r(),u("div",ls,[o(z,{rows:8,animated:""})])):a.value?(r(),u("div",ns,[o(c,{class:"info-card",shadow:"hover"},{header:t(()=>[e("div",is,[s[2]||(s[2]=e("span",{class:"card-title"},"基本信息",-1)),o(g,{type:S(a.value.status),size:"large"},{default:t(()=>[p(n(D(a.value.status)),1)]),_:1},8,["type"])])]),default:t(()=>[o(_,{gutter:24},{default:t(()=>[o(i,{span:8},{default:t(()=>[e("div",rs,[s[3]||(s[3]=e("span",{class:"label"},"房间号：",-1)),e("span",ds,n(a.value.roomNumber),1)])]),_:1}),o(i,{span:8},{default:t(()=>[e("div",cs,[s[4]||(s[4]=e("span",{class:"label"},"房型：",-1)),e("span",us,[o(g,{type:I(a.value.roomTypeId)},{default:t(()=>[p(n(C(a.value.roomTypeId)),1)]),_:1},8,["type"])])])]),_:1}),o(i,{span:8},{default:t(()=>[e("div",ps,[s[5]||(s[5]=e("span",{class:"label"},"楼层：",-1)),e("span",_s,n(a.value.floorNumber)+"楼",1)])]),_:1})]),_:1}),o(_,{gutter:24,style:{"margin-top":"20px"}},{default:t(()=>[o(i,{span:8},{default:t(()=>[e("div",ms,[s[6]||(s[6]=e("span",{class:"label"},"床型：",-1)),e("span",vs,n(a.value.bedType||"未设置"),1)])]),_:1}),o(i,{span:8},{default:t(()=>[e("div",fs,[s[7]||(s[7]=e("span",{class:"label"},"最大入住人数：",-1)),e("span",gs,n(a.value.maxGuests)+"人",1)])]),_:1}),o(i,{span:8},{default:t(()=>[e("div",ys,[s[8]||(s[8]=e("span",{class:"label"},"面积：",-1)),e("span",hs,n(a.value.area)+"m²",1)])]),_:1})]),_:1}),o(_,{gutter:24,style:{"margin-top":"20px"}},{default:t(()=>[o(i,{span:8},{default:t(()=>[e("div",ws,[s[9]||(s[9]=e("span",{class:"label"},"价格：",-1)),e("span",bs,"¥"+n(a.value.price)+"/晚",1)])]),_:1}),o(i,{span:16},{default:t(()=>[e("div",ks,[s[10]||(s[10]=e("span",{class:"label"},"WiFi密码：",-1)),e("span",Ts,n(a.value.wifiPassword||"未设置"),1)])]),_:1})]),_:1})]),_:1}),a.value.imageUrl?(r(),m(c,{key:0,class:"image-card",shadow:"hover"},{header:t(()=>[...s[11]||(s[11]=[e("span",{class:"card-title"},"房间图片",-1)])]),default:t(()=>[e("div",Es,[o(V,{src:a.value.imageUrl,"preview-src-list":[a.value.imageUrl],fit:"cover",class:"room-image"},{error:t(()=>[e("div",xs,[o(U,null,{default:t(()=>[o(T(H))]),_:1}),s[12]||(s[12]=e("span",null,"图片加载失败",-1))])]),_:1},8,["src","preview-src-list"])])]),_:1})):h("",!0),a.value.description?(r(),m(c,{key:1,class:"description-card",shadow:"hover"},{header:t(()=>[...s[13]||(s[13]=[e("span",{class:"card-title"},"房间描述",-1)])]),default:t(()=>[e("div",Ns,n(a.value.description),1)]),_:1})):h("",!0),a.value.facilities&&a.value.facilities.length>0?(r(),m(c,{key:2,class:"facilities-card",shadow:"hover"},{header:t(()=>[...s[14]||(s[14]=[e("span",{class:"card-title"},"房间设施",-1)])]),default:t(()=>[e("div",Rs,[(r(!0),u(M,null,O(a.value.facilities,k=>(r(),m(g,{key:k,type:"info",size:"large",style:{margin:"4px 8px 4px 0"}},{default:t(()=>[p(n(k),1)]),_:2},1024))),128))])]),_:1})):h("",!0),o(c,{class:"time-card",shadow:"hover"},{header:t(()=>[...s[15]||(s[15]=[e("span",{class:"card-title"},"时间信息",-1)])]),default:t(()=>[o(_,{gutter:24},{default:t(()=>[o(i,{span:12},{default:t(()=>[e("div",Bs,[s[16]||(s[16]=e("span",{class:"label"},"创建时间：",-1)),e("span",Cs,n(b(a.value.createTime)),1)])]),_:1}),o(i,{span:12},{default:t(()=>[e("div",Is,[s[17]||(s[17]=e("span",{class:"label"},"更新时间：",-1)),e("span",Ds,n(b(a.value.updateTime)),1)])]),_:1})]),_:1})]),_:1})])):(r(),u("div",Ss,[o(L,{description:"房间不存在或已被删除"},{default:t(()=>[o(d,{type:"primary",onClick:f},{default:t(()=>[...s[18]||(s[18]=[p("返回列表",-1)])]),_:1})]),_:1})]))])}}},Ws=es(zs,[["__scopeId","data-v-9190c2d8"]]);export{Ws as default};
