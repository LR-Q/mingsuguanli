/* empty css                  *//* empty css                     *//* empty css                *//* empty css                    *//* empty css                 */import{aB as V,r as g,l as E,z as x,B as a,R as o,J as t,O as u,a4 as T,A as B}from"./vendor-DSBWSuTS.js";import{_ as I,u as M,l as R}from"./index-rlk3mQiZ.js";import{d as C,e as F,f as L,j as U,h as A,k as $,E as _}from"./elementPlus-fsp5CJhs.js";const h={class:"admin-login-container"},z={class:"admin-login-form"},N={class:"user-login-link"},q={__name:"AdminLogin",setup(K){const k=V(),i=M(),d=g(),m=g(!1),s=E({account:"",password:"",rememberMe:!1}),y={account:[{required:!0,message:"请输入管理员账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},p=async()=>{if(d.value)try{await d.value.validate(),m.value=!0;const r=await R({account:s.account,password:s.password,rememberMe:s.rememberMe,userType:"admin"});if(r.data){i.setToken(r.data.accessToken),i.setRefreshToken(r.data.refreshToken);const e={...r.data.userInfo,userType:"admin"};i.setUserInfo(e),_.success("管理员登录成功"),k.push("/admin")}}catch(r){console.error("管理员登录失败:",r),_.error(r.message||"管理员登录失败")}finally{m.value=!1}};return(r,e)=>{const f=F,l=C,w=L,v=U,c=A,b=$;return B(),x("div",h,[a("div",z,[e[10]||(e[10]=a("div",{class:"admin-header"},[a("h2",null,"悦鑫乐怡民宿管理系统"),a("p",{class:"admin-subtitle"},"管理员登录")],-1)),o(b,{ref_key:"loginFormRef",ref:d,model:s,rules:y,size:"large",onKeyup:T(p,["enter"])},{default:t(()=>[o(l,{prop:"account"},{default:t(()=>[o(f,{modelValue:s.account,"onUpdate:modelValue":e[0]||(e[0]=n=>s.account=n),placeholder:"请输入管理员账号","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(l,{prop:"password"},{default:t(()=>[o(f,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=n=>s.password=n),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),o(l,null,{default:t(()=>[o(w,{modelValue:s.rememberMe,"onUpdate:modelValue":e[2]||(e[2]=n=>s.rememberMe=n)},{default:t(()=>[...e[5]||(e[5]=[u(" 记住我 ",-1)])]),_:1},8,["modelValue"])]),_:1}),o(l,null,{default:t(()=>[o(v,{type:"primary",size:"large",style:{width:"100%"},loading:m.value,onClick:p},{default:t(()=>[...e[6]||(e[6]=[u(" 管理员登录 ",-1)])]),_:1},8,["loading"])]),_:1}),o(l,null,{default:t(()=>[a("div",N,[o(c,{type:"primary",onClick:e[3]||(e[3]=n=>r.$router.push("/login"))},{default:t(()=>[...e[7]||(e[7]=[u(" 普通用户登录 ",-1)])]),_:1}),e[9]||(e[9]=u(" | ",-1)),o(c,{type:"primary",onClick:e[4]||(e[4]=n=>r.$router.push("/home"))},{default:t(()=>[...e[8]||(e[8]=[u(" 返回首页 ",-1)])]),_:1})])]),_:1})]),_:1},8,["model"])])])}}},Q=I(q,[["__scopeId","data-v-218ef447"]]);export{Q as default};
