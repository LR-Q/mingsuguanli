/* empty css                  *//* empty css                       *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                */import{_ as k,u as D}from"./index-rlk3mQiZ.js";import{_ as M,j as z,a0 as I,ad as _,L as A,K as j,D as H,a3 as L,a as y,E as i}from"./elementPlus-fsp5CJhs.js";import{l as V,j as O,z as Y,R as s,J as l,B as e,P as T,O as m,A as G}from"./vendor-DSBWSuTS.js";const J={class:"settings-page"},K={class:"settings-section"},W={class:"setting-item"},q={class:"setting-info"},F={class:"setting-item"},Q={class:"settings-section"},X={class:"setting-item"},Z={class:"setting-item"},tt={class:"setting-item"},et={class:"settings-section"},st={class:"setting-item"},nt={class:"setting-item"},ot={class:"setting-item"},lt={class:"setting-item"},it={class:"settings-section"},at={class:"setting-item"},rt={class:"setting-item"},ut={class:"setting-item"},dt={class:"setting-item"},mt={class:"settings-section"},gt={class:"setting-item"},pt={class:"setting-item"},ft={class:"setting-item"},vt={__name:"Settings",setup(ct){const b=D(),f=V({status:1}),d=V({profilePublic:!0,showRealName:!1,receiveRecommendations:!0}),r=V({emailNotification:!0,smsNotification:!0,pushNotification:!1,marketingNotification:!1}),u=V({language:"zh-CN",currency:"CNY",theme:"light",roomPreferences:["sea-view","luxury-suite"]}),N=async o=>{try{await new Promise(t=>setTimeout(t,500)),i.success("设置已更新")}catch(t){console.error("更新设置失败:",t),i.error("设置更新失败"),d[o]=!d[o]}},v=async o=>{try{await new Promise(t=>setTimeout(t,500)),i.success("设置已更新")}catch(t){console.error("更新设置失败:",t),i.error("设置更新失败"),r[o]=!r[o]}},c=async o=>{try{await new Promise(t=>setTimeout(t,500)),i.success("设置已更新"),o==="theme"&&P(u.theme)}catch(t){console.error("更新设置失败:",t),i.error("设置更新失败")}},P=o=>{console.log("应用主题:",o)},S=async()=>{try{await y.confirm("注销账户后，您的所有数据将被永久删除且无法恢复。确定要继续吗？","注销账户",{confirmButtonText:"确定注销",cancelButtonText:"取消",type:"error",dangerouslyUseHTMLString:!0}),await y.prompt('请输入 "确认注销" 来确认此操作',"最终确认",{confirmButtonText:"注销账户",cancelButtonText:"取消",inputPattern:/^确认注销$/,inputErrorMessage:'请输入 "确认注销"'}),await new Promise(o=>setTimeout(o,2e3)),i.success("账户已注销"),await b.logout()}catch{}},E=async()=>{try{i.info("正在准备导出数据..."),await new Promise(t=>setTimeout(t,2e3));const o=document.createElement("a");o.href="data:text/plain;charset=utf-8,"+encodeURIComponent("用户数据导出文件"),o.download=`user_data_${new Date().getTime()}.txt`,o.click(),i.success("数据导出成功")}catch{i.error("数据导出失败")}},U=async()=>{try{if(await y.confirm("确定要清除本地缓存吗？","清除缓存",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),localStorage.clear(),sessionStorage.clear(),"caches"in window){const o=await caches.keys();await Promise.all(o.map(t=>caches.delete(t)))}i.success("缓存已清除")}catch{}},h=async()=>{try{await y.confirm("确定要删除浏览记录吗？","删除记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await new Promise(o=>setTimeout(o,1e3)),i.success("浏览记录已删除")}catch{}},B=()=>{const o=b.userInfo;o&&(f.status=o.status||1)};return O(()=>{B()}),(o,t)=>{const $=M,w=z,p=I,g=_,a=j,C=A,x=L,R=H;return G(),Y("div",J,[s(p,{class:"settings-card",shadow:"never"},{header:l(()=>[...t[22]||(t[22]=[e("h3",null,"账户设置",-1)])]),default:l(()=>[e("div",K,[e("div",W,[e("div",q,[t[23]||(t[23]=e("h4",null,"账户状态",-1)),e("p",null,"当前账户状态："+T(f.status===1?"正常":"已禁用"),1)]),s($,{type:f.status===1?"success":"danger"},{default:l(()=>[m(T(f.status===1?"正常":"已禁用"),1)]),_:1},8,["type"])]),e("div",F,[t[25]||(t[25]=e("div",{class:"setting-info"},[e("h4",null,"账户注销"),e("p",null,"注销后将无法恢复，请谨慎操作")],-1)),s(w,{type:"danger",plain:"",onClick:S},{default:l(()=>[...t[24]||(t[24]=[m(" 注销账户 ",-1)])]),_:1})])])]),_:1}),s(p,{class:"settings-card",shadow:"never"},{header:l(()=>[...t[26]||(t[26]=[e("h3",null,"隐私设置",-1)])]),default:l(()=>[e("div",Q,[e("div",X,[t[27]||(t[27]=e("div",{class:"setting-info"},[e("h4",null,"个人信息公开"),e("p",null,"是否允许其他用户查看您的个人信息")],-1)),s(g,{modelValue:d.profilePublic,"onUpdate:modelValue":t[0]||(t[0]=n=>d.profilePublic=n),onChange:t[1]||(t[1]=n=>N("profilePublic"))},null,8,["modelValue"])]),e("div",Z,[t[28]||(t[28]=e("div",{class:"setting-info"},[e("h4",null,"显示真实姓名"),e("p",null,"在评价和互动中是否显示真实姓名")],-1)),s(g,{modelValue:d.showRealName,"onUpdate:modelValue":t[2]||(t[2]=n=>d.showRealName=n),onChange:t[3]||(t[3]=n=>N("showRealName"))},null,8,["modelValue"])]),e("div",tt,[t[29]||(t[29]=e("div",{class:"setting-info"},[e("h4",null,"接收推荐"),e("p",null,"是否接收个性化房间推荐")],-1)),s(g,{modelValue:d.receiveRecommendations,"onUpdate:modelValue":t[4]||(t[4]=n=>d.receiveRecommendations=n),onChange:t[5]||(t[5]=n=>N("receiveRecommendations"))},null,8,["modelValue"])])])]),_:1}),s(p,{class:"settings-card",shadow:"never"},{header:l(()=>[...t[30]||(t[30]=[e("h3",null,"通知设置",-1)])]),default:l(()=>[e("div",et,[e("div",st,[t[31]||(t[31]=e("div",{class:"setting-info"},[e("h4",null,"邮件通知"),e("p",null,"接收订单状态、优惠活动等邮件通知")],-1)),s(g,{modelValue:r.emailNotification,"onUpdate:modelValue":t[6]||(t[6]=n=>r.emailNotification=n),onChange:t[7]||(t[7]=n=>v("emailNotification"))},null,8,["modelValue"])]),e("div",nt,[t[32]||(t[32]=e("div",{class:"setting-info"},[e("h4",null,"短信通知"),e("p",null,"接收订单确认、入住提醒等短信通知")],-1)),s(g,{modelValue:r.smsNotification,"onUpdate:modelValue":t[8]||(t[8]=n=>r.smsNotification=n),onChange:t[9]||(t[9]=n=>v("smsNotification"))},null,8,["modelValue"])]),e("div",ot,[t[33]||(t[33]=e("div",{class:"setting-info"},[e("h4",null,"推送通知"),e("p",null,"接收浏览器推送通知")],-1)),s(g,{modelValue:r.pushNotification,"onUpdate:modelValue":t[10]||(t[10]=n=>r.pushNotification=n),onChange:t[11]||(t[11]=n=>v("pushNotification"))},null,8,["modelValue"])]),e("div",lt,[t[34]||(t[34]=e("div",{class:"setting-info"},[e("h4",null,"营销信息"),e("p",null,"接收优惠活动、新房源等营销信息")],-1)),s(g,{modelValue:r.marketingNotification,"onUpdate:modelValue":t[12]||(t[12]=n=>r.marketingNotification=n),onChange:t[13]||(t[13]=n=>v("marketingNotification"))},null,8,["modelValue"])])])]),_:1}),s(p,{class:"settings-card",shadow:"never"},{header:l(()=>[...t[35]||(t[35]=[e("h3",null,"偏好设置",-1)])]),default:l(()=>[e("div",it,[e("div",at,[t[36]||(t[36]=e("div",{class:"setting-info"},[e("h4",null,"语言设置"),e("p",null,"选择您的首选语言")],-1)),s(C,{modelValue:u.language,"onUpdate:modelValue":t[14]||(t[14]=n=>u.language=n),style:{width:"120px"},onChange:t[15]||(t[15]=n=>c("language"))},{default:l(()=>[s(a,{label:"简体中文",value:"zh-CN"}),s(a,{label:"繁體中文",value:"zh-TW"}),s(a,{label:"English",value:"en-US"})]),_:1},8,["modelValue"])]),e("div",rt,[t[37]||(t[37]=e("div",{class:"setting-info"},[e("h4",null,"货币单位"),e("p",null,"选择您的首选货币")],-1)),s(C,{modelValue:u.currency,"onUpdate:modelValue":t[16]||(t[16]=n=>u.currency=n),style:{width:"120px"},onChange:t[17]||(t[17]=n=>c("currency"))},{default:l(()=>[s(a,{label:"人民币 (¥)",value:"CNY"}),s(a,{label:"美元 ($)",value:"USD"}),s(a,{label:"欧元 (€)",value:"EUR"})]),_:1},8,["modelValue"])]),e("div",ut,[t[41]||(t[41]=e("div",{class:"setting-info"},[e("h4",null,"主题模式"),e("p",null,"选择您喜欢的界面主题")],-1)),s(R,{modelValue:u.theme,"onUpdate:modelValue":t[18]||(t[18]=n=>u.theme=n),onChange:t[19]||(t[19]=n=>c("theme"))},{default:l(()=>[s(x,{label:"light"},{default:l(()=>[...t[38]||(t[38]=[m("浅色",-1)])]),_:1}),s(x,{label:"dark"},{default:l(()=>[...t[39]||(t[39]=[m("深色",-1)])]),_:1}),s(x,{label:"auto"},{default:l(()=>[...t[40]||(t[40]=[m("跟随系统",-1)])]),_:1})]),_:1},8,["modelValue"])]),e("div",dt,[t[42]||(t[42]=e("div",{class:"setting-info"},[e("h4",null,"房间偏好"),e("p",null,"设置您的房间类型偏好")],-1)),s(C,{modelValue:u.roomPreferences,"onUpdate:modelValue":t[20]||(t[20]=n=>u.roomPreferences=n),multiple:"",placeholder:"选择偏好的房间类型",style:{width:"200px"},onChange:t[21]||(t[21]=n=>c("roomPreferences"))},{default:l(()=>[s(a,{label:"海景房",value:"sea-view"}),s(a,{label:"山景房",value:"mountain-view"}),s(a,{label:"豪华套房",value:"luxury-suite"}),s(a,{label:"商务房",value:"business-room"}),s(a,{label:"经济房",value:"economy-room"})]),_:1},8,["modelValue"])])])]),_:1}),s(p,{class:"settings-card",shadow:"never"},{header:l(()=>[...t[43]||(t[43]=[e("h3",null,"数据管理",-1)])]),default:l(()=>[e("div",mt,[e("div",gt,[t[45]||(t[45]=e("div",{class:"setting-info"},[e("h4",null,"导出数据"),e("p",null,"导出您的个人数据和订单记录")],-1)),s(w,{onClick:E},{default:l(()=>[...t[44]||(t[44]=[m(" 导出数据 ",-1)])]),_:1})]),e("div",pt,[t[47]||(t[47]=e("div",{class:"setting-info"},[e("h4",null,"清除缓存"),e("p",null,"清除本地缓存数据，提升应用性能")],-1)),s(w,{onClick:U},{default:l(()=>[...t[46]||(t[46]=[m(" 清除缓存 ",-1)])]),_:1})]),e("div",ft,[t[49]||(t[49]=e("div",{class:"setting-info"},[e("h4",null,"删除浏览记录"),e("p",null,"删除您的房间浏览记录")],-1)),s(w,{type:"warning",plain:"",onClick:h},{default:l(()=>[...t[48]||(t[48]=[m(" 删除记录 ",-1)])]),_:1})])])]),_:1})])}}},Et=k(vt,[["__scopeId","data-v-067dc4f6"]]);export{Et as default};
