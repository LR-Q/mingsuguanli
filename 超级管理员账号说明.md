# 超级管理员账号说明

## 🎯 方案选择

由于你已有 `admin` 账号，提供两种方案：

---

## **方案一：创建新的超级管理员（推荐）** ✅

创建一个新的超级管理员账号，不影响现有的 `admin` 账号。

### 执行脚本
```bash
cd yxly-backend
mysql -u root -p123456 < create_super_admin_new.sql
```

### 新账号信息
- **用户名**：`superadmin`
- **密码**：`super123`
- **角色**：`SUPER_ADMIN`（超级管理员）

### 原admin账号
- 保持不变，继续使用原有角色和权限

---

## **方案二：手动升级admin为超级管理员**

如果你希望将现有的 `admin` 账号升级为超级管理员：

### 执行SQL
```sql
USE yxly_dev;

-- 查看admin当前角色
SELECT u.username, r.role_name, r.role_code 
FROM sys_user u 
LEFT JOIN sys_role r ON u.role_id = r.id 
WHERE u.username = 'admin' AND u.deleted = 0;

-- 升级admin为超级管理员
UPDATE sys_user 
SET role_id = (SELECT id FROM sys_role WHERE role_code = 'SUPER_ADMIN' LIMIT 1)
WHERE username = 'admin' AND deleted = 0;

-- 验证结果
SELECT u.username, r.role_name, r.role_code 
FROM sys_user u 
LEFT JOIN sys_role r ON u.role_id = r.id 
WHERE u.username = 'admin' AND u.deleted = 0;
```

---

## 📝 登录测试

### 使用新账号登录（方案一）
```
访问：http://localhost:3000/login
用户名：superadmin
密码：super123
```

### 使用原admin登录（方案二）
```
访问：http://localhost:3000/login
用户名：admin
密码：你的admin原密码
```

---

## 🔍 角色权限说明

| 角色代码 | 角色名称 | 权限 |
|---------|---------|------|
| SUPER_ADMIN | 超级管理员 | 商户审核、平台管理 |
| HOMESTAY_ADMIN | 民宿主管理员 | 管理自己的民宿 |
| ADMIN | 管理员 | 原有管理员权限 |
| USER | 普通用户 | 浏览、预订房间 |

---

## ⚠️ 重要提示

1. **方案一**：推荐使用，不影响现有系统
2. **方案二**：会修改admin的角色，请确认后再执行
3. 登录后系统会根据 `roleCode` 自动跳转：
   - `SUPER_ADMIN` → `/super-admin/merchants`
   - `HOMESTAY_ADMIN` → `/merchant/dashboard`
   - 其他角色 → `/home` 或 `/admin`

---

## 🎉 推荐使用方案一

执行以下命令创建新的超级管理员账号：

```bash
cd yxly-backend
mysql -u root -p123456 < create_super_admin_new.sql
```

然后使用 `superadmin` / `super123` 登录测试商户审核功能！
