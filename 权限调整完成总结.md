# æƒé™è°ƒæ•´å®Œæˆæ€»ç»“ âœ…

## ğŸ‰ æ‰€æœ‰å·¥ä½œå·²å®Œæˆï¼

### âœ… åç«¯å·²å®Œæˆ

#### 1. è¶…çº§ç®¡ç†å‘˜æ§åˆ¶å™¨
- **RechargeManagementController.java**
  - è·¯å¾„: `controller/superadmin/RechargeManagementController.java`
  - è·¯ç”±: `/v1/super-admin/recharge`
  - åŠŸèƒ½: æŸ¥çœ‹æ‰€æœ‰å……å€¼è®°å½•ã€å®¡æ ¸å……å€¼

- **WithdrawManagementController.java**
  - è·¯å¾„: `controller/superadmin/WithdrawManagementController.java`
  - è·¯ç”±: `/v1/super-admin/withdraw`
  - åŠŸèƒ½: æŸ¥çœ‹æ‰€æœ‰æç°è®°å½•ã€å®¡æ ¸æç°

#### 2. æ°‘å®¿ä¸»æç°ç”³è¯·æ§åˆ¶å™¨
- **WithdrawApplyController.java**
  - è·¯å¾„: `controller/merchant/WithdrawApplyController.java`
  - è·¯ç”±: `/v1/merchant/withdraw`
  - åŠŸèƒ½: 
    - æŸ¥çœ‹è‡ªå·±çš„æç°è®°å½•
    - ç”³è¯·æç°
    - å–æ¶ˆå¾…å®¡æ ¸çš„æç°ç”³è¯·

#### 3. Service å±‚æ‰©å±•
- **WithdrawService** æ–°å¢æ–¹æ³•:
  - `getMyWithdrawRecords()` - æŸ¥è¯¢è‡ªå·±çš„æç°è®°å½•
  - `cancelWithdraw()` - å–æ¶ˆæç°ç”³è¯·
  - `getMyWithdrawRecordById()` - æŸ¥çœ‹è‡ªå·±çš„æç°è¯¦æƒ…

### âœ… å‰ç«¯å·²å®Œæˆ

#### 1. API æ¥å£æ–‡ä»¶
- âœ… **superAdmin.js** (å·²æ›´æ–°)
  - æ·»åŠ å……å€¼ç®¡ç†æ¥å£ (3ä¸ª)
  - æ·»åŠ æç°ç®¡ç†æ¥å£ (3ä¸ª)

- âœ… **merchantWithdraw.js** (æ–°å»º)
  - æç°ç”³è¯·æ¥å£ (4ä¸ª)

#### 2. è¶…çº§ç®¡ç†å‘˜é¡µé¢
- âœ… **RechargeManagement.vue** (æ–°å»º)
  - è·¯å¾„: `pages/super-admin/RechargeManagement.vue`
  - è·¯ç”±: `/super-admin/recharge`

- âœ… **WithdrawManagement.vue** (æ–°å»º)
  - è·¯å¾„: `pages/super-admin/WithdrawManagement.vue`
  - è·¯ç”±: `/super-admin/withdraw`

#### 3. æ°‘å®¿ä¸»é¡µé¢
- âœ… **WithdrawApply.vue** (æ–°å»º)
  - è·¯å¾„: `pages/merchant/WithdrawApply.vue`
  - è·¯ç”±: `/admin/withdraw-apply`

#### 4. è·¯ç”±é…ç½®
- âœ… **router/index.js** (å·²æ›´æ–°)
  - è¶…çº§ç®¡ç†å‘˜æ·»åŠ : å……å€¼ç®¡ç†ã€æç°ç®¡ç†
  - æ°‘å®¿ä¸»ä¿®æ”¹: æç°ç®¡ç† â†’ æç°ç”³è¯·
  - æ°‘å®¿ä¸»ç§»é™¤: å……å€¼ç®¡ç†

---

## ğŸ“‹ æƒé™æ¶æ„

### è¶…çº§ç®¡ç†å‘˜ (SUPER_ADMIN)
å¯ä»¥è®¿é—®ï¼š
- âœ… å•†æˆ·å®¡æ ¸ç®¡ç† (`/super-admin/merchants`)
- âœ… å……å€¼ç®¡ç† (`/super-admin/recharge`) - **æ–°å¢**
- âœ… æç°ç®¡ç† (`/super-admin/withdraw`) - **æ–°å¢**
- âœ… å•†æˆ·å¯†ç é‡ç½®

### æ°‘å®¿ä¸» (HOMESTAY_ADMIN)
å¯ä»¥è®¿é—®ï¼š
- âœ… å®¢æˆ·ç®¡ç† (`/admin/customers`)
- âœ… æˆ¿é—´ç®¡ç† (`/admin/rooms`)
- âœ… è®¢å•ç®¡ç† (`/admin/bookings`)
- âœ… ä½ç½®ç®¡ç† (`/admin/location`)
- âœ… æç°ç”³è¯· (`/admin/withdraw-apply`) - **ä¿®æ”¹**
- âŒ å……å€¼ç®¡ç† - **å·²ç§»é™¤**
- âŒ æç°å®¡æ ¸ - **æ— æƒé™**

---

## ğŸ—‘ï¸ éœ€è¦åˆ é™¤çš„æ—§æ–‡ä»¶

### æ°‘å®¿ä¸»ç«¯çš„æ—§æ–‡ä»¶ï¼ˆéœ€è¦æ‰‹åŠ¨åˆ é™¤ï¼‰

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd yxly-frontend/src/pages/admin

# åˆ é™¤æ—§çš„å……å€¼å’Œæç°ç®¡ç†é¡µé¢
rm RechargeManagement.vue
rm WithdrawManagement.vue
```

æˆ–è€…æ‚¨å¯ä»¥åœ¨ VS Code ä¸­æ‰‹åŠ¨åˆ é™¤è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼š
- `src/pages/admin/RechargeManagement.vue`
- `src/pages/admin/WithdrawManagement.vue`

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. é‡å¯æœåŠ¡

**åç«¯ï¼š**
```bash
cd yxly-backend
mvn spring-boot:run
```

**å‰ç«¯ï¼š**
```bash
cd yxly-frontend
npm run dev
```

### 2. è¶…çº§ç®¡ç†å‘˜æµ‹è¯•

**ç™»å½•è¶…çº§ç®¡ç†å‘˜è´¦å·**

æµ‹è¯•é¡¹ç›®ï¼š
- [ ] è®¿é—® `http://localhost:3000/#/super-admin/merchants` (å•†æˆ·ç®¡ç†)
- [ ] è®¿é—® `http://localhost:3000/#/super-admin/recharge` (å……å€¼ç®¡ç†)
- [ ] è®¿é—® `http://localhost:3000/#/super-admin/withdraw` (æç°ç®¡ç†)
- [ ] æŸ¥çœ‹æ‰€æœ‰å•†æˆ·çš„å……å€¼è®°å½•
- [ ] å®¡æ ¸å……å€¼ç”³è¯·ï¼ˆé€šè¿‡/æ‹’ç»ï¼‰
- [ ] æŸ¥çœ‹æ‰€æœ‰å•†æˆ·çš„æç°è®°å½•
- [ ] å®¡æ ¸æç°ç”³è¯·ï¼ˆé€šè¿‡/æ‹’ç»ï¼‰
- [ ] èœå•æ æ˜¾ç¤º"å……å€¼ç®¡ç†"å’Œ"æç°ç®¡ç†"

### 3. æ°‘å®¿ä¸»æµ‹è¯•

**ç™»å½•æ°‘å®¿ä¸»è´¦å·ï¼ˆå¦‚ XYY æˆ–å°ç°ç°ï¼‰**

æµ‹è¯•é¡¹ç›®ï¼š
- [ ] è®¿é—® `http://localhost:3000/#/admin/withdraw-apply` (æç°ç”³è¯·)
- [ ] èƒ½ç”³è¯·æç°
- [ ] èƒ½æŸ¥çœ‹è‡ªå·±çš„æç°è®°å½•
- [ ] åªèƒ½çœ‹åˆ°è‡ªå·±çš„æç°è®°å½•ï¼ˆä¸èƒ½çœ‹åˆ°å…¶ä»–å•†æˆ·çš„ï¼‰
- [ ] èƒ½å–æ¶ˆå¾…å®¡æ ¸çš„æç°ç”³è¯·
- [ ] æ— æ³•è®¿é—® `/super-admin/recharge` (åº”è·³è½¬æˆ–æç¤ºæ— æƒé™)
- [ ] æ— æ³•è®¿é—® `/super-admin/withdraw` (åº”è·³è½¬æˆ–æç¤ºæ— æƒé™)
- [ ] èœå•æ æ˜¾ç¤º"æç°ç”³è¯·"
- [ ] èœå•æ ä¸æ˜¾ç¤º"å……å€¼ç®¡ç†"

### 4. æ•°æ®éš”ç¦»æµ‹è¯•

**æµ‹è¯•æ•°æ®éš”ç¦»ï¼š**
- [ ] ç”¨ XYY è´¦å·ç™»å½•ï¼Œç”³è¯·æç°ï¼Œè®°å½• ID
- [ ] ç”¨å°ç°ç°è´¦å·ç™»å½•ï¼ŒæŸ¥çœ‹æç°è®°å½•
- [ ] ç¡®è®¤å°ç°ç°çœ‹ä¸åˆ° XYY çš„æç°è®°å½•
- [ ] ç”¨è¶…çº§ç®¡ç†å‘˜ç™»å½•
- [ ] ç¡®è®¤è¶…çº§ç®¡ç†å‘˜èƒ½çœ‹åˆ°æ‰€æœ‰æç°è®°å½•ï¼ˆåŒ…æ‹¬ XYY å’Œå°ç°ç°çš„ï¼‰

---

## ğŸ“Š API è·¯ç”±å¯¹ç…§è¡¨

### è¶…çº§ç®¡ç†å‘˜æ¥å£

| åŠŸèƒ½ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| è·å–å……å€¼è®°å½• | GET | `/v1/super-admin/recharge` | æŸ¥çœ‹æ‰€æœ‰å•†æˆ·å……å€¼ |
| è·å–å……å€¼è¯¦æƒ… | GET | `/v1/super-admin/recharge/{id}` | æŸ¥çœ‹å……å€¼è¯¦æƒ… |
| å®¡æ ¸å……å€¼ | POST | `/v1/super-admin/recharge/audit` | å®¡æ ¸å……å€¼ç”³è¯· |
| è·å–æç°è®°å½• | GET | `/v1/super-admin/withdraw` | æŸ¥çœ‹æ‰€æœ‰å•†æˆ·æç° |
| è·å–æç°è¯¦æƒ… | GET | `/v1/super-admin/withdraw/{id}` | æŸ¥çœ‹æç°è¯¦æƒ… |
| å®¡æ ¸æç° | POST | `/v1/super-admin/withdraw/audit` | å®¡æ ¸æç°ç”³è¯· |

### æ°‘å®¿ä¸»æ¥å£

| åŠŸèƒ½ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| æŸ¥çœ‹è‡ªå·±çš„æç° | GET | `/v1/merchant/withdraw/my-records` | ä»…è‡ªå·±çš„è®°å½• |
| ç”³è¯·æç° | POST | `/v1/merchant/withdraw/apply` | æäº¤æç°ç”³è¯· |
| å–æ¶ˆæç° | POST | `/v1/merchant/withdraw/cancel/{id}` | å–æ¶ˆå¾…å®¡æ ¸ç”³è¯· |
| è·å–æç°è¯¦æƒ… | GET | `/v1/merchant/withdraw/{id}` | æŸ¥çœ‹è‡ªå·±çš„æç°è¯¦æƒ… |

---

## ğŸ¯ é¡µé¢è®¿é—®è·¯å¾„

### è¶…çº§ç®¡ç†å‘˜é¡µé¢

| é¡µé¢ | è·¯å¾„ | ç»„ä»¶ |
|------|------|------|
| å•†æˆ·ç®¡ç† | `/super-admin/merchants` | MerchantAudit.vue |
| å……å€¼ç®¡ç† | `/super-admin/recharge` | RechargeManagement.vue |
| æç°ç®¡ç† | `/super-admin/withdraw` | WithdrawManagement.vue |

### æ°‘å®¿ä¸»é¡µé¢

| é¡µé¢ | è·¯å¾„ | ç»„ä»¶ |
|------|------|------|
| å®¢æˆ·ç®¡ç† | `/admin/customers` | CustomerManagement.vue |
| æˆ¿é—´ç®¡ç† | `/admin/rooms` | RoomList.vue |
| è®¢å•ç®¡ç† | `/admin/bookings` | BookingList.vue |
| æç°ç”³è¯· | `/admin/withdraw-apply` | WithdrawApply.vue |
| ä½ç½®ç®¡ç† | `/admin/location` | LocationManagement.vue |

---

## ğŸ’¡ åŠŸèƒ½äº®ç‚¹

### 1. æƒé™å®Œå…¨éš”ç¦»
- è¶…çº§ç®¡ç†å‘˜åªèƒ½å®¡æ ¸ï¼Œä¸èƒ½ç”³è¯·
- æ°‘å®¿ä¸»åªèƒ½ç”³è¯·ï¼Œä¸èƒ½å®¡æ ¸
- æ°‘å®¿ä¸»åªèƒ½çœ‹åˆ°è‡ªå·±çš„æ•°æ®

### 2. å‰åç«¯åŒé‡éªŒè¯
- **å‰ç«¯**: è·¯ç”±å®ˆå« + æŒ‰é’®éšè—
- **åç«¯**: æƒé™éªŒè¯ + æ•°æ®è¿‡æ»¤

### 3. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- æ°‘å®¿ä¸»å¯ä»¥éšæ—¶å–æ¶ˆå¾…å®¡æ ¸çš„æç°ç”³è¯·
- è¶…çº§ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å•†æˆ·çš„å……å€¼å’Œæç°è®°å½•
- å®¡æ ¸é€šè¿‡åè‡ªåŠ¨æ‰£é™¤ä½™é¢

### 4. æ•°æ®å®‰å…¨
- æ°‘å®¿ä¸»æ— æ³•è®¿é—®å…¶ä»–å•†æˆ·çš„æ•°æ®
- æƒé™éªŒè¯åœ¨åç«¯ä¸¥æ ¼æ‰§è¡Œ
- API è·¯å¾„å®Œå…¨åˆ†ç¦»

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
yxly-backend/
â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ superadmin/
â”‚   â”‚   â”œâ”€â”€ RechargeManagementController.java âœ¨æ–°å¢
â”‚   â”‚   â””â”€â”€ WithdrawManagementController.java âœ¨æ–°å¢
â”‚   â””â”€â”€ merchant/
â”‚       â””â”€â”€ WithdrawApplyController.java âœ¨æ–°å¢
â””â”€â”€ service/
    â””â”€â”€ impl/
        â””â”€â”€ WithdrawServiceImpl.java âœ…å·²æ›´æ–°

yxly-frontend/
â”œâ”€â”€ api/modules/
â”‚   â”œâ”€â”€ superAdmin.js âœ…å·²æ›´æ–°
â”‚   â””â”€â”€ merchantWithdraw.js âœ¨æ–°å¢
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ super-admin/
â”‚   â”‚   â”œâ”€â”€ MerchantAudit.vue
â”‚   â”‚   â”œâ”€â”€ RechargeManagement.vue âœ¨æ–°å¢
â”‚   â”‚   â””â”€â”€ WithdrawManagement.vue âœ¨æ–°å¢
â”‚   â”œâ”€â”€ merchant/
â”‚   â”‚   â””â”€â”€ WithdrawApply.vue âœ¨æ–°å¢
â”‚   â””â”€â”€ admin/
â”‚       â”œâ”€â”€ RechargeManagement.vue âŒéœ€åˆ é™¤
â”‚       â””â”€â”€ WithdrawManagement.vue âŒéœ€åˆ é™¤
â””â”€â”€ router/
    â””â”€â”€ index.js âœ…å·²æ›´æ–°
```

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

### åç«¯
- [x] åˆ›å»ºè¶…çº§ç®¡ç†å‘˜å……å€¼ç®¡ç†æ§åˆ¶å™¨
- [x] åˆ›å»ºè¶…çº§ç®¡ç†å‘˜æç°ç®¡ç†æ§åˆ¶å™¨
- [x] åˆ›å»ºæ°‘å®¿ä¸»æç°ç”³è¯·æ§åˆ¶å™¨
- [x] æ‰©å±• WithdrawService æœåŠ¡å±‚
- [x] æ·»åŠ æƒé™éªŒè¯é€»è¾‘

### å‰ç«¯
- [x] æ›´æ–° superAdmin.js API æ¥å£
- [x] åˆ›å»º merchantWithdraw.js API æ¥å£
- [x] åˆ›å»ºè¶…çº§ç®¡ç†å‘˜å……å€¼ç®¡ç†é¡µé¢
- [x] åˆ›å»ºè¶…çº§ç®¡ç†å‘˜æç°ç®¡ç†é¡µé¢
- [x] åˆ›å»ºæ°‘å®¿ä¸»æç°ç”³è¯·é¡µé¢
- [x] æ›´æ–°è·¯ç”±é…ç½®
- [ ] åˆ é™¤æ—§çš„å……å€¼å’Œæç°ç®¡ç†é¡µé¢ âš ï¸**éœ€æ‰‹åŠ¨æ“ä½œ**

### æµ‹è¯•
- [ ] è¶…çº§ç®¡ç†å‘˜åŠŸèƒ½æµ‹è¯•
- [ ] æ°‘å®¿ä¸»åŠŸèƒ½æµ‹è¯•
- [ ] æ•°æ®éš”ç¦»æµ‹è¯•
- [ ] æƒé™éªŒè¯æµ‹è¯•

---

## ğŸŠ æ­å–œï¼

æ‰€æœ‰å¼€å‘å·¥ä½œå·²å®Œæˆï¼ç°åœ¨åªéœ€è¦ï¼š

1. **åˆ é™¤æ—§æ–‡ä»¶**ï¼ˆ2ä¸ªæ–‡ä»¶ï¼‰
2. **é‡å¯æœåŠ¡**
3. **æµ‹è¯•åŠŸèƒ½**

é¢„è®¡å®Œæˆæ—¶é—´ï¼š5åˆ†é’Ÿ

ç¥æ‚¨æµ‹è¯•é¡ºåˆ©ï¼ğŸš€
