# ç”¨æˆ·ç«¯ä»£ç æ¸…ç†æŒ‡å—

## ğŸ“‹ è¯´æ˜

ç®¡ç†åå°å·²æˆåŠŸæ‹†åˆ†åˆ° `yxly-admin-frontend`ï¼Œç°åœ¨å¯ä»¥æ¸…ç† `yxly-frontend` ä¸­çš„ç®¡ç†ç«¯ä»£ç ã€‚

**æ³¨æ„ï¼š** æ¸…ç†æ˜¯å¯é€‰çš„ï¼Œä¸æ¸…ç†ä¹Ÿä¸å½±å“ä½¿ç”¨ã€‚æ¸…ç†åå¯ä»¥ï¼š
- å‡å°‘ç”¨æˆ·ç«¯åŒ…ä½“ç§¯
- ç®€åŒ–è·¯ç”±ç»“æ„
- æå‡åŠ è½½æ€§èƒ½

## ğŸ—‘ï¸ å¯ä»¥åˆ é™¤çš„æ–‡ä»¶

### 1. ç®¡ç†ç«¯é¡µé¢

```bash
yxly-frontend/src/pages/admin/           # æ°‘å®¿ç®¡ç†å‘˜é¡µé¢
yxly-frontend/src/pages/super-admin/     # è¶…çº§ç®¡ç†å‘˜é¡µé¢
yxly-frontend/src/pages/dashboard/       # ç®¡ç†ä»ªè¡¨ç›˜
yxly-frontend/src/pages/bookings/        # è®¢å•ç®¡ç†ï¼ˆç®¡ç†å‘˜ç‰ˆï¼‰
yxly-frontend/src/pages/rooms/           # æˆ¿é—´ç®¡ç†ï¼ˆç®¡ç†å‘˜ç‰ˆï¼‰
yxly-frontend/src/pages/merchant/        # å•†æˆ·åŠŸèƒ½
yxly-frontend/src/pages/customers/       # å®¢æˆ·ç®¡ç†
```

**åˆ é™¤å‘½ä»¤ï¼š**
```bash
cd yxly-frontend/src/pages
rmdir /s admin
rmdir /s super-admin
rmdir /s dashboard
rmdir /s bookings
rmdir /s rooms
rmdir /s merchant
rmdir /s customers
```

### 2. ç®¡ç†ç«¯å¸ƒå±€

```bash
yxly-frontend/src/layouts/DefaultLayout.vue
```

**åˆ é™¤å‘½ä»¤ï¼š**
```bash
cd yxly-frontend/src/layouts
del DefaultLayout.vue
```

### 3. ç®¡ç†å‘˜ç™»å½•é¡µ

```bash
yxly-frontend/src/pages/auth/AdminLogin.vue
yxly-frontend/src/pages/auth/MerchantRegister.vue  # æ°‘å®¿ä¸»æ³¨å†Œï¼ˆå¯é€‰ä¿ç•™ï¼‰
```

**å¦‚æœåˆ é™¤æ°‘å®¿ä¸»æ³¨å†Œï¼š**
```bash
cd yxly-frontend/src/pages/auth
del AdminLogin.vue
```

> **å»ºè®®ä¿ç•™** `MerchantRegister.vue`ï¼Œæ–¹ä¾¿æ–°æ°‘å®¿ä¸»æ³¨å†Œ

## ğŸ“ éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

### 1. è·¯ç”±é…ç½® (src/router/index.js)

åˆ é™¤ä»¥ä¸‹è·¯ç”±ï¼š

```javascript
// âŒ åˆ é™¤è¿™äº›è·¯ç”±
const superAdminRoutes = [...]  // ç¬¬212-258è¡Œ
const adminRoutes = [...]       // ç¬¬261-407è¡Œ

// âŒ åˆ é™¤ç®¡ç†å‘˜ç™»å½•è·¯ç”±ï¼ˆç¬¬47-55è¡Œï¼‰
{
  path: '/admin-login',
  name: 'AdminLogin',
  ...
}

// âŒ åˆ é™¤æ°‘å®¿ä¸»æ³¨å†Œè·¯ç”±ï¼ˆå¦‚æœä¸éœ€è¦ï¼‰
{
  path: '/merchant-register',
  name: 'MerchantRegister',
  ...
}
```

ä¿®æ”¹åçš„è·¯ç”±æ³¨å†Œï¼ˆç¬¬411è¡Œï¼‰ï¼š

```javascript
// ä¿®æ”¹å‰
routes: [...constantRoutes, ...userRoutes, ...superAdminRoutes, ...adminRoutes]

// ä¿®æ”¹å
routes: [...constantRoutes, ...userRoutes]
```

åˆ é™¤ç›¸å…³è·¯ç”±å®ˆå«é€»è¾‘ï¼ˆç¬¬468-511è¡Œï¼‰ï¼š

```javascript
// âŒ åˆ é™¤ç®¡ç†å‘˜æƒé™æ£€æŸ¥
// é˜²æ­¢ç®¡ç†å‘˜è§’è‰²è®¿é—®ç”¨æˆ·é¡µé¢
// æ£€æŸ¥è¶…çº§ç®¡ç†å‘˜æƒé™
// æ£€æŸ¥ç®¡ç†å‘˜æƒé™
```

### 2. æ ¹è·¯ç”±é‡å®šå‘ (src/router/index.js)

ç®€åŒ–æ ¹è·¯ç”±ï¼ˆç¬¬82-94è¡Œï¼‰ï¼š

```javascript
// ä¿®æ”¹å‰
{
  path: '/',
  name: 'Root',
  redirect: () => {
    const authStore = useAuthStore()
    const roleCode = authStore.userInfo?.roleCode
    
    if (roleCode === 'SUPER_ADMIN') {
      return '/super-admin/merchants'
    } else if (roleCode === 'HOMESTAY_ADMIN') {
      return '/admin'
    }
    return '/home'
  }
}

// ä¿®æ”¹å
{
  path: '/',
  name: 'Root',
  redirect: '/home'  // ç›´æ¥é‡å®šå‘åˆ°é¦–é¡µ
}
```

### 3. main.js

ç®€åŒ–ç™»å½•åè·³è½¬é€»è¾‘ï¼ˆç¬¬40-46è¡Œï¼‰ï¼š

```javascript
// ä¿®æ”¹å‰
if (currentPath === '/' || currentPath === '/login' || currentPath === '/admin-login') {
  if (authStore.userInfo.userType === 'admin' || authStore.userInfo.roles?.includes('admin')) {
    router.push('/admin')
  } else {
    router.push('/home')
  }
}

// ä¿®æ”¹å
if (currentPath === '/' || currentPath === '/login') {
  router.push('/home')  // ç»Ÿä¸€è·³è½¬åˆ°é¦–é¡µ
}
```

## ğŸ”§ å¯é€‰çš„ API æ¸…ç†

ä»¥ä¸‹ API æ¨¡å—ä»…ä¾›ç®¡ç†ç«¯ä½¿ç”¨ï¼Œå¯ä»¥åˆ é™¤ï¼š

```bash
yxly-frontend/src/api/modules/merchant.js          # å•†æˆ·ç®¡ç†
yxly-frontend/src/api/modules/merchantWithdraw.js  # å•†æˆ·æç°
yxly-frontend/src/api/modules/superAdmin.js        # è¶…çº§ç®¡ç†å‘˜
yxly-frontend/src/api/modules/customer.js          # å®¢æˆ·ç®¡ç†ï¼ˆå¯é€‰ï¼‰
yxly-frontend/src/api/modules/financial.js         # è´¢åŠ¡ç®¡ç†ï¼ˆå¯é€‰ï¼‰
```

**ä¿ç•™çš„ APIï¼š**
```bash
yxly-frontend/src/api/modules/auth.js         # è®¤è¯
yxly-frontend/src/api/modules/user.js         # ç”¨æˆ·
yxly-frontend/src/api/modules/userRoom.js     # ç”¨æˆ·æˆ¿é—´
yxly-frontend/src/api/modules/booking.js      # é¢„è®¢ï¼ˆç”¨æˆ·ç«¯ï¼‰
yxly-frontend/src/api/modules/favorite.js     # æ”¶è—
yxly-frontend/src/api/modules/recharge.js     # å……å€¼
yxly-frontend/src/api/modules/withdraw.js     # æç°
```

## âš ï¸ æ¸…ç†æ³¨æ„äº‹é¡¹

1. **å»ºè®®å…ˆå¤‡ä»½**ï¼šæ¸…ç†å‰å¤åˆ¶æ•´ä¸ª `yxly-frontend` æ–‡ä»¶å¤¹ä½œä¸ºå¤‡ä»½
2. **æµ‹è¯•è¿è¡Œ**ï¼šæ¸…ç†åæµ‹è¯•æ‰€æœ‰ç”¨æˆ·ç«¯åŠŸèƒ½
3. **æ¸è¿›å¼æ¸…ç†**ï¼šå¯ä»¥å…ˆåˆ é™¤é¡µé¢ï¼Œè¿è¡Œæ­£å¸¸åå†åˆ é™¤è·¯ç”±
4. **Git ç‰ˆæœ¬æ§åˆ¶**ï¼šä½¿ç”¨ Git ç®¡ç†ï¼Œä¾¿äºå›æ»š

## ğŸ¯ æ¸…ç†åçš„ç”¨æˆ·ç«¯ç»“æ„

```
yxly-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ modules/
â”‚   â”‚       â”œâ”€â”€ auth.js
â”‚   â”‚       â”œâ”€â”€ user.js
â”‚   â”‚       â”œâ”€â”€ userRoom.js
â”‚   â”‚       â”œâ”€â”€ booking.js
â”‚   â”‚       â”œâ”€â”€ favorite.js
â”‚   â”‚       â”œâ”€â”€ recharge.js
â”‚   â”‚       â””â”€â”€ withdraw.js
â”‚   â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â”œâ”€â”€ UserLayout.vue
â”‚   â”‚   â”œâ”€â”€ UserCenterLayout.vue
â”‚   â”‚   â””â”€â”€ SimpleUserLayout.vue
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ user/              # ç”¨æˆ·é¡µé¢
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ ForgotPassword.vue
â”‚   â”‚   â”‚   â””â”€â”€ MerchantRegister.vue  # (å¯é€‰ä¿ç•™)
â”‚   â”‚   â””â”€â”€ error/
â”‚   â”‚       â””â”€â”€ 404.vue
â”‚   â”œâ”€â”€ router/
â”‚   â”œâ”€â”€ stores/
â”‚   â””â”€â”€ utils/
â””â”€â”€ package.json
```

## ğŸ’¡ å»ºè®®

**æ¨èåšæ³•ï¼š**
1. ç°åœ¨å…ˆä¸æ¸…ç†ï¼Œä¿æŒä¸¤ä¸ªé¡¹ç›®éƒ½èƒ½ç‹¬ç«‹è¿è¡Œ
2. æµ‹è¯•ä¸€æ®µæ—¶é—´ï¼Œç¡®è®¤ç®¡ç†åå°åŠŸèƒ½æ­£å¸¸
3. 1-2å‘¨åå†æ¸…ç†ç”¨æˆ·ç«¯çš„ç®¡ç†ä»£ç 

**å¿«é€Ÿæ¸…ç†ï¼š**
å¦‚æœæƒ³ç«‹å³æ¸…ç†ï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºï¼š
1. åˆ é™¤é¡µé¢æ–‡ä»¶å¤¹ï¼ˆadmin/super-adminç­‰ï¼‰
2. ä¿®æ”¹è·¯ç”±é…ç½®
3. ç®€åŒ– main.js
4. æµ‹è¯•è¿è¡Œ

---

**æç¤ºï¼š** æ¸…ç†ä¸æ˜¯å¿…é¡»çš„ï¼Œå½“å‰çŠ¶æ€å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼
